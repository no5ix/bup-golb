<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if('mmp'){
            let localStoragePasswdKey = 'Java backend syllabus' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== 'mmp') {
                    if (password != null) {
                        // 如果用户点击了确认而且密码错误的时候, 因为当password == null的时候说明用户点了取消
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== 'mmp') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="noodle,Java,NA,Syllabus,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content=". . .">
<meta name="keywords" content="noodle,Java,NA,Syllabus">
<meta property="og:type" content="article">
<meta property="og:title" content="Java backend syllabus">
<meta property="og:url" content="https://hulinhong.com/na_java_backend_syllabus/index.html">
<meta property="og:site_name" content="🚙">
<meta property="og:description" content=". . .">
<meta property="og:locale" content="en">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:updated_time" content="2025-10-15T02:49:27.219Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java backend syllabus">
<meta name="twitter:description" content=". . .">
<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>Java backend syllabus | 🚙</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">🚙</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">💨 💨 💨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">×</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/na_java_backend_syllabus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🚙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java backend syllabus</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-21T04:18:08+00:00">
                02-21-2019
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Noodle/" itemprop="url" rel="index">
                    <span itemprop="name">Noodle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
              
                <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
              
                <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
              
                <a href="/tags/Syllabus/" rel="tag"><i class="fa fa-tag"></i> Syllabus</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/na_mq_notes/" rel="next" title="MQ notes">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  MQ notes
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/na_java_backend_syllabus2/" rel="prev" title="Java backend syllabus without answer">
              <p class="post-nav-pre-next-title">
                  Java backend syllabus without answer
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <p><strong>. . .</strong><a id="more"></a></p>
<ul>
<li><a href="/na_java_backend_syllabus2/" title="Java backend syllabus without answer">Java backend syllabus without answer</a></li>
<li><a href="hulinhong.com/iq">IQ</a></li>
</ul>
<h1 id="Java-Coding-Practice-Summary-before-interview"><a href="#Java-Coding-Practice-Summary-before-interview" class="headerlink" title="Java Coding Practice Summary before interview"></a>Java Coding Practice Summary before interview</h1><ul>
<li>提前准备好一个 Springboot 的IDEA项目</li>
<li>提前准备好一个纯 Java 用来写 algorithm 的IDEA项目</li>
<li>Restful API<ul>
<li><a href="/na_spring_notes/" title="Spring Boot Newbie Notes">Spring Boot Newbie Notes</a> 里面有</li>
</ul>
</li>
<li>Transactional Service<ul>
<li><a href="/na_spring_notes/" title="Spring Boot Newbie Notes">Spring Boot Newbie Notes</a> 里面有</li>
</ul>
</li>
<li>Stream API (那种几行代码就写完的那种array超级简单的题目, 比如什么返回数组里比2大的数字):<ul>
<li><a href="/na_backend_q_top100/" title="Java backend Q top 100">Java backend Q top 100</a> 的第 45 题 (搜 <code>45.</code>)</li>
</ul>
</li>
<li>如何override一个Java类的hashCode和equals<ul>
<li><a href="/na_backend_q_top100/" title="Java backend Q top 100">Java backend Q top 100</a> 的第 118 题 (搜 <code>118.</code>)</li>
</ul>
</li>
</ul>
<h1 id="Contractor-interview-real-Questions"><a href="#Contractor-interview-real-Questions" class="headerlink" title="Contractor interview real Questions"></a>Contractor interview real Questions</h1><a href="/na_contractor_real_q/" title="Contractor interview real Q">Contractor interview real Q</a>
<h1 id="Backend-Questions-Top-100"><a href="#Backend-Questions-Top-100" class="headerlink" title="Backend Questions Top 100"></a>Backend Questions Top 100</h1><a href="/na_backend_q_top100/" title="Java backend Q top 100">Java backend Q top 100</a>
<h1 id="Kafka-amp-RabbitMQ"><a href="#Kafka-amp-RabbitMQ" class="headerlink" title="Kafka &amp; RabbitMQ"></a>Kafka &amp; RabbitMQ</h1><a href="/na_mq_notes/" title="MQ notes">MQ notes</a>
<h1 id="Spring-Newbie-Notes"><a href="#Spring-Newbie-Notes" class="headerlink" title="Spring Newbie Notes"></a>Spring Newbie Notes</h1><a href="/na_spring_notes/" title="Spring Boot Newbie Notes">Spring Boot Newbie Notes</a>
<h1 id="Syllabus"><a href="#Syllabus" class="headerlink" title="Syllabus"></a>Syllabus</h1><table>
<thead>
<tr>
<th>Session</th>
<th>Topic</th>
<th>Detailed Topics</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>JVM STRING FINAL</td>
<td>1. <code>Warm Up</code><br>2. JVM Memory Management<br>3. JVM, JDK, JRE<br>4. Garbage Collection<br>5. String &amp; StringBuilder &amp; StringBuffer<br>6. Final, Finally, <code>Finalize</code><br>7. Immutable class (optional: basic syntax of java)</td>
</tr>
<tr>
<td>2</td>
<td>STATIC OOP</td>
<td>1. Static<br>2. Marker Interface - Serializable, Cloneable<br>3. OOP<br>4. SOLID Principle<br>5. Reflection<br>6. Generics</td>
</tr>
<tr>
<td>3</td>
<td>COLLECTION</td>
<td>1. Array vs ArrayList vs LinkedList<br>2. Set, TreeSet, LinkedHashSet<br>3. Map, LinkedHashMap, ConcurrentHashMap(how it works)<br>4. SynchronizedMap<br>5. Iterator vs Enumeration</td>
</tr>
<tr>
<td>4</td>
<td>EXCEPTION DESIGN PATTERN</td>
<td>1. Design Pattern - Singleton, Factory, Observer, Proxy<br>2. Exception Type - compile, runtime, customized</td>
</tr>
<tr>
<td>5</td>
<td>THREADS</td>
<td>1. MultiThreads Interaction (Synchronized, Atomic, ThreadLocal, Volatile)<br>2. Reentrant Lock<br>3. Executor and ThreadPool, ForkJoinPool<br>4. Future &amp; CompletableFuture<br>5. Runnable vs Callable<br>6. Semaphore vs Mutex</td>
</tr>
<tr>
<td>6</td>
<td>JAVA8,17</td>
<td>1. Java 8: Functional Interface, Lambda, Stream API (map, filter, sorted, groupingBy etc), Optional, Default<br>2. Java 17: Sealed Class, advantage vs limitation, across package</td>
</tr>
<tr>
<td>7</td>
<td>SQL</td>
<td>1. Primary Key, Normalization<br>2. Different type of Joins<br>3. Top asked SQLs - nth highest salary; highest salary each department; employee salary greater than manager<br>4. Introduce of Stored Procedure and Function<br>5. Cluster index vs Non - Cluster - Index<br>6. Explain Plan - what does it do, what can it tell</td>
</tr>
<tr>
<td>8</td>
<td>NOSQL</td>
<td>1. SQL vs NoSQL<br>2. MongoDB vs <code>Cassandra</code> introduction<br>3. ACID vs CAP rules explanation</td>
</tr>
<tr>
<td>9</td>
<td>REST API</td>
<td>1. <code>DispatcherServlet</code><br>2. Rest API<br>3. How to create a good rest api<br>4. Http Error Code: 200, 201, 400, 401, 403, 404, 500, 502, 503, 504<br>5. Introduction of <code>GraphQL</code>, <code>WebSocket</code>, gRPC<br>6. <code>ReactiveJava</code></td>
</tr>
<tr>
<td>10</td>
<td>SPRING CORE</td>
<td>1. IOC/DI<br>2. Bean Scope<br>3. Constructor vs Setter vs Field based injection</td>
</tr>
<tr>
<td>11</td>
<td>SPRING ANNOTATIONS</td>
<td>1. Different spring annotations<br>2. @Controller vs @RestController<br>3. <code>@Qualifier</code>, <code>@Primary</code><br>4. <code>Spring Cache and Retry</code></td>
</tr>
<tr>
<td>12</td>
<td>SPRING BOOT</td>
<td>1. How to create spring boot from Scratch<br>2. Benefit of Spring boot<br>3. Annotation @SpringBootApplication<br>4. AutoConfiguration, how to disable<br>5. <code>Actuator</code></td>
</tr>
<tr>
<td>13</td>
<td>SPRING BOOT2</td>
<td>1. Spring <code>ActiveProfile</code><br>2. AOP<br>3. <code>@ExceptionHandler</code>, <code>@ControllerAdvice</code></td>
</tr>
<tr>
<td>14</td>
<td>DATA ACCESS</td>
<td>1. JDBC, <code>statement vs PreparedStatement</code>, Datasource<br>2. Hibernate ORM, Session, Cache<br>3. Optimistic Locking - add version column<br>4. <code>Association: many - to - many</code></td>
</tr>
<tr>
<td>15</td>
<td>TRANSACTION JPA</td>
<td>1. @Transactional - atomic operation<br>2. Propagation, Isolation<br>3. <code>JPA naming convention</code><br>4. Paging and Sorting Using JPA<br>5. Hibernate Persistence Context</td>
</tr>
<tr>
<td>16</td>
<td>SECURITY</td>
<td>1. How to implement Security by overriding Spring class<br>2. Basic Authentication and password encryption<br>3. JWT Token and workflow<br>4. <code>Oauth2 workflow</code><br>5. <code>Authorization based on User role</code></td>
</tr>
<tr>
<td>17</td>
<td><code>UNIT TEST</code></td>
<td>1. Different Type of Tests in whole project lifecycle<br>2. Unit Test, Mock<br>3. Testing Rest Api with Rest Assured</td>
</tr>
<tr>
<td>18</td>
<td><code>AUTOMATION TEST</code></td>
<td>1. BDD - Cucumber - annotations<br>2. Load Test with JMeter<br>3. Performance tool JProfiler<br>4. AB Test</td>
</tr>
<tr>
<td>19</td>
<td>MICROSERVICE</td>
<td>1. Benefits/Disadvantage of MicroService<br>2. How to split monolithic to microservice<br>3. Circuit Breaker - concept, retry, fallback method<br>4. Load Balancer - concept and algorithms<br>5. API Gateway<br>6. Config Server</td>
</tr>
<tr>
<td>20</td>
<td><code>KAFKA</code></td>
<td>1. Kafka - concepts, how it works and how message is sent to partition<br>2. Consumer Group, assignment strategy<br>3. Message in Order</td>
</tr>
<tr>
<td>21</td>
<td><code>KAFKA2</code></td>
<td>1. Kafka Duplicate Message<br>2. Kafka Message Loss<br>3. Poison Failure, DLQ<br>4. Kafka Security (SASL, ACLs, Encrypt etc)</td>
</tr>
<tr>
<td>22</td>
<td>DISTRIBUTED SYSTEM</td>
<td>1. MicroService: how to communicate between services<br>2. <code>Saga Pattern</code><br>3. <code>Monitoring</code>: Splunk, Grafana, Kabana, CloudWatch etc<br>4. System Design: distributed system</td>
</tr>
<tr>
<td>23</td>
<td>DEVOPS</td>
<td>1. CICD<br>2. Jenkins pipeline with example<br>3. <code>Git Commands</code>: squash, cherry - pick etc<br>4. <code>On - Call: PageDuty etc</code><br>5. How do you solve a production issue with or without log</td>
</tr>
<tr>
<td>24</td>
<td><code>KUBERNETES</code></td>
<td>1. Kubernetes, EKS, WCNP, KubeCtl</td>
</tr>
<tr>
<td>25</td>
<td><code>CLOUD</code></td>
<td>AWS Modules with examples</td>
</tr>
</tbody>
</table>
<h1 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h1><h2 id="pod-vs-node-in-Kubernetes"><a href="#pod-vs-node-in-Kubernetes" class="headerlink" title="pod vs node in Kubernetes"></a>pod vs node in Kubernetes</h2><blockquote>
<p>本文由 <a href="http://ksria.com/simpread/" target="_blank" rel="noopener">简悦 SimpRead</a> 转码， 原文地址 <a href="https://www.cloudzero.com/blog/kubernetes-node-vs-pod/" target="_blank" rel="noopener">www.cloudzero.com</a></p>
<p>Kubernetes pods, nodes, and clusters get mixed up. Here’s a guide for beginners or if you just need t……</p>
</blockquote>
<p>July 19, 2024 , 10 min read</p>
<p>Kubernetes pods, nodes, and clusters get mixed up. Here’s a simple guide for beginners or if you just need to reaffirm your knowledge of Kubernetes components.</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image-1.png" alt="alt text"></p>
<p>Kubernetes is increasingly becoming the standard way to deploy, run, and maintain <a href="https://www.cloudzero.com/blog/cloud-computing-examples" target="_blank" rel="noopener">cloud-native applications</a> that run inside containers. Kubernetes (K8s) automates most container management tasks, empowering engineers to manage high-performing, modern applications at scale.</p>
<p>Meanwhile, several surveys, including those from VMware and Gartner, suggest that inadequate expertise with Kubernetes has held back organizations from fully adopting containerization. So, maybe you’re wondering how Kubernetes components work.</p>
<p>In that case, we’ve put together a bookmarkable guide on pods, nodes, clusters, and more. Let’s dive right in, starting with the very reason Kubernetes exists; containers.</p>
<h3 id="Quick-Summary"><a href="#Quick-Summary" class="headerlink" title="Quick Summary"></a>Quick Summary</h3><table><tbody><tr><td>&nbsp;</td><td><p><strong>Pod</strong></p></td><td><p><strong>Node</strong></p></td><td><p><strong>Cluster</strong></p></td></tr><tr><td><p><strong>Description</strong></p></td><td><p>The smallest deployable unit in a Kubernetes cluster</p></td><td><p>A physical or virtual machine</p></td><td><p>A grouping of multiple nodes in a <a href="https://www.cloudzero.com/blog/kubernetes-tools/" target="_blank" rel="noopener">Kubernetes environment</a></p></td></tr><tr><td><p><strong>Role</strong></p></td><td><p>Isolates containers from underlying servers to boost portability</p><p>Provides the resources and instructions for how to run containers optimally</p></td><td><p>Provides the compute resources (CPU, volumes, etc) to run containerized apps</p></td><td><p>Has the control plane to orchestrate containerized apps through nodes and pods</p></td></tr><tr><td><p><strong>What it hosts</strong></p></td><td><p>Application containers, supporting volumes, and similar IP addresses for logically similar containers</p></td><td><p>Pods with application containers inside them, kubelet</p></td><td><p>Nodes containing the pods that host the application containers, control plane, kube-proxy, etc</p></td></tr></tbody></table> 



<h3 id="What-Is-A-Container"><a href="#What-Is-A-Container" class="headerlink" title="What Is A Container?"></a>What Is A Container?</h3><p>In software engineering, a container is an executable unit of software that packages and runs an entire application, or portions of it, within itself.</p>
<p><a href="https://www.cloudzero.com/blog/container-orchestration#what-is-a-container" target="_blank" rel="noopener">Containers</a> comprise not only the application’s binary files, but also libraries, runtimes, configuration files, and any other dependencies that the application requires to run optimally. Talk about self-sufficiency.</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image-2.png" alt="alt text"></p>
<p><strong><em>Credit:</em></strong> <a href="https://www.atlassian.com/microservices/cloud-computing/containers-vs-vms" target="_blank" rel="noopener"><em>Containers vs virtual machine architectures</em></a></p>
<p><strong>This design enables a container to be an entire application runtime environment unto itself.</strong></p>
<p>As a result, a container isolates the application it hosts from the external environment it runs on. This enables applications running in containers to be built in one environment and deployed in different environments without compatibility problems.</p>
<p>Also, because containers share resources and do not host their own operating system, they are leaner than virtual machines (VMs). This makes deploying containerized applications much quicker and more efficient than on contemporary virtual machines.</p>
<h3 id="What-Is-A-Containerized-Application"><a href="#What-Is-A-Containerized-Application" class="headerlink" title="What Is A Containerized Application?"></a>What Is A Containerized Application?</h3><p><a href="https://www.cloudzero.com/blog/types-of-cloud-computing" target="_blank" rel="noopener">In cloud computing</a>, a containerized application refers to an app that has been specially built using cloud-native architecture for running within containers. A container can either host an entire application or small, distributed portions of it (which are <a href="https://www.cloudzero.com/blog/container-orchestration#containers-vs-microservices" target="_blank" rel="noopener">known as microservices</a>).</p>
<p><a href="https://www.cloudzero.com/blog/devops-statistics" target="_blank" rel="noopener">Developing, packaging, and deploying applications</a> in containers is referred to as containerization. Apps that are containerized can run in a variety of environments and devices without causing compatibility problems.</p>
<p>One more thing. Developers can isolate faulty containers and fix them independently before they affect the rest of the application or cause downtime. This is something that is extremely tricky to do with traditional monolithic applications.</p>
<h3 id="What-Is-A-Kubernetes-Pod"><a href="#What-Is-A-Kubernetes-Pod" class="headerlink" title="What Is A Kubernetes Pod?"></a>What Is A Kubernetes Pod?</h3><p><a href="https://kubernetes.io/docs/concepts/workloads/pods/" target="_blank" rel="noopener">A Kubernetes pod</a> is a collection of one or more application containers.</p>
<p>The pod is an additional level of abstraction that provides shared storage (volumes), IP address, communication between containers, and hosts other information about how to run application containers. Check this out:</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image-3.png" alt="alt text"><br>Credit: <em>Kubernetes Pods architecture by <a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes.io</a></em></p>
<p><strong>So, containers do not run directly on virtual machines and pods are a way to turn containers on and off.</strong></p>
<p>Containers that must communicate directly to function are housed in the same pod. These containers are also co-scheduled because they work within a similar context. Also, the shared storage volumes enable pods to last through container restarts because they provide persistent data.</p>
<p>Kubernetes also scales or replicates the number of pods up and down to meet changing load/traffic/demand/performance requirements. Similar pods scale together.</p>
<p>Another unique feature of Kubernetes is that rather than creating containers directly, it generates pods that already have containers.</p>
<p>Also, whenever you create a K8s pod, the platform automatically schedules it to run on a Node. This pod will remain active until the specific process completes, resources to support the pod run out, the pod object is removed, or the host node terminates or fails.</p>
<p>Each pod runs inside a Kubernetes node, and each pod can fail over to another, logically similar pod running on a different node in case of failure. And speaking of Kubernetes nodes.</p>
<h3 id="What-Is-A-Kubernetes-Node"><a href="#What-Is-A-Kubernetes-Node" class="headerlink" title="What Is A Kubernetes Node?"></a>What Is A Kubernetes Node?</h3><p>A Kubernetes node is either a virtual or physical machine that one or more Kubernetes pods run on. It is a worker machine that contains the necessary services to run pods, including the CPU and memory resources they need to run.</p>
<p>Now, picture this:</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image-4.png" alt="alt text"></p>
<p><em><strong>Credit:</strong> How Kubernetes Nodes work by <a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes.io</a></em></p>
<p>Each node also comprises three crucial components:</p>
<ul>
<li><strong>Kubelet</strong> – This is an agent that runs inside each node to ensure pods are running properly, including communications between the Master and nodes.</li>
<li><strong>Container runtime</strong> – This is the software that runs containers. It manages individual containers, including retrieving container images from repositories or registries, unpacking them, and running the application.</li>
<li><strong>Kube-proxy</strong> – This is a network proxy that runs inside each node, managing the networking rules within the node (between its pods) and across the entire Kubernetes cluster.</li>
</ul>
<p>Here’s what a Cluster is in Kubernetes.</p>
<h3 id="What-Is-A-Kubernetes-Cluster"><a href="#What-Is-A-Kubernetes-Cluster" class="headerlink" title="What Is A Kubernetes Cluster?"></a>What Is A Kubernetes Cluster?</h3><p>-</p>
<p>Nodes usually work together in groups. A Kubernetes cluster contains a set of work machines (nodes). The cluster automatically distributes workload among its nodes, enabling seamless scaling.</p>
<p>Here’s that symbiotic relationship again.</p>
<p><strong>A cluster consists of several nodes.</strong> The node provides the compute power to run the setup. It can be a virtual machine or a physical machine. A single node can run one or more pods.</p>
<p>Each pod contains one or more containers. A container hosts the application code and all the dependencies the app requires to run properly.</p>
<p>Something else. The cluster also comprises the Kubernetes Control Plane (or Master), which manages each node within it. The control plane is a container orchestration layer where K8s exposes the API and interfaces for defining, deploying, and managing containers’ lifecycles.</p>
<p>The master assesses each node and distributes workloads according to available nodes. This load balancing is automatic, ensures efficiency in performance, and is one of the most popular features of Kubernetes as a container management platform.</p>
<p>You can also run the Kubernetes cluster on different providers’ platforms, such as Amazon’s Elastic Kubernetes Service (EKS), Microsoft’s Azure Kubernetes Service (AKS), or the Google Kubernetes Engine (GKE).</p>
<h3 id="Take-The-Next-Step-View-Track-And-Control-Your-Kubernetes-Costs-With-Confidence"><a href="#Take-The-Next-Step-View-Track-And-Control-Your-Kubernetes-Costs-With-Confidence" class="headerlink" title="Take The Next Step: View, Track, And Control Your Kubernetes Costs With Confidence"></a>Take The Next Step: View, Track, And Control Your Kubernetes Costs With Confidence</h3><p>Open-source, highly scalable, and self-healing, Kubernetes is a powerful platform for managing containerized applications. But as Kubernetes components scale to support business growth, Kubernetes cost management tends to get blindsided.</p>
<p>Most cost tools only display your total cloud costs, not how Kubernetes containers contributed. With CloudZero, you can view Kubernetes costs down to the hour as well as by K8s concepts such as, cost per pod, container, microservice, namespace, and cluster costs.</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image-5.png" alt="alt text"></p>
<p>By drilling down to this level of granularity, you are able to find out what people, products, and processes are driving your Kubernetes spending.</p>
<p>You can also combine your containerized and non-containerized costs to simplify your analysis. CloudZero enables you to understand your Kubernetes costs alongside your AWS, Azure, Google Cloud, <a href="https://www.cloudzero.com/blog/snowflake-cost-optimization/" target="_blank" rel="noopener">Snowflake</a>, Databricks, MongoDB, and New Relic spend. Getting the full picture.</p>
<p>You can then decide what to do next to optimize the cost of your containerized applications without compromising performance. CloudZero will even alert you when cost anomalies occurs before you overspend.</p>
<p> to see these CloudZero Kubernetes Cost Analysis capabilities and more!</p>
<h3 id="Kubernetes-FAQ"><a href="#Kubernetes-FAQ" class="headerlink" title="Kubernetes FAQ"></a>Kubernetes FAQ</h3><h4 id="Is-a-Kubernetes-Pod-a-Container"><a href="#Is-a-Kubernetes-Pod-a-Container" class="headerlink" title="Is a Kubernetes Pod a Container?"></a>Is a Kubernetes Pod a Container?</h4><p>Yes, a Kubernetes pod is a group of one or more containers that share storage and networking resources. Pods are the smallest deployable units in Kubernetes and manage containers collectively, allowing them to run in a shared context with shared namespaces.</p>
<h4 id="What-is-the-difference-between-container-node-and-pod"><a href="#What-is-the-difference-between-container-node-and-pod" class="headerlink" title="What is the difference between container node and pod?"></a>What is the difference between container node and pod?</h4><p>A node is a worker machine in Kubernetes, part of a cluster, that runs containers and other Kubernetes components. A pod, on the other hand, is a higher-level abstraction that encapsulates one or more containers and their shared resources, managed collectively within a node.</p>
<h4 id="Can-a-pod-have-multiple-containers"><a href="#Can-a-pod-have-multiple-containers" class="headerlink" title="Can a pod have multiple containers?"></a>Can a pod have multiple containers?</h4><p>Yes, a Kubernetes pod can have multiple containers. Pods are designed to encapsulate closely coupled containers that need to share resources and communicate with each other over localhost. This approach facilitates running multiple containers within the same pod while treating them as a cohesive unit for scheduling, scaling, and management within the Kubernetes cluster.</p>
<h4 id="How-many-pods-run-on-a-node"><a href="#How-many-pods-run-on-a-node" class="headerlink" title="How many pods run on a node?"></a>How many pods run on a node?</h4><p>The number of Kubernetes pods that can run on a node depends on various factors such as the node’s resources (CPU, memory, etc.), the resource requests and limits set by the pods, and any other applications or system processes running on the node. </p>
<p>Generally, a node can run multiple pods, and the Kubernetes scheduler determines pod placement based on available resources and scheduling policies defined in the cluster configuration.</p>
<h1 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h1><ul>
<li><strong>How to implement Security by overriding Spring class</strong><ul>
<li>You can implement security in a Spring application by overriding certain Spring security classes. For example, you can extend <code>WebSecurityConfigurerAdapter</code> </li>
<li>and override methods like <code>configure(HttpSecurity http)</code> to define custom security configurations such as access rules, authentication mechanisms, etc. </li>
<li>You can also override other classes like <code>UserDetailsService</code> to provide custom user authentication and authorization logic.</li>
</ul>
</li>
<li><strong>Basic Authentication and password encryption</strong><ul>
<li>Basic authentication is a simple authentication mechanism where the client sends the username and password in the request headers. </li>
<li>In Spring, it can be configured easily. Password encryption is crucial for security. </li>
<li>Spring provides various password encoding mechanisms like <code>BCryptPasswordEncoder</code> to securely hash and store passwords. </li>
<li>When a user registers or changes their password, the password is encrypted and stored in the database, and during authentication, the provided password is encrypted and <strong>compared</strong> with the stored <strong>hash</strong>.</li>
</ul>
</li>
<li><strong>JWT Token and workflow</strong><ul>
<li><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/noodle_plan/http/jwt1.png" alt></li>
<li>JSON Web Token (<code>JWT</code>) is a widely used token-based authentication and authorization mechanism.</li>
<li>The workflow typically involves<ul>
<li>the client sending username and password to the server for authentication. </li>
<li>If the authentication is successful, the server generates a <code>JWT</code> token containing user information as <code>payload</code> and a <code>signature</code>.<ul>
<li>The client then stores the token and sends it in the <code>headers</code> of subsequent requests.</li>
<li>The server validates the token on each request and authorizes the user based on the information in the token.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Oauth2 workflow</strong><ul>
<li>OAuth2 is an authorization framework that allows users to grant limited access to their resources on one server to another server without sharing their credentials. </li>
<li>The typical OAuth2 workflow involves steps like<ul>
<li>the client redirecting the user to the authorization server for authentication and authorization, </li>
<li>the user granting permission, the authorization server issuing an access token, </li>
<li>and the client using the access token to access protected resources on the resource server.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Authorization based on User role</strong><ul>
<li>In a Spring security application, authorization based on user roles can be implemented by assigning different roles to users and configuring access rules based on those roles.</li>
<li>You can use annotations like <code>@PreAuthorize</code> or configure access rules in the security configuration to specify which roles are allowed to access which resources or perform which operations. </li>
<li>For example, you can define that only users with the <code>ROLE_ADMIN</code> role can access certain administrative endpoints.</li>
</ul>
</li>
<li><strong>What is XSS attack and how to prevent it?</strong><ul>
<li>XSS (Cross-Site Scripting) is a vulnerability where an attacker injects malicious scripts into a website.<br>These scripts run on users’ browsers, allowing attackers to steal data or perform actions on behalf of the user.</li>
<li>To prevent XSS, you should:<ul>
<li>Sanitize and escape user input.</li>
<li>Use Content Security Policy (CSP).</li>
<li>Set HttpOnly and Secure flags for cookies.</li>
<li>Avoid inserting user input directly into the HTML without validation.</li>
</ul>
</li>
</ul>
</li>
<li><strong>What is CSRF attack and how to prevent it?</strong><ul>
<li>CSRF (Cross-Site Request Forgery) is an attack where an attacker tricks a user into making unwanted requests to a website on which they are authenticated.<br>This can result in unauthorized actions, such as changing account settings or making purchases.</li>
<li>To prevent CSRF, you should:<ul>
<li>Use anti-CSRF tokens in forms.</li>
<li>Implement SameSite cookie attributes.</li>
<li>Ensure that sensitive actions require additional authentication (like a CAPTCHA).</li>
<li>Check the <code>Referer</code> header to validate requests.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Authorization-based-on-User-role-using-Spring-Security"><a href="#Authorization-based-on-User-role-using-Spring-Security" class="headerlink" title="Authorization based on User role using Spring Security"></a>Authorization based on User role using Spring Security</h2><p>In <strong>Spring Security</strong>, you can implement <strong>role-based authorization</strong> by assigning roles to users and restricting access to certain endpoints or methods based on those roles.</p>
<h3 id="Step-by-Step-Role-Based-Authorization-in-Spring"><a href="#Step-by-Step-Role-Based-Authorization-in-Spring" class="headerlink" title="Step-by-Step: Role-Based Authorization in Spring"></a>Step-by-Step: Role-Based Authorization in Spring</h3><h4 id="1-Assign-Roles-to-Users"><a href="#1-Assign-Roles-to-Users" class="headerlink" title="1. Assign Roles to Users"></a>1. <strong>Assign Roles to Users</strong></h4><p>Typically in your <code>UserDetailsService</code> implementation or user entity:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> User(</span><br><span class="line">        <span class="string">"admin"</span>, </span><br><span class="line">        <span class="string">"&#123;noop&#125;password"</span>, </span><br><span class="line">        List.of(<span class="keyword">new</span> SimpleGrantedAuthority(<span class="string">"ROLE_ADMIN"</span>))</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>⚠️ Prefix roles with <code>ROLE_</code> — it’s required by Spring Security.</p>
</blockquote>
<h4 id="2-Secure-Endpoints-Based-on-Role"><a href="#2-Secure-Endpoints-Based-on-Role" class="headerlink" title="2. Secure Endpoints Based on Role"></a>2. <strong>Secure Endpoints Based on Role</strong></h4><h5 id="Using-HttpSecurity-in-a-SecurityConfig-class"><a href="#Using-HttpSecurity-in-a-SecurityConfig-class" class="headerlink" title="Using HttpSecurity in a SecurityConfig class:"></a>Using <code>HttpSecurity</code> in a <code>SecurityConfig</code> class:</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http</span><br><span class="line">        .authorizeHttpRequests()</span><br><span class="line">            .requestMatchers(<span class="string">"/admin/**"</span>).hasRole(<span class="string">"ADMIN"</span>)</span><br><span class="line">            .requestMatchers(<span class="string">"/user/**"</span>).hasAnyRole(<span class="string">"USER"</span>, <span class="string">"ADMIN"</span>)</span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">        .and()</span><br><span class="line">            .formLogin();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-Method-Level-Authorization-Optional"><a href="#3-Method-Level-Authorization-Optional" class="headerlink" title="3. Method-Level Authorization (Optional)"></a>3. <strong>Method-Level Authorization (Optional)</strong></h4><p>Use annotations with <code>@EnableMethodSecurity</code>:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PreAuthorize</span>(<span class="string">"hasRole('ADMIN')"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">adminOnlyOperation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// only admins can call this</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><table>
<thead>
<tr>
<th>Component</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SimpleGrantedAuthority</code></td>
<td>Assign roles to user</td>
</tr>
<tr>
<td><code>hasRole(&quot;ROLE_NAME&quot;)</code></td>
<td>Protect endpoints/methods by role</td>
</tr>
<tr>
<td><code>@PreAuthorize</code></td>
<td>Method-level security (optional)</td>
</tr>
<tr>
<td><code>SecurityFilterChain</code></td>
<td>Define path-based access control</td>
</tr>
</tbody>
</table>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><p><strong>XSS (Cross-Site Scripting)</strong> is a type of security vulnerability where an attacker injects <strong>malicious scripts</strong> into trusted websites. When a user visits the site, the script runs in their browser, potentially stealing cookies, session tokens, or sensitive data.</p>
<h3 id="Types-of-XSS"><a href="#Types-of-XSS" class="headerlink" title="Types of XSS"></a>Types of XSS</h3><table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Stored XSS</strong></td>
<td>Malicious script is <strong>permanently stored</strong> on the server (e.g., in a database or comment).</td>
</tr>
<tr>
<td><strong>Reflected XSS</strong></td>
<td>Script is <strong>immediately returned</strong> by the server (e.g., in URL parameters).</td>
</tr>
<tr>
<td><strong>DOM-based XSS</strong></td>
<td>Script is injected via client-side JavaScript manipulation, without server interaction.</td>
</tr>
</tbody>
</table>
<h3 id="Example-of-XSS"><a href="#Example-of-XSS" class="headerlink" title="Example of XSS"></a>Example of XSS</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">function escape(s) &#123;</span><br><span class="line">  return '<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">console</span>.log(<span class="string">"'+s+'"</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>';</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果输入的 <code>s</code> 为 <code>&quot;);alert(1);// ,</code>则将 <code>return &lt;script&gt;console.log(&quot;&quot;);alert(1);//&quot;);&lt;/script&gt;</code> , 这就会弹出警告窗口 <code>alert(1)</code> 这就是恶意脚本注入</p>
<h3 id="How-to-Prevent-XSS"><a href="#How-to-Prevent-XSS" class="headerlink" title="How to Prevent XSS"></a>How to Prevent XSS</h3><h4 id="1-Escape-Output"><a href="#1-Escape-Output" class="headerlink" title="1. Escape Output"></a>1. <strong>Escape Output</strong></h4><ul>
<li>Always escape user input before injecting it into HTML, JS, or attributes.</li>
<li>Use libraries like DOMPurify (for HTML) or encoding functions (<code>encodeURIComponent</code>, etc).</li>
</ul>
<h4 id="2-Use-Safe-APIs"><a href="#2-Use-Safe-APIs" class="headerlink" title="2. Use Safe APIs"></a>2. <strong>Use Safe APIs</strong></h4><ul>
<li>Prefer <code>textContent</code>, <code>createTextNode</code> over <code>innerHTML</code>.</li>
</ul>
<h4 id="3-Validate-Input"><a href="#3-Validate-Input" class="headerlink" title="3. Validate Input"></a>3. <strong>Validate Input</strong></h4><ul>
<li>Use server-side and client-side validation to restrict allowed content.</li>
</ul>
<h4 id="4-Use-Content-Security-Policy-CSP"><a href="#4-Use-Content-Security-Policy-CSP" class="headerlink" title="4. Use Content Security Policy (CSP)"></a>4. <strong>Use Content Security Policy (CSP)</strong></h4><ul>
<li>Prevents execution of inline scripts or loading from untrusted sources.</li>
</ul>
<h4 id="5-Sanitize-User-Input"><a href="#5-Sanitize-User-Input" class="headerlink" title="5. Sanitize User Input"></a>5. <strong>Sanitize User Input</strong></h4><ul>
<li>Strip or neutralize dangerous code via input sanitization libraries (e.g., DOMPurify).</li>
</ul>
<h3 id="Summary-1"><a href="#Summary-1" class="headerlink" title="Summary"></a>Summary</h3><blockquote>
<p>XSS exploits trust between users and websites.<br>Defense = <strong>sanitize, escape, validate</strong>, and use <strong>secure APIs</strong>.</p>
</blockquote>
<h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><p>CSRF（Cross-Site Request Forgery），即跨站请求伪造，是一种常见的网络攻击方式。下面为你详细解释 CSRF 但不涉及本项目代码：</p>
<h3 id="和JWT的关系"><a href="#和JWT的关系" class="headerlink" title="和JWT的关系"></a>和JWT的关系</h3><p>在某些情况下，比如使用无状态的 RESTful API（如使用 JWT 进行身份验证，是无状态的），可以考虑禁用 CSRF 防护，因为 JWT 本身已经提供了一定的安全性，且 RESTful API 通常通过其他方式（如令牌验证）来确保请求的合法性。</p>
<p>但在一些有状态的应用中，如传统的基于会话的 Web 应用，通常需要开启 CSRF 防护</p>
<h3 id="攻击原理"><a href="#攻击原理" class="headerlink" title="攻击原理"></a>攻击原理</h3><ol>
<li><strong>用户认证</strong>：用户在访问某个受信任的网站 A 时，进行了登录操作，网站 A 会在用户的浏览器中保存用户的认证信息，比如会话 <strong>Cookie</strong> 。</li>
<li><strong>恶意网站诱导</strong>：攻击者构建一个恶意网站 B，当用户在访问恶意网站 B 时，网站 B 会利用一些手段（比如自动提交表单等）向受信任的网站 A 发送一个请求。由于用户的浏览器中保存了网站 A 的认证信息，这个请求会携带用户的认证信息（如 Cookie）发送到网站 A。</li>
<li><strong>网站 A 处理请求</strong>：网站 A 收到请求后，因为请求中包含了用户的合法认证信息，会误以为是用户自己发起的请求，从而执行相应的操作，比如修改用户的密码、转账等。</li>
</ol>
<h3 id="常见的攻击场景"><a href="#常见的攻击场景" class="headerlink" title="常见的攻击场景"></a>常见的攻击场景</h3><ul>
<li><strong>自动提交表单</strong>：恶意网站包含一个隐藏的表单，表单的 action 属性指向受信任网站的某个敏感操作接口，当用户访问恶意网站时，表单会自动提交，从而触发对受信任网站的攻击请求。</li>
<li><strong>图片标签攻击</strong>：攻击者在恶意网站中使用 <code>&lt;img&gt;</code> 标签，将其 <code>src</code> 属性设置为受信任网站的某个敏感操作接口，当用户访问恶意网站时，浏览器会自动请求该图片，从而触发对受信任网站的攻击请求。</li>
</ul>
<h3 id="防范措施"><a href="#防范措施" class="headerlink" title="防范措施"></a>防范措施</h3><ol>
<li><p><strong>使用 CSRF Token</strong></p>
<ul>
<li>原理：服务器在生成页面时，会为每个用户的请求生成一个唯一的 <code>CSRF Token</code>，并将其嵌入到页面中（比如作为隐藏表单字段或者请求头）。当用户提交表单或者发送请求时，必须携带这个 <code>CSRF Token</code>。服务器在接收到请求时，会验证请求中的 <code>CSRF Token</code> 是否与服务器生成的一致，如果不一致则拒绝请求。</li>
<li>示例：在表单中添加 <code>CSRF Token</code>：<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/transfer"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"csrf_token"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; csrf_token &#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 其他表单字段 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Transfer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>检查请求的 <code>Referer</code> 头</strong></p>
<ul>
<li>原理：服务器在接收到请求时，检查请求的 <code>Referer</code> 头，确保请求是从本网站的页面发起的。如果 <code>Referer</code> 头为空或者指向其他域名，则拒绝请求。</li>
<li>缺点：<code>Referer</code> 头可以被篡改，并且有些用户可能会禁用 <code>Referer</code> 头，因此这种方法不是非常可靠，通常作为辅助手段使用。</li>
</ul>
</li>
<li><strong>使用 SameSite Cookie 属性</strong><ul>
<li>原理：SameSite 是一个 Cookie 属性，用于控制 Cookie 在跨站请求时的发送行为。可以将 <strong>Cookie 的</strong> <code>SameSite</code> 属性设置为 <code>Strict</code> 或 <code>Lax</code>。<code>Strict</code> 表示 Cookie 只能在同一站点的请求中发送，<code>Lax</code> 表示 Cookie 可以在一些安全的跨站请求（如 GET 请求）中发送。</li>
<li>示例：在设置 Cookie 时添加 <code>SameSite</code> 属性：<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java 示例</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"session_id"</span>, <span class="string">"123456"</span>);</span><br><span class="line">cookie.setSameSite(<span class="string">"Strict"</span>);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<p>总之，CSRF 是一种严重的安全威胁，开发人员在开发 Web 应用时需要采取有效的防范措施来保护用户的信息安全。</p>
<h2 id="SSL-3-ways-handshake"><a href="#SSL-3-ways-handshake" class="headerlink" title="SSL 3 ways handshake"></a>SSL 3 ways handshake</h2><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="../img/na_contractor_java_backend_real_interview_questions/image.png" alt="alt text"></p>
<p>It goes roughly as follows:</p>
<ol>
<li><strong>The ‘client hello’ message</strong>: The client initiates the handshake by sending a “hello” message to the server. The message will include which TLS version the client supports, the cipher suites supported, and a string of random bytes known as the “client random.”</li>
<li><strong>The ‘server hello’ message</strong>: In reply to the client hello message, the server sends a message containing the server’s SSL certificate, the server’s chosen cipher suite, and the “server random,” another random string of bytes that’s generated by the server.</li>
<li><strong>Authentication</strong>: The client verifies the server’s SSL certificate with the certificate authority that issued it. This confirms that the server is who it says it is, and that the client is interacting with the actual owner of the domain.</li>
<li><strong>The premaster secret</strong>: The client sends one more random string of bytes, the “premaster secret.” The premaster secret is encrypted with the public key and can only be decrypted with the private key by the server. (The client gets the public key from the server’s SSL certificate.)</li>
<li><strong>Private key used</strong>: The server decrypts the premaster secret.</li>
<li><strong>Session keys created</strong>: Both client and server generate session keys from the client random, the server random, and the premaster secret. They should arrive at the same results.</li>
<li><strong>Client is ready</strong>: The client sends a “finished” message that is encrypted with a session key.</li>
<li><strong>Server is ready</strong>: The server sends a “finished” message encrypted with a session key.</li>
<li><strong>Secure symmetric encryption achieved</strong>: The handshake is completed, and communication continues using the session keys.</li>
</ol>
<h1 id="REST-API"><a href="#REST-API" class="headerlink" title="REST API"></a>REST API</h1><h2 id="RESTful-API-Versioning-Strategy"><a href="#RESTful-API-Versioning-Strategy" class="headerlink" title="RESTful API Versioning Strategy"></a>RESTful API Versioning Strategy</h2><p>I’ve implemented API versioning to ensure backward compatibility as the API evolves. The primary goal is to allow clients to continue using old versions while new features or changes are introduced in newer versions.</p>
<p>Common strategies I’ve used:</p>
<p><strong>1. URI Path Versioning (most common in my experience)</strong></p>
<ul>
<li>Example: <code>GET /api/v1/users</code></li>
<li>Pros: Easy to implement, clear version separation.</li>
<li>Cons: Breaks RESTful resource URIs; not as flexible for granular versioning.</li>
</ul>
<p><strong>2. Header Versioning (for internal or advanced clients)</strong></p>
<ul>
<li>Example: <code>GET /users</code> with header <code>API-Version: 2</code></li>
<li>Pros: Keeps URIs clean; supports gradual version rollouts.</li>
<li>Cons: Harder to test/debug; tooling may not support.</li>
</ul>
<p><strong>3. Query Parameter Versioning (used sparingly)</strong></p>
<ul>
<li>Example: <code>GET /users?version=2</code></li>
<li>Pros: Simple to implement.</li>
<li>Cons: Can be misused; not ideal for long-term versioning.</li>
</ul>
<hr>
<p><strong>Strategy Considerations:</strong></p>
<ul>
<li>I use <strong>URI path versioning</strong> for public APIs where clarity and long-term support matter most.</li>
<li>For <strong>internal or mobile clients</strong>, I prefer <strong>header versioning</strong> to avoid breaking changes and allow A/B testing.</li>
<li>I always maintain <strong>proper documentation</strong> for each version and use <strong>semantic versioning</strong> principles where feasible (major changes require a new version).</li>
</ul>
<hr>
<h3 id="URI-path-versioning-example"><a href="#URI-path-versioning-example" class="headerlink" title="URI path versioning example"></a>URI path versioning example</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/v1/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControllerV1</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDto&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// v1 logic here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/v2/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControllerV2</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDtoV2&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// v2 logic here, maybe includes additional fields</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This isolates version logic cleanly and allows parallel support.</p>
<h3 id="Header-Based-API-Versioning-Example"><a href="#Header-Based-API-Versioning-Example" class="headerlink" title="Header-Based API Versioning Example"></a>Header-Based API Versioning Example</h3><p>This approach uses <code>@RequestMapping</code> conditions to route based on custom headers, typically like <code>API-Version: 1</code>.</p>
<p>Controller Implementation:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(headers = <span class="string">"API-Version=1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDto&gt; <span class="title">getUsersV1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Return basic user info (v1)</span></span><br><span class="line">        <span class="keyword">return</span> List.of(<span class="keyword">new</span> UserDto(<span class="string">"Alice"</span>, <span class="string">"alice@example.com"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(headers = <span class="string">"API-Version=2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDtoV2&gt; <span class="title">getUsersV2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Return extended user info (v2)</span></span><br><span class="line">        <span class="keyword">return</span> List.of(<span class="keyword">new</span> UserDtoV2(<span class="string">"Alice"</span>, <span class="string">"alice@example.com"</span>, <span class="string">"California"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DTO Classes:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDto</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="comment">// constructor, getters, setters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDtoV2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String location;</span><br><span class="line">    <span class="comment">// constructor, getters, setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>Client Request Examples:</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">GET /api/users</span><br><span class="line"><span class="attribute">API-Version</span>: 1</span><br></pre></td></tr></table></figure>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">GET /api/users</span><br><span class="line"><span class="attribute">API-Version</span>: 2</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>Pros of Header-Based Versioning:</strong></p>
<ul>
<li>Keeps the endpoint clean (<code>/api/users</code>)</li>
<li>Allows smooth version rollout</li>
<li>Compatible with gateway-based version negotiation</li>
</ul>
<hr>
<p><strong>Caveat:</strong> Requires clients to be aware of and explicitly set headers, which may complicate browser-based calls or debugging.</p>
<h3 id="header-based-API-versioning-using-Spring-Cloud-Gateway"><a href="#header-based-API-versioning-using-Spring-Cloud-Gateway" class="headerlink" title="header-based API versioning using Spring Cloud Gateway"></a>header-based API versioning using Spring Cloud Gateway</h3><p>Here is a practical example of implementing <strong>header-based API versioning using Spring Cloud Gateway</strong> alongside Spring Boot controllers to route requests based on the <code>API-Version</code> header.</p>
<hr>
<p>Spring Cloud Gateway Configuration (application.yml)</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  cloud:</span></span><br><span class="line"><span class="attr">    gateway:</span></span><br><span class="line"><span class="attr">      routes:</span></span><br><span class="line"><span class="attr">        - id:</span> <span class="string">user-service-v1</span></span><br><span class="line"><span class="attr">          uri:</span> <span class="attr">http://localhost:8081</span></span><br><span class="line"><span class="attr">          predicates:</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">Path=/api/users/**</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">Header=API-Version,</span> <span class="number">1</span></span><br><span class="line"><span class="attr">        - id:</span> <span class="string">user-service-v2</span></span><br><span class="line"><span class="attr">          uri:</span> <span class="attr">http://localhost:8082</span></span><br><span class="line"><span class="attr">          predicates:</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">Path=/api/users/**</span></span><br><span class="line"><span class="bullet">            -</span> <span class="string">Header=API-Version,</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Requests with header <code>API-Version: 1</code> route to backend service on port 8081 (v1).</li>
<li>Requests with header <code>API-Version: 2</code> route to backend service on port 8082 (v2).</li>
</ul>
<hr>
<p>Spring Boot User Service V1 (running on port 8081)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControllerV1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDto&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> List.of(<span class="keyword">new</span> UserDto(<span class="string">"Alice"</span>, <span class="string">"alice@example.com"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDto</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="comment">// constructor, getters, setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>Spring Boot User Service V2 (running on port 8082)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserControllerV2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDtoV2&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> List.of(<span class="keyword">new</span> UserDtoV2(<span class="string">"Alice"</span>, <span class="string">"alice@example.com"</span>, <span class="string">"California"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDtoV2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String location;</span><br><span class="line">    <span class="comment">// constructor, getters, setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Summary-2"><a href="#Summary-2" class="headerlink" title="Summary"></a>Summary</h3><ul>
<li><strong>Gateway routes requests based on <code>API-Version</code> header</strong> to different backend versions.</li>
<li><strong>Backend services implement respective API versions independently</strong>.</li>
<li>This enables seamless <strong>side-by-side deployment and independent scaling</strong>.</li>
<li>Clients specify version by setting the <code>API-Version</code> HTTP header.</li>
</ul>
<hr>
<h2 id="DispatcherServlet"><a href="#DispatcherServlet" class="headerlink" title="DispatcherServlet"></a>DispatcherServlet</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p><code>DispatcherServlet</code> is a key component in the Spring Web MVC framework. It serves as the front - controller in a Spring - based web application. A front - controller is a single servlet that receives all HTTP requests and then dispatches them to the appropriate handlers (controllers) based on the request’s URL, HTTP method, and other criteria.</p>
<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul>
<li><strong>Request Routing</strong>: It maps incoming requests to the appropriate <code>@Controller</code> classes and their methods using the configured handler mappings. For example, it can match a request to a specific controller method based on the URL pattern defined in the <code>@RequestMapping</code> annotation.</li>
<li><strong>View Resolution</strong>: After a controller method processes the request and returns a logical view name, the <code>DispatcherServlet</code> uses a view resolver to map this logical name to an actual view (such as a JSP page or a Thymeleaf template) and renders the response.</li>
<li><strong>Intercepting and Pre - processing</strong>: It can also use interceptors to perform pre - processing and post - processing tasks on requests and responses, like logging, authentication checks, etc.</li>
</ul>
<h2 id="Rest-API"><a href="#Rest-API" class="headerlink" title="Rest API"></a>Rest API</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><p>REST (Representational State Transfer) is an architectural style for building web services. A REST API (Application Programming Interface) is a set of rules and conventions for creating and consuming web services based on the REST principles.</p>
<h3 id="Characteristics"><a href="#Characteristics" class="headerlink" title="Characteristics"></a>Characteristics</h3><ul>
<li><strong>Stateless</strong>: Each request from a client to a server must contain all the information necessary to understand and process the request. The server does not store any client - specific state between requests.</li>
<li><strong>Resource - Oriented</strong>: Resources are the key abstractions in a REST API. Resources can be things like users, products, or orders, and are identified by unique URIs (Uniform Resource Identifiers).</li>
<li><strong>HTTP Verbs</strong>: REST APIs use standard HTTP methods (verbs) to perform operations on resources. For example, <code>GET</code> is used to retrieve a resource, <code>POST</code> to create a new resource, <code>PUT</code> to update an existing resource, and <code>DELETE</code> to remove a resource.</li>
</ul>
<h2 id="How-to-create-a-good-REST-API"><a href="#How-to-create-a-good-REST-API" class="headerlink" title="How to create a good REST API"></a>How to create a good REST API</h2><h3 id="Design-Principles"><a href="#Design-Principles" class="headerlink" title="Design Principles"></a>Design Principles</h3><ul>
<li><strong>Use Clear and Descriptive URIs</strong>: URIs should clearly represent the resources. For example, use <code>/users</code> to represent a collection of users and <code>/users/{userId}</code> to represent a specific user.</li>
<li><strong>Follow HTTP Verbs Correctly</strong>: Use <code>GET</code> for retrieval, <code>POST</code> for creation, <code>PUT</code> for full - update, <code>PATCH</code> for partial - update, and <code>DELETE</code> for deletion.</li>
<li><strong>Return Appropriate HTTP Status Codes</strong>: Indicate the result of the request clearly. For example, return 200 for successful retrievals, 201 for successful creations, and 4xx or 5xx for errors.</li>
<li><strong>Provide Good Documentation</strong>: Use tools like Swagger to generate documentation that explains the API endpoints, their input parameters, and expected output.</li>
</ul>
<h3 id="Security-and-Performance"><a href="#Security-and-Performance" class="headerlink" title="Security and Performance"></a>Security and Performance</h3><ul>
<li><strong>Authentication and Authorization</strong>: Implement proper authentication mechanisms (e.g., OAuth, JWT) to ensure that only authorized users can access the API.</li>
<li><strong>Caching</strong>: Implement caching strategies to reduce the load on the server and improve response times.</li>
</ul>
<h2 id="HTTP-Error-Codes"><a href="#HTTP-Error-Codes" class="headerlink" title="HTTP Error Codes"></a>HTTP Error Codes</h2><ul>
<li><strong>200 OK</strong>: Indicates that the request has succeeded. It is commonly used for successful <code>GET</code> requests to retrieve a resource or successful <code>PUT</code>/<code>PATCH</code> requests to update a resource.</li>
<li><strong>201 Created</strong>: Used when a new resource has been successfully created. For example, when a client sends a <code>POST</code> request to create a new user, and the server successfully creates the user, it returns a 201 status code.</li>
<li><strong>400 Bad Request</strong>: Signifies that the server cannot process the request due to a client - side error, such as malformed request syntax, invalid request message framing, or deceptive request routing.</li>
<li><strong>401 Unauthorized</strong>: Indicates that the request requires user authentication. The client needs to provide valid credentials to access the requested resource.</li>
<li><strong>403 Forbidden</strong>: The client is authenticated, but it does not have permission to access the requested resource. For example, a regular user trying to access an administrative - only endpoint.</li>
<li><strong>404 Not Found</strong>: The requested resource could not be found on the server. This might be because the URL is incorrect or the resource has been deleted.</li>
<li><strong>500 Internal Server Error</strong>: A generic error message indicating that the server encountered an unexpected condition that prevented it from fulfilling the request. It could be due to a programming error, database issues, etc.</li>
<li><strong>502 Bad Gateway</strong>: The server, while acting as a gateway or proxy, received an invalid response from an upstream server.</li>
<li><strong>503 Service Unavailable</strong>: The server is currently unable to handle the request due to temporary overloading or maintenance. The client may try again later.</li>
<li><strong>504 Gateway Timeout</strong>: The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server.</li>
</ul>
<h2 id="Introduction-of-GraphQL-WebSocket-gRPC"><a href="#Introduction-of-GraphQL-WebSocket-gRPC" class="headerlink" title="Introduction of GraphQL, WebSocket, gRPC"></a>Introduction of GraphQL, WebSocket, gRPC</h2><h3 id="GraphQL"><a href="#GraphQL" class="headerlink" title="GraphQL"></a>GraphQL</h3><ul>
<li><strong>Definition</strong>: GraphQL is a query language for APIs and a runtime for fulfilling those queries with your existing data. It allows clients to specify exactly what data they need from an API, reducing over - fetching and under - fetching of data.</li>
<li><strong>Advantages</strong>: It provides a more efficient way of data retrieval compared to traditional REST APIs, especially in complex applications where clients may need different subsets of data. It also has a strong type system and can be introspected by clients.</li>
</ul>
<p>以下是关于 GraphQL 和 RESTful 的对比表格，从多个方面详细阐述了它们的特点和差异：</p>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>RESTful</th>
<th>GraphQL</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>数据获取方式</strong></td>
<td>通常以固定的端点（Endpoints）获取资源，每个端点返回固定结构的数据。例如，<code>/users</code> 端点返回所有用户列表，<code>/users/{id}</code> 返回特定用户详细信息。如果客户端需要多个不同资源的数据，可能需要多次请求不同的端点。</td>
<td>客户端可以精确指定需要的数据字段，服务器只返回所请求的数据。通过在查询中定义字段，可以在一次请求中获取多个相关资源的数据，避免过度获取或不足获取数据的问题。</td>
</tr>
<tr>
<td><strong>数据传输量</strong></td>
<td>可能会返回过多不必要的数据（过度获取），或者客户端需要多次请求才能获取完整所需数据（不足获取），导致数据传输量较大或请求次数增多。例如，客户端只需要用户的姓名和邮箱，但 <code>/users/{id}</code> 端点返回了用户的所有详细信息，包括地址、电话等。</td>
<td>只返回客户端请求的数据字段，减少了不必要的数据传输，提高了数据传输效率，尤其在移动设备等带宽有限的场景下更具优势。</td>
</tr>
<tr>
<td><strong>版本控制</strong></td>
<td>一般通过在 URL 中添加版本号（如 <code>/v1/users</code>、<code>/v2/users</code>）来进行版本控制。新的版本可能会对端点的结构和功能进行修改，客户端需要明确区分不同版本并进行相应调整。</td>
<td>由于客户端自定义查询，服务器端的字段增减或修改不一定会影响客户端已有的查询。如果需要对数据模型进行修改，可以在不破坏现有客户端查询的前提下进行，因此在版本控制方面相对灵活，不需要像 RESTful 那样严格的版本区分。</td>
</tr>
<tr>
<td><strong>缓存策略</strong></td>
<td>可以利用 HTTP 缓存机制，如 <code>Cache-Control</code>、<code>ETag</code> 等进行缓存。但由于每个端点返回的数据结构相对固定，缓存粒度较粗，可能会出现缓存失效或缓存不命中的情况。</td>
<td>缓存相对复杂，因为每个客户端的查询可能不同。可以通过在服务器端实现自定义的缓存策略，针对具体的查询进行缓存，但需要更多的开发和维护工作。</td>
</tr>
<tr>
<td><strong>错误处理</strong></td>
<td>通常使用 HTTP 状态码来表示请求的结果，如 <code>200</code> 表示成功，<code>404</code> 表示资源未找到，<code>500</code> 表示服务器内部错误等。对于更详细的错误信息，可能需要在响应体中返回。</td>
<td>可以在响应中返回详细的错误信息，包括错误位置（在查询中的位置）和错误描述，帮助客户端更准确地定位和处理错误。</td>
</tr>
<tr>
<td><strong>开发效率</strong></td>
<td>开发人员需要为每个资源和操作定义端点，当需求变化或新增功能时，可能需要修改或新增多个端点，开发和维护成本较高。</td>
<td>开发人员定义数据模型和 GraphQL 模式（Schema），客户端根据模式进行查询。由于客户端有更多的自主性，服务器端的开发和修改相对集中在模式的更新上，一定程度上提高了开发效率。</td>
</tr>
<tr>
<td><strong>学习曲线</strong></td>
<td>基于 HTTP 和 REST 原则，概念相对简单直观，开发人员容易理解和上手，尤其对于有 Web 开发经验的人员。</td>
<td>需要学习 GraphQL 的语法、模式定义、查询和变更（Mutation）等概念，对于初学者来说可能有一定的学习成本，但掌握后可以更灵活地进行数据交互。</td>
</tr>
<tr>
<td><strong>生态系统和工具支持</strong></td>
<td>有丰富的工具和框架支持，如 Express（Node.js）、Django REST framework（Python）等，并且与现有的 Web 技术和基础设施兼容性好。</td>
<td>生态系统在不断发展壮大，有许多优秀的客户端和服务器端库，如 Apollo Server（Node.js）、Relay（React）等，但相对 RESTful 生态系统的成熟度和普及度可能稍逊一筹。</td>
</tr>
</tbody>
</table>
<p>以下是一个简单的示意图来直观展示 GraphQL 和 RESTful 在数据获取上的差异：</p>
<p><strong>RESTful 数据获取示例</strong>：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">客户端 ----&gt; GET /users/&#123;id&#125; ----&gt; 服务器</span><br><span class="line">（获取用户详细信息，可能包含过多不需要字段）</span><br><span class="line">客户端 ----&gt; GET /posts?userId=&#123;id&#125; ----&gt; 服务器</span><br><span class="line">（获取该用户的文章，需额外请求）</span><br></pre></td></tr></table></figure></p>
<p><strong>GraphQL 数据获取示例</strong>：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">客户端 ----&gt; POST /graphql &#123;</span><br><span class="line">  user(id: &quot;&#123;id&#125;&quot;) &#123;</span><br><span class="line">    name</span><br><span class="line">    email</span><br><span class="line">    posts &#123;</span><br><span class="line">      title</span><br><span class="line">      content</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; ----&gt; 服务器</span><br><span class="line">（一次请求获取用户信息及相关文章，精确获取所需字段）</span><br></pre></td></tr></table></figure></p>
<p>希望以上表格和说明能帮助你更好地理解 GraphQL 和 RESTful 的区别。如果还有其他疑问，可以继续向我提问。 </p>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><ul>
<li><strong>Definition</strong>: WebSocket is a communication protocol that provides full - duplex communication channels over a single TCP connection. It enables real - time communication between a client and a server.</li>
<li><strong>Advantages</strong>: It reduces the overhead of traditional HTTP requests by maintaining a persistent connection, which is suitable for applications that require real - time updates, such as chat applications, online gaming, and live dashboards.</li>
</ul>
<h3 id="gRPC"><a href="#gRPC" class="headerlink" title="gRPC"></a>gRPC</h3><ul>
<li><strong>Definition</strong>: gRPC is a high - performance, open - source universal RPC (Remote Procedure Call) framework. It uses Protocol Buffers as the interface definition language and serialization format.</li>
<li><strong>Advantages</strong>: It offers high performance, low latency, and strong typing. It is suitable for microservices architectures where efficient communication between services is crucial.</li>
</ul>
<h3 id="Server-Sent-Events-SSE"><a href="#Server-Sent-Events-SSE" class="headerlink" title="Server Sent Events (SSE)"></a>Server Sent Events (SSE)</h3><p>• Lastly, Server Sent Events (SSE) are a great way to send updates from the server to the client. They’re similar to long polling, but they’re more efficient for unidirectional communication from the server to the client. SSE allows the server to push updates to the client whenever new data is available, without the client having to make repeated requests as in long polling. This is achieved through a single, long-lived HTTP connection, making it more suitable for scenarios where the server frequently updates data that needs to be sent to the client. Unlike Websockets, SSE is designed specifically for server-to-client communication and does not support client-to-server messaging. This makes SSE simpler to implement and integrate into existing HTTP infrastructure, such as load balancers and firewalls, without the need for special handling.</p>
<h2 id="ReactiveJava响应式编程"><a href="#ReactiveJava响应式编程" class="headerlink" title="ReactiveJava响应式编程"></a>ReactiveJava响应式编程</h2><p>Java响应式编程一般基于Reactive Streams规范，常用实现包括Project Reactor和RxJava。实现步骤和核心思路如下：</p>
<hr>
<h3 id="核心思路"><a href="#核心思路" class="headerlink" title="核心思路"></a>核心思路</h3><ul>
<li><strong>声明式编程</strong>：定义数据流的处理逻辑（过滤、转换、合并等），而非命令式地逐步操作。</li>
<li><strong>异步非阻塞</strong>：数据生产和消费异步执行，不阻塞线程，提高资源利用率。</li>
<li><strong>背压（Back-pressure）支持</strong>：消费者控制生产者的数据流速，避免过载。</li>
<li><strong>流（Flux/Observable）和单值（Mono/Single）区分</strong>：分别表示多值和单值异步数据流。</li>
</ul>
<hr>
<h3 id="实现步骤（以Project-Reactor为例）"><a href="#实现步骤（以Project-Reactor为例）" class="headerlink" title="实现步骤（以Project Reactor为例）"></a>实现步骤（以Project Reactor为例）</h3><ol>
<li><strong>引入依赖</strong></li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.projectreactor<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reactor-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li><strong>创建数据流</strong></li>
</ol>
<ul>
<li>使用<code>Flux</code>表示多元素流，<code>Mono</code>表示单元素流。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Flux&lt;String&gt; flux = Flux.just(<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>);</span><br><span class="line">Mono&lt;String&gt; mono = Mono.just(<span class="string">"Single"</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>链式操作处理数据</strong></li>
</ol>
<ul>
<li>过滤、转换、合并、延迟等。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">flux.filter(s -&gt; s.startsWith(<span class="string">"A"</span>))</span><br><span class="line">    .map(String::toLowerCase)</span><br><span class="line">    .subscribe(System.out::println);</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>异步执行调度</strong></li>
</ol>
<ul>
<li>通过<code>scheduler</code>切换线程池，实现异步非阻塞。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">flux.publishOn(Schedulers.boundedElastic())</span><br><span class="line">    .subscribeOn(Schedulers.parallel())</span><br><span class="line">    .subscribe(System.out::println);</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>处理背压</strong></li>
</ol>
<ul>
<li>使用操作符如<code>onBackpressureBuffer()</code>, <code>onBackpressureDrop()</code>等。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">flux.onBackpressureBuffer(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>与外部系统集成</strong></li>
</ol>
<ul>
<li>结合响应式数据库驱动（R2DBC）、消息队列（Reactor Kafka）、Web框架（Spring WebFlux）等。</li>
</ul>
<hr>
<h3 id="简单示例"><a href="#简单示例" class="headerlink" title="简单示例"></a>简单示例</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Flux.range(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">    .filter(i -&gt; i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">    .map(i -&gt; <span class="string">"Number "</span> + i)</span><br><span class="line">    .subscribe(System.out::println);</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>实现Java响应式编程，核心是基于<code>Flux</code>和<code>Mono</code>等响应式类型，结合声明式操作符和异步调度。通过背压机制保证系统稳健。Project Reactor和RxJava是最主流的两种实现，推荐优先掌握Reactor，尤其在Spring生态中应用广泛。</p>
<p>好的，下面给你一个<strong>处理背压的具体、完整 Java 示例</strong>，使用 <strong>Project Reactor 的 <code>Flux</code></strong> 实现。</p>
<hr>
<h3 id="处理背压back-pressure的例子"><a href="#处理背压back-pressure的例子" class="headerlink" title="处理背压back-pressure的例子"></a>处理背压back-pressure的例子</h3><p>下面给你一个<strong>基于 Kafka 的 Java 实时订单系统</strong>的完整示例，重点展示如何使用 <strong>Reactor Kafka</strong> 来处理背压（Back-pressure），防止消费者过载。</p>
<hr>
<p>场景描述</p>
<ul>
<li>订单从 Kafka 主题 <code>orders</code> 中流入。</li>
<li>每条订单都需要进行复杂业务处理（如写数据库）。</li>
<li>如果消费处理速度跟不上 Kafka 推送速度，我们需要做背压处理。</li>
</ul>
<hr>
<p>技术栈</p>
<ul>
<li><strong>Kafka</strong>：消息中间件，用于高吞吐实时流。</li>
<li><strong>Reactor Kafka</strong>：响应式 Kafka 客户端，支持 back-pressure。</li>
<li><strong>Spring Boot（可选）</strong>：集成方便。</li>
<li><strong>R2DBC（可选）</strong>：响应式数据库连接。</li>
</ul>
<hr>
<p>示例代码（核心逻辑）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> reactor.kafka.receiver.KafkaReceiver;</span><br><span class="line"><span class="keyword">import</span> reactor.kafka.receiver.ReceiverOptions;</span><br><span class="line"><span class="keyword">import</span> reactor.kafka.receiver.ReceiverRecord;</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Flux;</span><br><span class="line"><span class="keyword">import</span> reactor.core.scheduler.Schedulers;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.Duration;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReactiveKafkaOrderConsumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; props = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        props.put(<span class="string">"bootstrap.servers"</span>, <span class="string">"localhost:9092"</span>);</span><br><span class="line">        props.put(<span class="string">"key.deserializer"</span>, <span class="string">"org.apache.kafka.common.serialization.StringDeserializer"</span>);</span><br><span class="line">        props.put(<span class="string">"value.deserializer"</span>, <span class="string">"org.apache.kafka.common.serialization.StringDeserializer"</span>);</span><br><span class="line">        props.put(<span class="string">"group.id"</span>, <span class="string">"order-consumer-group"</span>);</span><br><span class="line">        props.put(<span class="string">"auto.offset.reset"</span>, <span class="string">"earliest"</span>);</span><br><span class="line"></span><br><span class="line">        ReceiverOptions&lt;String, String&gt; options = ReceiverOptions.&lt;String, String&gt;create(props)</span><br><span class="line">            .subscription(Collections.singleton(<span class="string">"orders"</span>))</span><br><span class="line">            .addAssignListener(partitions -&gt; System.out.println(<span class="string">"Assigned: "</span> + partitions))</span><br><span class="line">            .addRevokeListener(partitions -&gt; System.out.println(<span class="string">"Revoked: "</span> + partitions));</span><br><span class="line"></span><br><span class="line">        Flux&lt;ReceiverRecord&lt;String, String&gt;&gt; kafkaFlux = KafkaReceiver.create(options).receive();</span><br><span class="line"></span><br><span class="line">        kafkaFlux</span><br><span class="line">            .onBackpressureBuffer(<span class="number">1000</span>, </span><br><span class="line">                rec -&gt; System.out.println(<span class="string">"Buffer overflow, dropped order: "</span> + rec.value()))</span><br><span class="line">            .flatMap(record -&gt; processOrder(record.value())</span><br><span class="line">                .doOnSuccess(v -&gt; record.receiverOffset().acknowledge()), </span><br><span class="line">                <span class="number">10</span> <span class="comment">// 限制最多同时处理 10 条订单，形成背压</span></span><br><span class="line">            )</span><br><span class="line">            .subscribe();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Flux&lt;Void&gt; <span class="title">processOrder</span><span class="params">(String orderJson)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Flux.defer(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">"Processing order: "</span> + orderJson);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 模拟业务处理，如验证、库存锁定、数据库写入</span></span><br><span class="line">                Thread.sleep(<span class="number">200</span>); <span class="comment">// 假设处理一条订单要 200ms</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> Flux.&lt;Void&gt;empty();</span><br><span class="line">        &#125;).subscribeOn(Schedulers.boundedElastic());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>关键点说明</p>
<table>
<thead>
<tr>
<th>技术/操作</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>KafkaReceiver.receive()</code></td>
<td>返回一个 <strong>Flux<receiverrecord></receiverrecord></strong>，每条 Kafka 消息封装成一个流元素</td>
</tr>
<tr>
<td><code>onBackpressureBuffer(1000)</code></td>
<td>如果消费不及时，最多缓存 1000 条订单；超过的丢弃或报警</td>
</tr>
<tr>
<td><code>flatMap(..., 10)</code></td>
<td>同时最多处理 10 条订单，控制并发，<strong>间接实现 back-pressure</strong></td>
</tr>
<tr>
<td><code>acknowledge()</code></td>
<td>手动提交 offset，确保“处理完才提交”</td>
</tr>
</tbody>
</table>
<hr>
<p>实战建议</p>
<ul>
<li><strong>数据入库用 R2DBC</strong> 实现真正的 end-to-end 异步。</li>
<li>若不想丢数据，可将超出 back-pressure 的数据写入 Dead Letter Topic。</li>
<li>结合指标系统（如 Prometheus）监控 lag、吞吐、队列大小。</li>
</ul>
<hr>
<p>总结</p>
<p>这是一个典型的 <strong>响应式 Kafka + 背压控制 + 并发限流</strong> 的应用场景，适合用于订单、支付、风控等高并发实时业务中。相较传统阻塞消费者，响应式消费者更能充分利用资源、控制负载、保证系统稳定性。</p>
<hr>
<h1 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h1><h2 id="1-Different-Type-of-Tests-in-whole-project-lifecycle"><a href="#1-Different-Type-of-Tests-in-whole-project-lifecycle" class="headerlink" title="1. Different Type of Tests in whole project lifecycle"></a>1. Different Type of Tests in whole project lifecycle</h2><ul>
<li><strong>Unit Tests</strong>: These are the most granular level of tests. They focus on testing individual units of code, such as a single function, method, or class. Unit tests are usually written by developers and are aimed at verifying that a particular piece of code behaves as expected in isolation. They help in catching bugs early in the development process and make the code easier to maintain.</li>
<li><strong>Integration Tests</strong>: These tests check how different components or modules of the system work together. They ensure that the interfaces between various parts of the application are functioning correctly. For example, in a software system with a database layer, a business logic layer, and a presentation layer, integration tests would verify that data can flow properly between these layers.</li>
<li><strong>System Tests</strong>: System tests evaluate the entire system as a whole to ensure that it meets the specified requirements. They simulate real-world scenarios and user interactions to test the system’s functionality, performance, and usability. This includes testing all the components together in the production-like environment.</li>
<li><strong>Acceptance Tests</strong>: These tests are performed to determine whether the system meets the business requirements and is acceptable to the end-users or stakeholders. Acceptance tests can be user acceptance tests (UAT), where end-users test the system to see if it meets their needs, or contract acceptance tests, which are based on the requirements specified in a contract.</li>
<li><strong>Regression Tests</strong>: After making changes to the system, such as bug fixes or new feature implementations, regression tests are run to ensure that the existing functionality has not been broken. They are a subset of the overall test suite that focuses on the areas of the system that are likely to be affected by the changes.</li>
</ul>
<h2 id="2-Unit-Test-Mock"><a href="#2-Unit-Test-Mock" class="headerlink" title="2. Unit Test, Mock"></a>2. Unit Test, Mock</h2><ul>
<li><strong>Unit Test</strong>: A unit test is a piece of code that exercises a specific unit of functionality in an isolated way. It provides a set of inputs to the unit under test and verifies that the output is as expected. Unit tests should be fast, independent, and repeatable. For example, in a Java application, a unit test for a method that calculates the sum of two numbers would provide different pairs of numbers as inputs and check if the calculated sum is correct.</li>
<li><strong>Mock</strong>: In unit testing, a mock is an object that mimics the behavior of a real object, such as a database, a web service, or another component. Mocks are used when the real object is difficult to create, expensive to set up, or not available during testing. For instance, if a unit of code depends on a database call, instead of actually connecting to the database, a mock object can be used to return predefined data. This allows the unit test to focus on testing the logic of the unit under test without being affected by the external dependencies.</li>
</ul>
<h2 id="3-Testing-Rest-Api-with-Rest-Assured"><a href="#3-Testing-Rest-Api-with-Rest-Assured" class="headerlink" title="3. Testing Rest Api with Rest Assured"></a>3. Testing Rest Api with Rest Assured</h2><p>Rest Assured is a Java library used for testing RESTful APIs. It simplifies the process of sending HTTP requests to an API and validating the responses.</p>
<ul>
<li><strong>Sending Requests</strong>: With Rest Assured, you can easily send different types of HTTP requests like GET, POST, PUT, DELETE, etc. For example, to send a GET request to an API endpoint, you can use code like <code>given().when().get(&quot;https://example.com/api/endpoint&quot;).then();</code></li>
<li><strong>Validating Responses</strong>: You can validate various aspects of the response, such as the status code (e.g., <code>then().statusCode(200);</code> to check if the response has a 200 status code), the headers, and the body. You can use methods to extract data from the response body and perform assertions on it. For instance, if the API returns JSON data, you can use JsonPath expressions in Rest Assured to extract and validate specific fields in the JSON.</li>
</ul>
<h2 id="4-AUTOMATION-TEST"><a href="#4-AUTOMATION-TEST" class="headerlink" title="4. AUTOMATION TEST"></a>4. AUTOMATION TEST</h2><ul>
<li><strong>BDD - Cucumber - annotations</strong>: Behavior-Driven Development (BDD) is an approach that focuses on defining the behavior of the system from the perspective of the stakeholders. Cucumber is a popular tool for implementing BDD in Java (and other languages). Annotations in Cucumber are used to mark different parts of the feature files and step definitions. For example, <code>@Given</code>, <code>@When</code>, <code>@Then</code> are commonly used annotations in step definitions. <code>@Given</code> is used to set up the preconditions, <code>@When</code> describes the action being performed, and <code>@Then</code> is used to define the expected outcome. Feature files written in Gherkin language (a simple syntax used by Cucumber) use these annotations to describe the behavior of the system in a human-readable format.</li>
<li><strong>Load Test with JMeter</strong>: Apache JMeter is a tool used for load testing web applications, web services, and other types of applications. It can simulate a large number of concurrent users sending requests to the application to measure its performance under load. You can configure JMeter to define the number of threads (simulating users), the ramp-up period (how quickly the users are added), and the duration of the test. It can generate detailed reports on metrics such as response times, throughput, and error rates, helping you identify bottlenecks in the application.</li>
<li><strong>Performance tool JProfiler</strong>: JProfiler is a powerful Java profiling tool used for performance analysis. It can help you identify performance issues in your Java applications by analyzing memory usage, CPU utilization, and thread behavior. It allows you to take snapshots of the application’s state at different times, trace method calls, and find memory leaks. You can use JProfiler to optimize your code by identifying methods that consume a lot of resources and improving their performance.</li>
<li><strong>AB Test</strong>: AB testing is a method of comparing two versions (A and B) of a web page, application feature, or marketing campaign to determine which one performs better. In AB testing, a random subset of users is shown version A, and another random subset is shown version B. Metrics such as click-through rates, conversion rates, or user engagement are then measured for each version. Based on the results, you can decide which version to implement permanently. AB testing is often used in web development and digital marketing to make data-driven decisions about changes to the product or service. </li>
</ul>
<h1 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h1><ul>
<li>What is data modeling? Why do we need it? When would you need it?</li>
<li>What is primary key? How is it different from unique key?</li>
<li>What is normalization? Why do you need to normalize?</li>
<li>What does data redundancy mean? Can you give an example of each?</li>
<li>What is database integrity? Why do you need it?</li>
<li>What are joins and explain different types of joins in detail.</li>
<li>Explain indexes and why are they needed?</li>
<li>If we have 1B data in our relational database and we do not want to fetch all at once. What are the ways that we can partition the data rows?</li>
</ul>
<h2 id="Explain-clustered-and-non-clustered-index-and-their-differences"><a href="#Explain-clustered-and-non-clustered-index-and-their-differences" class="headerlink" title="Explain clustered and non-clustered index and their differences."></a>Explain clustered and non-clustered index and their differences.</h2><h3 id="1-Clustered-Index"><a href="#1-Clustered-Index" class="headerlink" title="1. Clustered Index"></a>1. Clustered Index</h3><h4 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h4><p>A clustered index determines the physical order of data storage in a table. In other words, the rows of the table are physically arranged on disk in the order of the clustered index key. A table can have only one clustered index because there can be only one physical ordering of the data rows.</p>
<h4 id="How-it-Works"><a href="#How-it-Works" class="headerlink" title="How it Works"></a>How it Works</h4><ul>
<li><strong>Index Structure</strong>: The clustered index is often implemented as a B - tree data structure. The leaf nodes of the B - tree contain the actual data rows of the table, sorted according to the index key.</li>
<li><strong>Data Retrieval</strong>: When you query data using the columns in the clustered index, the database can quickly locate the relevant rows because they are physically stored in the order of the index. For example, if you have a <code>Customers</code> table with a clustered index on the <code>CustomerID</code> column, and you query for a specific <code>CustomerID</code>, the database can efficiently navigate through the B - tree to find the corresponding row.</li>
</ul>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Create a table with a clustered index on the ID column</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Products (</span><br><span class="line">    ProductID <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> CLUSTERED,</span><br><span class="line">    ProductName <span class="built_in">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    Price <span class="built_in">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>In this example, the <code>ProductID</code> column is the clustered index. The rows in the <code>Products</code> table will be physically sorted by the <code>ProductID</code> value.</p>
<h3 id="2-Non-Clustered-Index"><a href="#2-Non-Clustered-Index" class="headerlink" title="2. Non - Clustered Index"></a>2. Non - Clustered Index</h3><h4 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h4><p>A non - clustered index is a separate structure from the actual data rows. It contains a copy of the indexed columns and a pointer to the location of the corresponding data row in the table. A table can have multiple non - clustered indexes.</p>
<h4 id="How-it-Works-1"><a href="#How-it-Works-1" class="headerlink" title="How it Works"></a>How it Works</h4><ul>
<li><strong>Index Structure</strong>: Similar to a clustered index, a non - clustered index is also typically implemented as a B - tree. However, the leaf nodes of the non - clustered index do not contain the actual data rows but rather pointers to the data rows in the table.</li>
<li><strong>Data Retrieval</strong>: When you query data using the columns in a non - clustered index, the database first searches the non - clustered index to find the pointers to the relevant data rows. Then it uses these pointers to access the actual data rows in the table. This additional step of accessing the data rows can make non - clustered index lookups slightly slower than clustered index lookups for large datasets.</li>
</ul>
<h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Create a table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders (</span><br><span class="line">    OrderID <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    CustomerID <span class="built_in">INT</span>,</span><br><span class="line">    OrderDate <span class="built_in">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Create a non - clustered index on the CustomerID column</span></span><br><span class="line"><span class="keyword">CREATE</span> NONCLUSTERED <span class="keyword">INDEX</span> idx_CustomerID <span class="keyword">ON</span> Orders (CustomerID);</span><br></pre></td></tr></table></figure>
<p>In this example, the <code>idx_CustomerID</code> is a non - clustered index on the <code>CustomerID</code> column. The index stores the <code>CustomerID</code> values and pointers to the corresponding rows in the <code>Orders</code> table.</p>
<h3 id="3-Differences-between-Clustered-and-Non-Clustered-Indexes"><a href="#3-Differences-between-Clustered-and-Non-Clustered-Indexes" class="headerlink" title="3. Differences between Clustered and Non - Clustered Indexes"></a>3. Differences between Clustered and Non - Clustered Indexes</h3><h4 id="Physical-Order-of-Data"><a href="#Physical-Order-of-Data" class="headerlink" title="Physical Order of Data"></a>Physical Order of Data</h4><ul>
<li><strong>Clustered Index</strong>: Determines the physical order of data storage in the table. The data rows are physically sorted according to the clustered index key.</li>
<li><strong>Non - Clustered Index</strong>: Does not affect the physical order of data in the table. It is a separate structure that points to the data rows.</li>
</ul>
<h4 id="Number-of-Indexes-per-Table"><a href="#Number-of-Indexes-per-Table" class="headerlink" title="Number of Indexes per Table"></a>Number of Indexes per Table</h4><ul>
<li><strong>Clustered Index</strong>: A table can have only one clustered index because there can be only one physical ordering of the data.</li>
<li><strong>Non - Clustered Index</strong>: A table can have multiple non - clustered indexes. You can create non - clustered indexes on different columns or combinations of columns to improve query performance for various types of queries.</li>
</ul>
<h4 id="Storage-Space"><a href="#Storage-Space" class="headerlink" title="Storage Space"></a>Storage Space</h4><ul>
<li><strong>Clustered Index</strong>: Since it stores the actual data rows, it generally requires more storage space compared to a non - clustered index.</li>
<li><strong>Non - Clustered Index</strong>: Stores only the indexed columns and pointers to the data rows, so it usually requires less storage space.</li>
</ul>
<h4 id="Query-Performance"><a href="#Query-Performance" class="headerlink" title="Query Performance"></a>Query Performance</h4><ul>
<li><strong>Clustered Index</strong>: Is very efficient for range queries (e.g., retrieving all rows where the index value is between a certain range) because the data is physically sorted. It also has an advantage for queries that return a large number of rows.</li>
<li><strong>Non - Clustered Index</strong>: Is useful for queries that filter on a small subset of data using the indexed columns. However, for queries that need to access a large number of rows, the additional step of following the pointers to the data rows can make it slower than using a clustered index.</li>
</ul>
<h4 id="Insert-Update-and-Delete-Operations"><a href="#Insert-Update-and-Delete-Operations" class="headerlink" title="Insert, Update, and Delete Operations"></a>Insert, Update, and Delete Operations</h4><ul>
<li><strong>Clustered Index</strong>: Inserting, updating, or deleting rows can be more expensive because it may require re - arranging the physical order of the data on disk.</li>
<li><strong>Non - Clustered Index</strong>: These operations are generally less expensive because they only involve updating the non - clustered index structure and the pointers, without affecting the physical order of the data. </li>
</ul>
<h2 id="What-are-normal-forms"><a href="#What-are-normal-forms" class="headerlink" title="What are normal forms"></a>What are normal forms</h2><p>In the context of databases, “NF” usually stands for “Normal Form”. Normal forms are used in database design to organize data in a way that reduces data redundancy, improves data integrity, and makes the database more efficient and easier to manage. Some of the commonly known normal forms are:</p>
<ul>
<li><strong>First Normal Form (1NF)</strong>: A relation is in 1NF if it has atomic values, meaning that each cell in the table contains only a single value and not a set of values. For example, a table where a column stores multiple phone numbers separated by commas would not be in 1NF.</li>
<li><strong>Second Normal Form (2NF)</strong>: A relation is in 2NF if it is in 1NF and all non-key attributes are fully functionally dependent on the primary key. This means that no non-key attribute should depend only on a part of the primary key in case of a composite primary key.</li>
<li><strong>Third Normal Form (3NF)</strong>: A relation is in 3NF if it is in 2NF and there is no transitive dependency of non-key attributes on the primary key. That is, a non-key attribute should not depend on another non-key attribute.</li>
<li><strong>Boyce-Codd Normal Form (BCNF)</strong>: BCNF is a stronger version of 3NF. A relation is in BCNF if for every functional dependency X → Y, X is a superkey. In other words, every determinant must be a candidate key.</li>
<li><strong>Fourth Normal Form (4NF)</strong>: A relation is in 4NF if it is in BCNF and there are no non-trivial multivalued dependencies.</li>
</ul>
<h3 id="1-Examples-of-Normalization"><a href="#1-Examples-of-Normalization" class="headerlink" title="1. Examples of Normalization"></a>1. Examples of Normalization</h3><h4 id="First-Normal-Form-1NF"><a href="#First-Normal-Form-1NF" class="headerlink" title="First Normal Form (1NF)"></a>First Normal Form (1NF)</h4><p><strong>Original Table (Not in 1NF)</strong>:<br>Suppose we have a <code>Students</code> table that stores information about students and their hobbies.</p>
<table>
<thead>
<tr>
<th>Student ID</th>
<th>Student Name</th>
<th>Hobbies</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>Reading, Painting</td>
</tr>
<tr>
<td>2</td>
<td>Jane</td>
<td>Singing, Dancing</td>
</tr>
</tbody>
</table>
<p>The <code>Hobbies</code> column contains multiple values separated by commas, which violates 1NF.</p>
<p><strong>Converted to 1NF</strong>:<br>We create a new table structure.<br><strong>Students Table</strong>:</p>
<table>
<thead>
<tr>
<th>Student ID</th>
<th>Student Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
</tr>
<tr>
<td>2</td>
<td>Jane</td>
</tr>
</tbody>
</table>
<p><strong>StudentHobbies Table</strong>:</p>
<table>
<thead>
<tr>
<th>Student ID</th>
<th>Hobby</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Reading</td>
</tr>
<tr>
<td>1</td>
<td>Painting</td>
</tr>
<tr>
<td>2</td>
<td>Singing</td>
</tr>
<tr>
<td>2</td>
<td>Dancing</td>
</tr>
</tbody>
</table>
<h4 id="Second-Normal-Form-2NF"><a href="#Second-Normal-Form-2NF" class="headerlink" title="Second Normal Form (2NF)"></a>Second Normal Form (2NF)</h4><p><strong>Original Table (Violating 2NF)</strong>:<br>Consider an <code>Orders</code> table with a composite primary key (<code>Order ID</code>, <code>Product ID</code>).</p>
<table>
<thead>
<tr>
<th>Order ID</th>
<th>Product ID</th>
<th>Product Name</th>
<th>Order Quantity</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>Laptop</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>102</td>
<td>Mouse</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>101</td>
<td>Laptop</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>The <code>Product Name</code> depends only on the <code>Product ID</code> (part of the composite primary key), violating 2NF.</p>
<p><strong>Converted to 2NF</strong>:<br><strong>Products Table</strong>:</p>
<table>
<thead>
<tr>
<th>Product ID</th>
<th>Product Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>101</td>
<td>Laptop</td>
</tr>
<tr>
<td>102</td>
<td>Mouse</td>
</tr>
</tbody>
</table>
<p><strong>OrderDetails Table</strong>:</p>
<table>
<thead>
<tr>
<th>Order ID</th>
<th>Product ID</th>
<th>Order Quantity</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>102</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>101</td>
<td>1</td>
</tr>
</tbody>
</table>
<h4 id="Third-Normal-Form-3NF"><a href="#Third-Normal-Form-3NF" class="headerlink" title="Third Normal Form (3NF)"></a>Third Normal Form (3NF)</h4><p><strong>Original Table (Violating 3NF)</strong>:<br>Let’s have an <code>Employees</code> table.</p>
<table>
<thead>
<tr>
<th>Employee ID</th>
<th>Department ID</th>
<th>Department Name</th>
<th>Employee Salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>IT</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>IT</td>
<td>6000</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>HR</td>
<td>4500</td>
</tr>
</tbody>
</table>
<p>The <code>Department Name</code> is transitively dependent on the <code>Employee ID</code> through the <code>Department ID</code>, violating 3NF.</p>
<p><strong>Converted to 3NF</strong>:<br><strong>Departments Table</strong>:</p>
<table>
<thead>
<tr>
<th>Department ID</th>
<th>Department Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>IT</td>
</tr>
<tr>
<td>2</td>
<td>HR</td>
</tr>
</tbody>
</table>
<p><strong>Employees Table</strong>:</p>
<table>
<thead>
<tr>
<th>Employee ID</th>
<th>Department ID</th>
<th>Employee Salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>6000</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>4500</td>
</tr>
</tbody>
</table>
<h3 id="2-Examples-of-Database-Integrity"><a href="#2-Examples-of-Database-Integrity" class="headerlink" title="2. Examples of Database Integrity"></a>2. Examples of Database Integrity</h3><h4 id="Entity-Integrity"><a href="#Entity-Integrity" class="headerlink" title="Entity Integrity"></a>Entity Integrity</h4><ul>
<li><strong>Explanation</strong>: Ensures that each row in a table is uniquely identifiable, usually through a primary key.</li>
<li><strong>Example</strong>: In a <code>Customers</code> table, the <code>Customer ID</code> is set as the primary key.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Customers (</span><br><span class="line">    Customer <span class="keyword">ID</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    Customer <span class="keyword">Name</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    Email <span class="built_in">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>If you try to insert a new row with an existing <code>Customer ID</code>, the database will reject the insert operation because it violates entity integrity.</p>
<h4 id="Referential-Integrity"><a href="#Referential-Integrity" class="headerlink" title="Referential Integrity"></a>Referential Integrity</h4><ul>
<li><strong>Explanation</strong>: Maintains the consistency between related tables. A foreign key in one table must match a primary key value in another table.</li>
<li><strong>Example</strong>: Consider a <code>Orders</code> table and a <code>Customers</code> table. The <code>Orders</code> table has a foreign key <code>Customer ID</code> that references the <code>Customer ID</code> in the <code>Customers</code> table.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Customers (</span><br><span class="line">    Customer <span class="keyword">ID</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    Customer <span class="keyword">Name</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders (</span><br><span class="line">    <span class="keyword">Order</span> <span class="keyword">ID</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    Customer <span class="keyword">ID</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">Order</span> <span class="built_in">Date</span> <span class="built_in">DATE</span>,</span><br><span class="line">    FOREIGN <span class="keyword">KEY</span> (Customer <span class="keyword">ID</span>) <span class="keyword">REFERENCES</span> Customers(Customer <span class="keyword">ID</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>If you try to insert an order with a <code>Customer ID</code> that does not exist in the <code>Customers</code> table, the database will not allow it due to referential integrity.</p>
<h4 id="Domain-Integrity"><a href="#Domain-Integrity" class="headerlink" title="Domain Integrity"></a>Domain Integrity</h4><ul>
<li><strong>Explanation</strong>: Ensures that the data entered into a column falls within an acceptable range of values.</li>
<li><strong>Example</strong>: In a <code>Products</code> table, the <code>Price</code> column should only accept positive values.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Products (</span><br><span class="line">    Product <span class="keyword">ID</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    Product <span class="keyword">Name</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    Price <span class="built_in">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>) <span class="keyword">CHECK</span> (Price &gt; <span class="number">0</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>If you try to insert a product with a negative price, the database will reject the insert because it violates domain integrity.</p>
<h2 id="How-do-you-represent-a-multi-valued-attribute-in-a-database"><a href="#How-do-you-represent-a-multi-valued-attribute-in-a-database" class="headerlink" title="How do you represent a multi-valued attribute in a database?"></a>How do you represent a multi-valued attribute in a database?</h2><p>A multi - valued attribute is an attribute that can have multiple values for a single entity. Here are the common ways to represent multi - valued attributes in different types of databases:</p>
<h3 id="Relational-Databases"><a href="#Relational-Databases" class="headerlink" title="Relational Databases"></a>Relational Databases</h3><h4 id="1-Using-a-Separate-Table-Normalization-Approach"><a href="#1-Using-a-Separate-Table-Normalization-Approach" class="headerlink" title="1. Using a Separate Table (Normalization Approach)"></a>1. Using a Separate Table (Normalization Approach)</h4><p>This is the most common and recommended method in relational databases as it adheres to the principles of database normalization.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><strong>Identify the Entities and Attributes</strong>: Suppose you have an <code>Employees</code> entity with a multi - valued attribute <code>Skills</code>. An employee can have multiple skills, so the <code>Skills</code> attribute is multi - valued.</li>
<li><strong>Create a New Table</strong>: Create a new table to store the multi - valued data. This table will have a foreign key that references the primary key of the main entity table.</li>
<li><p><strong>Define the Schema</strong>:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Create the Employees table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Employees (</span><br><span class="line">    employee_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    employee_name <span class="built_in">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Create the Skills table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Skills (</span><br><span class="line">    skill_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    employee_id <span class="built_in">INT</span>,</span><br><span class="line">    skill_name <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    FOREIGN <span class="keyword">KEY</span> (employee_id) <span class="keyword">REFERENCES</span> Employees(employee_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Insert and Query Data</strong>:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Insert an employee</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employees (employee_name) <span class="keyword">VALUES</span> (<span class="string">'John Doe'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Insert skills for the employee</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Skills (employee_id, skill_name) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'Java'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Skills (employee_id, skill_name) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'Python'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Query all skills of an employee</span></span><br><span class="line"><span class="keyword">SELECT</span> skill_name</span><br><span class="line"><span class="keyword">FROM</span> Skills</span><br><span class="line"><span class="keyword">WHERE</span> employee_id = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-Using-Delimited-Lists-Denormalization-Approach"><a href="#2-Using-Delimited-Lists-Denormalization-Approach" class="headerlink" title="2. Using Delimited Lists (Denormalization Approach)"></a>2. Using Delimited Lists (Denormalization Approach)</h4><p>In some cases, for simplicity or performance reasons, you may choose to use delimited lists to represent multi - valued attributes.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><p><strong>Modify the Main Table</strong>: Instead of creating a separate table, you add a single column to the main table and store multiple values separated by a delimiter (e.g., comma).</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Create the Employees table with a multi - valued attribute as a delimited list</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Employees (</span><br><span class="line">    employee_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    employee_name <span class="built_in">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    skills <span class="built_in">VARCHAR</span>(<span class="number">200</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Insert and Query Data</strong>:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Insert an employee with skills</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employees (employee_name, skills) <span class="keyword">VALUES</span> (<span class="string">'John Doe'</span>, <span class="string">'Java,Python'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Query employees with a specific skill</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Employees</span><br><span class="line"><span class="keyword">WHERE</span> skills <span class="keyword">LIKE</span> <span class="string">'%Java%'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>However, this approach has several drawbacks. It violates the first normal form of database normalization, making it difficult to perform data manipulation and queries, and it can lead to data integrity issues.</p>
<h3 id="Non-Relational-Databases"><a href="#Non-Relational-Databases" class="headerlink" title="Non - Relational Databases"></a>Non - Relational Databases</h3><h4 id="1-Document-Databases-e-g-MongoDB"><a href="#1-Document-Databases-e-g-MongoDB" class="headerlink" title="1. Document Databases (e.g., MongoDB)"></a>1. Document Databases (e.g., MongoDB)</h4><p>In document databases, multi - valued attributes can be easily represented as arrays within a document.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><p><strong>Define the Document Structure</strong>: Create a collection and define the document structure to include an array for the multi - valued attribute.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Insert a document in the Employees collection</span></span><br><span class="line">db.employees.insertOne(&#123;</span><br><span class="line">    employee_name: <span class="string">'John Doe'</span>,</span><br><span class="line">    skills: [<span class="string">'Java'</span>, <span class="string">'Python'</span>]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Query Data</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Query employees with a specific skill</span></span><br><span class="line">db.employees.find(&#123; <span class="attr">skills</span>: <span class="string">'Java'</span> &#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-Graph-Databases-e-g-Neo4j"><a href="#2-Graph-Databases-e-g-Neo4j" class="headerlink" title="2. Graph Databases (e.g., Neo4j)"></a>2. Graph Databases (e.g., Neo4j)</h4><p>In graph databases, multi - valued attributes can be represented as relationships between nodes.</p>
<p><strong>Steps</strong>:</p>
<ul>
<li><p><strong>Create Nodes and Relationships</strong>: Create nodes for the main entity and the values of the multi - valued attribute, and then create relationships between them.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Create an employee node</span><br><span class="line">CREATE (:Employee &#123;name: &apos;John Doe&apos;&#125;)</span><br><span class="line">// Create skill nodes</span><br><span class="line">CREATE (:Skill &#123;name: &apos;Java&apos;&#125;)</span><br><span class="line">CREATE (:Skill &#123;name: &apos;Python&apos;&#125;)</span><br><span class="line">// Create relationships between the employee and skills</span><br><span class="line">MATCH (e:Employee &#123;name: &apos;John Doe&apos;&#125;), (s1:Skill &#123;name: &apos;Java&apos;&#125;), (s2:Skill &#123;name: &apos;Python&apos;&#125;)</span><br><span class="line">CREATE (e)-[:HAS_SKILL]-&gt;(s1)</span><br><span class="line">CREATE (e)-[:HAS_SKILL]-&gt;(s2);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Query Data</strong>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Query all skills of an employee</span><br><span class="line">MATCH (e:Employee &#123;name: &apos;John Doe&apos;&#125;)-[:HAS_SKILL]-&gt;(s:Skill)</span><br><span class="line">RETURN s.name;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="How-do-you-represent-a-many-to-many-relationship-in-database"><a href="#How-do-you-represent-a-many-to-many-relationship-in-database" class="headerlink" title="How do you represent a many-to-many relationship in database?"></a>How do you represent a many-to-many relationship in database?</h2><p>Here are the common ways to represent a many - to - many relationship in a database:</p>
<h3 id="1-Using-a-Junction-Table-Associative-Table"><a href="#1-Using-a-Junction-Table-Associative-Table" class="headerlink" title="1. Using a Junction Table (Associative Table)"></a>1. Using a Junction Table (Associative Table)</h3><p>This is the most prevalent method in relational databases.</p>
<h4 id="Step-1-Identify-the-related-tables"><a href="#Step-1-Identify-the-related-tables" class="headerlink" title="Step 1: Identify the related tables"></a>Step 1: Identify the related tables</h4><p>Suppose you have two entities that have a many - to - many relationship. For example, in a school database, “Students” and “Courses”. A student can enroll in multiple courses, and a course can have multiple students.</p>
<h4 id="Step-2-Create-the-junction-table"><a href="#Step-2-Create-the-junction-table" class="headerlink" title="Step 2: Create the junction table"></a>Step 2: Create the junction table</h4><p>The junction table contains at least two foreign keys, each referencing the primary key of one of the related tables.</p>
<ul>
<li><strong>Table creation in SQL (for MySQL)</strong>:<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Create the Students table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Students (</span><br><span class="line">    student_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    student_name <span class="built_in">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Create the Courses table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Courses (</span><br><span class="line">    course_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    course_name <span class="built_in">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Create the junction table (Enrollments)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Enrollments (</span><br><span class="line">    student_id <span class="built_in">INT</span>,</span><br><span class="line">    course_id <span class="built_in">INT</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (student_id, course_id),</span><br><span class="line">    FOREIGN <span class="keyword">KEY</span> (student_id) <span class="keyword">REFERENCES</span> Students(student_id),</span><br><span class="line">    FOREIGN <span class="keyword">KEY</span> (course_id) <span class="keyword">REFERENCES</span> Courses(course_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>In this example, the <code>Enrollments</code> table is the junction table. The combination of <code>student_id</code> and <code>course_id</code> forms a composite primary key, which ensures that each enrollment (a relationship between a student and a course) is unique.</p>
<h4 id="Step-3-Insert-and-query-data"><a href="#Step-3-Insert-and-query-data" class="headerlink" title="Step 3: Insert and query data"></a>Step 3: Insert and query data</h4><ul>
<li><p><strong>Inserting data</strong>:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Insert a student</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Students (student_name) <span class="keyword">VALUES</span> (<span class="string">'John Doe'</span>);</span><br><span class="line"><span class="comment">-- Insert a course</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Courses (course_name) <span class="keyword">VALUES</span> (<span class="string">'Mathematics'</span>);</span><br><span class="line"><span class="comment">-- Record the enrollment</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Enrollments (student_id, course_id) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Querying data</strong>: To find all courses a student is enrolled in, or all students enrolled in a course, you can use JOIN operations.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Find all courses John Doe is enrolled in</span></span><br><span class="line"><span class="keyword">SELECT</span> Courses.course_name</span><br><span class="line"><span class="keyword">FROM</span> Students</span><br><span class="line"><span class="keyword">JOIN</span> Enrollments <span class="keyword">ON</span> Students.student_id = Enrollments.student_id</span><br><span class="line"><span class="keyword">JOIN</span> Courses <span class="keyword">ON</span> Enrollments.course_id = Courses.course_id</span><br><span class="line"><span class="keyword">WHERE</span> Students.student_name = <span class="string">'John Doe'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-In-Non-Relational-Databases"><a href="#2-In-Non-Relational-Databases" class="headerlink" title="2. In Non - Relational Databases"></a>2. In Non - Relational Databases</h3><h4 id="Graph-Databases"><a href="#Graph-Databases" class="headerlink" title="Graph Databases"></a>Graph Databases</h4><ul>
<li>In graph databases like Neo4j, a many - to - many relationship is represented by nodes and relationships. Each entity is a node, and the relationship between them is an edge.</li>
<li>For example, you can create <code>Student</code> nodes and <code>Course</code> nodes. Then, you can create a <code>ENROLLED_IN</code> relationship between the <code>Student</code> and <code>Course</code> nodes.<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Create a student node</span><br><span class="line">CREATE (:Student &#123;name: &apos;John Doe&apos;&#125;)</span><br><span class="line">// Create a course node</span><br><span class="line">CREATE (:Course &#123;name: &apos;Mathematics&apos;&#125;)</span><br><span class="line">// Create the enrollment relationship</span><br><span class="line">MATCH (s:Student &#123;name: &apos;John Doe&apos;&#125;), (c:Course &#123;name: &apos;Mathematics&apos;&#125;)</span><br><span class="line">CREATE (s)-[:ENROLLED_IN]-&gt;(c);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Document-Databases"><a href="#Document-Databases" class="headerlink" title="Document Databases"></a>Document Databases</h4><ul>
<li>In document databases such as MongoDB, you can use arrays to represent many - to - many relationships in a denormalized way. For example, in the <code>students</code> collection, each student document can have an array of course IDs, and in the <code>courses</code> collection, each course document can have an array of student IDs. However, this approach can lead to data duplication and potential consistency issues.<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Insert a student document</span></span><br><span class="line">db.students.insertOne(&#123;</span><br><span class="line">    name: <span class="string">'John Doe'</span>,</span><br><span class="line">    courses: [ObjectId(<span class="string">"1234567890abcdef12345678"</span>), ObjectId(<span class="string">"234567890abcdef12345678"</span>)]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Insert a course document</span></span><br><span class="line">db.courses.insertOne(&#123;</span><br><span class="line">    name: <span class="string">'Mathematics'</span>,</span><br><span class="line">    students: [ObjectId(<span class="string">"abcdef1234567890abcdef12"</span>), ObjectId(<span class="string">"bcdef1234567890abcdef12"</span>)]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="TRANSACTION-JPA"><a href="#TRANSACTION-JPA" class="headerlink" title="TRANSACTION JPA"></a>TRANSACTION JPA</h1><ol>
<li>What is “Offline Transaction”?</li>
<li>How do we usually perform Transaction Management in JDBC?</li>
<li>What is Database Transaction?</li>
<li>What are entity states defined in Hibernate / JPA?</li>
<li>How can we transfer the entity between different states?</li>
<li>What are differences between save, persist?</li>
<li>What are differences between update, merge and saveOrUpdate?</li>
<li>How do you use elasticSearch in your java application</li>
</ol>
<ul>
<li><strong>@Transactional - atomic operation</strong><br>The <code>@Transactional</code> annotation in Spring JPA is used to mark a method or a class as a transactional operation. It ensures that the operations within the method are executed atomically. That is, either all the operations succeed and are committed to the database, or if an error occurs, all the operations are rolled back, maintaining data consistency.</li>
<li><strong>Propagation, Isolation</strong><br>Transaction propagation defines how a transaction should behave when a transactional method calls another transactional method. There are several propagation types like <code>REQUIRED</code>, <code>REQUIRES_NEW</code>, <code>SUPPORTS</code>, etc. Isolation levels define the degree to which one transaction is isolated from other transactions. Common isolation levels are <code>READ_UNCOMMITTED</code>, <code>READ_COMMITTED</code>, <code>REPEATABLE_READ</code>, and <code>SERIALIZABLE</code>. Each level has different trade-offs in terms of data consistency and concurrency.</li>
<li><strong>JPA naming convention</strong><br>JPA has certain naming conventions for mapping entity classes to database tables and columns. By default, it uses a naming strategy where the entity class name is mapped to the table name, and the property names are mapped to column names. However, you can also customize the naming using annotations like <code>@Table</code> and <code>@Column</code> to specify different names if needed.</li>
<li><strong>Paging and Sorting Using JPA</strong><br>JPA provides support for paging and sorting data. You can use the <code>Pageable</code> interface and related classes to specify the page number, page size, and sorting criteria. For example, you can use methods like <code>findAll(Pageable pageable)</code> in a JPA repository to retrieve a paginated and sorted list of entities.</li>
<li><strong>Hibernate Persistence Context</strong><br>The Hibernate persistence context is a set of managed entities that are associated with a particular session. It tracks the state of the entities and is responsible for synchronizing the changes between the entities and the database. It manages the lifecycle of the entities, including loading, saving, and deleting them.</li>
</ul>
<h2 id="how-does-jdbc-handle-database-connections"><a href="#how-does-jdbc-handle-database-connections" class="headerlink" title="how does jdbc handle database connections"></a>how does jdbc handle database connections</h2><p>JDBC (Java Database Connectivity) is a Java API that lets Java programs connect to and interact with databases.It provides a standard way to send SQL queries, retrieve data, update records, and manage database connections.</p>
<p>JDBC hides the details of how different databases work, so your Java code doesn’t need to change much if you switch databases.Under the hood, JDBC uses drivers (small libraries) provided by database vendors to handle the communication.</p>
<p>Typical steps include loading the driver, opening a connection, running SQL commands, handling results, and closing the connection.In real-world apps, JDBC is the foundation for higher-level tools like Hibernate, MyBatis, and Spring Data.</p>
<ul>
<li><strong>JDBC, statement vs PreparedStatement, Datasource</strong><ul>
<li>JDBC (Java Database Connectivity) is an API for interacting with databases in Java. </li>
<li><code>Statement</code> is used to execute SQL statements directly, but it is vulnerable to SQL injection attacks. </li>
<li><code>PreparedStatement</code> is a more secure and efficient alternative. It allows you to precompile SQL statements and set parameters, preventing SQL injection. </li>
<li>A <code>DataSource</code> is a factory for connections to a database. It manages the connection pool and provides connections to the application.</li>
</ul>
</li>
<li><strong>Hibernate ORM, Session, Cache</strong><br>Hibernate ORM is an Object Relational Mapping framework that allows you to map Java objects to database tables. A <code>Session</code> in Hibernate is a lightweight, short-lived object that provides an interface to interact with the database. It is used to perform operations like saving, loading, and deleting objects. Hibernate also has a caching mechanism to improve performance. It can cache objects in memory to reduce database access. There are different levels of caches, such as the first-level cache (session-level cache) and the second-level cache (shared cache across sessions).</li>
<li><strong>Optimistic Locking - add version column</strong><br>Optimistic locking is a concurrency control mechanism used in databases. In the context of Hibernate, it can be implemented by adding a version column to the database table. When an object is loaded, the version number is also loaded. When the object is updated, Hibernate checks if the version number has changed. If it has, it means the object has been modified by another transaction, and the update will fail, preventing data conflicts.</li>
<li><strong>Association: many - to - many</strong><br>In object-relational mapping, a many-to-many association is used when multiple objects of one entity can be related to multiple objects of another entity. For example, in a system with users and roles, a user can have multiple roles, and a role can be assigned to multiple users. In Hibernate, this is usually mapped using a join table and appropriate annotations like <code>@ManyToMany</code> and <code>@JoinTable</code>.</li>
</ul>
<h2 id="1-What-is-“Offline-Transaction”"><a href="#1-What-is-“Offline-Transaction”" class="headerlink" title="1. What is “Offline Transaction”?"></a>1. What is “Offline Transaction”?</h2><p>An offline transaction in the context of databases is a set of operations on data that occur without an immediate, real - time connection to the database server. The operations are carried out on a local copy of the data, and the changes are later synchronized with the main database.</p>
<p><strong>Example</strong>:</p>
<ul>
<li><strong>Mobile Banking App</strong>: A user opens a mobile banking app on their smartphone while on an airplane (no internet connection). They can view their account balance, transaction history which is stored locally. They can also initiate a new fund transfer. The app records this transfer request in a local database on the phone. Once the plane lands and the phone connects to the internet, the app synchronizes with the bank’s central database, uploading the new transfer request and downloading any new account updates.</li>
<li><strong>Field Salesperson</strong>: A salesperson visits clients in an area with poor network coverage. Using a tablet, they access a local copy of the customer database. They add new customer details and record sales orders. Later, when they get back to an area with a network, the tablet syncs the new data with the company’s central database.</li>
</ul>
<h2 id="2-How-do-we-usually-perform-Transaction-Management-in-JDBC"><a href="#2-How-do-we-usually-perform-Transaction-Management-in-JDBC" class="headerlink" title="2. How do we usually perform Transaction Management in JDBC?"></a>2. How do we usually perform Transaction Management in JDBC?</h2><p>In JDBC (Java Database Connectivity), transaction management involves the following steps:</p>
<p><strong>Step 1: Disable Auto - Commit Mode</strong><br>By default, JDBC operates in auto - commit mode where each SQL statement is treated as a separate transaction. To group multiple statements into a single transaction, we need to disable auto - commit.<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCTransactionExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Establish a connection</span></span><br><span class="line">            connection = DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/mydb"</span>, <span class="string">"user"</span>, <span class="string">"password"</span>);</span><br><span class="line">            <span class="comment">// Disable auto - commit</span></span><br><span class="line">            connection.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">            Statement statement = connection.createStatement();</span><br><span class="line">            <span class="comment">// Execute SQL statements</span></span><br><span class="line">            statement.executeUpdate(<span class="string">"INSERT INTO employees (name, salary) VALUES ('John', 5000)"</span>);</span><br><span class="line">            statement.executeUpdate(<span class="string">"UPDATE departments SET budget = budget - 5000 WHERE dept_name = 'IT'"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Commit the transaction</span></span><br><span class="line">            connection.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (connection != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// Rollback the transaction in case of an error</span></span><br><span class="line">                    connection.rollback();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (connection != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    connection.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Explanation</strong>:</p>
<ul>
<li><code>connection.setAutoCommit(false)</code>: Disables auto - commit mode so that statements are grouped into a single transaction.</li>
<li><code>connection.commit()</code>: Commits all the statements in the transaction if everything goes well.</li>
<li><code>connection.rollback()</code>: Rolls back all the statements in the transaction if an error occurs.</li>
</ul>
<h2 id="3-What-is-Database-Transaction"><a href="#3-What-is-Database-Transaction" class="headerlink" title="3. What is Database Transaction?"></a>3. What is Database Transaction?</h2><p>A database transaction is a sequence of one or more SQL statements that are treated as a single unit of work. It must satisfy the ACID properties:</p>
<ul>
<li><strong>Atomicity</strong>: Either all the statements in the transaction are executed successfully, or none of them are. For example, in a bank transfer, if you transfer money from one account to another, either both the debit from the source account and the credit to the destination account happen, or neither does.</li>
<li><strong>Consistency</strong>: The transaction takes the database from one consistent state to another. For instance, if a rule in the database states that the total balance of all accounts should always be the same, a transaction should maintain this consistency.</li>
<li><strong>Isolation</strong>: Transactions are isolated from each other. One transaction should not be affected by the intermediate states of other concurrent transactions. For example, if two users are trying to transfer money at the same time, their transactions should not interfere with each other.</li>
<li><strong>Durability</strong>: Once a transaction is committed, its changes are permanent and will survive any subsequent system failures.</li>
</ul>
<h2 id="4-What-are-entity-states-defined-in-Hibernate-JPA"><a href="#4-What-are-entity-states-defined-in-Hibernate-JPA" class="headerlink" title="4. What are entity states defined in Hibernate / JPA?"></a>4. What are entity states defined in Hibernate / JPA?</h2><p>In Hibernate and JPA (Java Persistence API), entities can be in one of the following states:</p>
<ul>
<li><p><strong>Transient</strong>: An entity is transient when it is created using the <code>new</code> keyword and has not been associated with a persistence context. It has no corresponding row in the database.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Transient entity</span></span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">employee.setName(<span class="string">"Jane"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Persistent</strong>: A persistent entity is associated with a persistence context and has a corresponding row in the database. Any changes made to a persistent entity will be automatically synchronized with the database when the transaction is committed.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee employee = entityManager.find(Employee.class, <span class="number">1L</span>);</span><br><span class="line"><span class="comment">// Now the employee is in persistent state</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Detached</strong>: A detached entity was once persistent but is no longer associated with a persistence context. It still has a corresponding row in the database, but changes made to it will not be automatically synchronized.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">entityManager.getTransaction().commit();</span><br><span class="line">entityManager.close();</span><br><span class="line"><span class="comment">// Now the employee is in detached state</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Removed</strong>: An entity is in the removed state when it has been marked for deletion from the database. Once the transaction is committed, the corresponding row in the database will be deleted.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee employee = entityManager.find(Employee.class, <span class="number">1L</span>);</span><br><span class="line">entityManager.remove(employee);</span><br><span class="line"><span class="comment">// Now the employee is in removed state</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-How-can-we-transfer-the-entity-between-different-states"><a href="#5-How-can-we-transfer-the-entity-between-different-states" class="headerlink" title="5. How can we transfer the entity between different states?"></a>5. How can we transfer the entity between different states?</h2><ul>
<li><p><strong>Transient to Persistent</strong>: Use methods like <code>persist()</code> or <code>save()</code> in Hibernate. In JPA, you can use <code>EntityManager.persist()</code>.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">employee.setName(<span class="string">"Tom"</span>);</span><br><span class="line">entityManager.persist(employee);</span><br><span class="line"><span class="comment">// Now the employee is in persistent state</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Persistent to Detached</strong>: Closing the <code>EntityManager</code> or clearing the persistence context will make a persistent entity detached.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">entityManager.getTransaction().commit();</span><br><span class="line">entityManager.close();</span><br><span class="line"><span class="comment">// The previously persistent entity is now detached</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Detached to Persistent</strong>: Use the <code>merge()</code> method in JPA.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">EntityManager newEntityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">newEntityManager.getTransaction().begin();</span><br><span class="line">Employee detachedEmployee = getDetachedEmployee();</span><br><span class="line">Employee persistentEmployee = newEntityManager.merge(detachedEmployee);</span><br><span class="line"><span class="comment">// Now the entity is back in persistent state</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Persistent/Detached to Removed</strong>: Use the <code>remove()</code> method in JPA.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee employee = entityManager.find(Employee.class, <span class="number">1L</span>);</span><br><span class="line">entityManager.remove(employee);</span><br><span class="line"><span class="comment">// Now the employee is in removed state</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="6-What-are-differences-between-save-persist"><a href="#6-What-are-differences-between-save-persist" class="headerlink" title="6. What are differences between save, persist?"></a>6. What are differences between save, persist?</h2><ul>
<li><p><strong><code>save()</code> (Hibernate - specific)</strong>:</p>
<ul>
<li>Returns the generated identifier immediately. It can be used to insert a new entity into the database. If the entity is already persistent, it may throw an exception.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Session session = sessionFactory.openSession();</span><br><span class="line">Transaction transaction = session.beginTransaction();</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">employee.setName(<span class="string">"Alice"</span>);</span><br><span class="line">Serializable id = session.save(employee);</span><br><span class="line">transaction.commit();</span><br><span class="line">session.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong><code>persist()</code> (JPA - standard)</strong>:</p>
<ul>
<li>Does not guarantee that the identifier will be assigned immediately. It is used to make a transient entity persistent. If the entity is already persistent, it will have no effect.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">employee.setName(<span class="string">"Bob"</span>);</span><br><span class="line">entityManager.persist(employee);</span><br><span class="line">entityManager.getTransaction().commit();</span><br><span class="line">entityManager.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="7-What-are-differences-between-update-merge-and-saveOrUpdate"><a href="#7-What-are-differences-between-update-merge-and-saveOrUpdate" class="headerlink" title="7. What are differences between update, merge and saveOrUpdate?"></a>7. What are differences between update, merge and saveOrUpdate?</h2><ul>
<li><p><strong><code>update()</code> (Hibernate - specific)</strong>:</p>
<ul>
<li>Used to make a detached entity persistent. If the entity is already persistent, it may throw an exception. It directly updates the database row corresponding to the entity.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Session session = sessionFactory.openSession();</span><br><span class="line">Transaction transaction = session.beginTransaction();</span><br><span class="line">Employee detachedEmployee = getDetachedEmployee();</span><br><span class="line">session.update(detachedEmployee);</span><br><span class="line">transaction.commit();</span><br><span class="line">session.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong><code>merge()</code> (JPA - standard)</strong>:</p>
<ul>
<li>Creates a copy of the detached entity, makes the copy persistent, and returns the persistent copy. The original detached entity remains detached. It can handle both transient and detached entities.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">entityManager.getTransaction().begin();</span><br><span class="line">Employee detachedEmployee = getDetachedEmployee();</span><br><span class="line">Employee mergedEmployee = entityManager.merge(detachedEmployee);</span><br><span class="line">entityManager.getTransaction().commit();</span><br><span class="line">entityManager.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong><code>saveOrUpdate()</code> (Hibernate - specific)</strong>:</p>
<ul>
<li>Checks if the entity has an identifier. If it does not have an identifier, it acts like <code>save()</code>. If it has an identifier, it acts like <code>update()</code>.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Session session = sessionFactory.openSession();</span><br><span class="line">Transaction transaction = session.beginTransaction();</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">session.saveOrUpdate(employee);</span><br><span class="line">transaction.commit();</span><br><span class="line">session.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="8-How-do-you-use-Elasticsearch-in-your-Java-application"><a href="#8-How-do-you-use-Elasticsearch-in-your-Java-application" class="headerlink" title="8. How do you use Elasticsearch in your Java application?"></a>8. How do you use Elasticsearch in your Java application?</h2><p>To use Elasticsearch in a Java application, you can follow these steps:</p>
<p><strong>Step 1: Add Dependencies</strong><br>If you are using Maven, add the following dependencies to your <code>pom.xml</code>:<br><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch.client<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch-rest-high-level-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.17.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Step 2: Create a Client</strong><br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.http.HttpHost;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.client.RestClient;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.client.RestHighLevelClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ElasticsearchClientExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        RestHighLevelClient client = <span class="keyword">new</span> RestHighLevelClient(</span><br><span class="line">                RestClient.builder(<span class="keyword">new</span> HttpHost(<span class="string">"localhost"</span>, <span class="number">9200</span>, <span class="string">"http"</span>)));</span><br><span class="line">        <span class="comment">// Use the client for operations</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Perform operations like indexing, searching, etc.</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                client.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Step 3: Index a Document</strong><br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.elasticsearch.action.index.IndexRequest;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.action.index.IndexResponse;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.client.RequestOptions;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.common.xcontent.XContentType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ElasticsearchIndexExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        RestHighLevelClient client = <span class="keyword">new</span> RestHighLevelClient(</span><br><span class="line">                RestClient.builder(<span class="keyword">new</span> HttpHost(<span class="string">"localhost"</span>, <span class="number">9200</span>, <span class="string">"http"</span>)));</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Object&gt; jsonMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        jsonMap.put(<span class="string">"title"</span>, <span class="string">"Elasticsearch Tutorial"</span>);</span><br><span class="line">        jsonMap.put(<span class="string">"content"</span>, <span class="string">"Learn how to use Elasticsearch in Java"</span>);</span><br><span class="line"></span><br><span class="line">        IndexRequest request = <span class="keyword">new</span> IndexRequest(<span class="string">"my_index"</span>)</span><br><span class="line">               .id(<span class="string">"1"</span>)</span><br><span class="line">               .source(jsonMap, XContentType.JSON);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            IndexResponse indexResponse = client.index(request, RequestOptions.DEFAULT);</span><br><span class="line">            System.out.println(indexResponse);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                client.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Step 4: Search for Documents</strong><br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.elasticsearch.action.search.SearchRequest;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.action.search.SearchResponse;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.client.RequestOptions;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.index.query.QueryBuilders;</span><br><span class="line"><span class="keyword">import</span> org.elasticsearch.search.builder.SearchSourceBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ElasticsearchSearchExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        RestHighLevelClient client = <span class="keyword">new</span> RestHighLevelClient(</span><br><span class="line">                RestClient.builder(<span class="keyword">new</span> HttpHost(<span class="string">"localhost"</span>, <span class="number">9200</span>, <span class="string">"http"</span>)));</span><br><span class="line"></span><br><span class="line">        SearchRequest searchRequest = <span class="keyword">new</span> SearchRequest(<span class="string">"my_index"</span>);</span><br><span class="line">        SearchSourceBuilder searchSourceBuilder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        searchSourceBuilder.query(QueryBuilders.matchQuery(<span class="string">"title"</span>, <span class="string">"Elasticsearch"</span>));</span><br><span class="line">        searchRequest.source(searchSourceBuilder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);</span><br><span class="line">            System.out.println(searchResponse);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                client.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="UNIT-TEST"><a href="#UNIT-TEST" class="headerlink" title="UNIT TEST"></a>UNIT TEST</h1><ol>
<li>Explain and name some methods that you used in JUnit.</li>
<li>Explain and name some annotations that you used in JUnit.</li>
<li>What is Mockito and the usage of it?</li>
</ol>
<h2 id="1-Commonly-Used-Methods-in-JUnit"><a href="#1-Commonly-Used-Methods-in-JUnit" class="headerlink" title="1. Commonly - Used Methods in JUnit"></a>1. Commonly - Used Methods in JUnit</h2><h3 id="assertEquals"><a href="#assertEquals" class="headerlink" title="assertEquals()"></a><code>assertEquals()</code></h3><ul>
<li><strong>Explanation</strong>: This method is used to verify if two values are equal. It is very useful when you want to check if the result of a method call in your code under test matches the expected result.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CalculatorTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAddition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Calculator calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">        <span class="keyword">int</span> result = calculator.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        assertEquals(<span class="number">5</span>, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="assertTrue-and-assertFalse"><a href="#assertTrue-and-assertFalse" class="headerlink" title="assertTrue() and assertFalse()"></a><code>assertTrue()</code> and <code>assertFalse()</code></h3><ul>
<li><strong>Explanation</strong>: <code>assertTrue()</code> is used to verify if a given condition is <code>true</code>, and <code>assertFalse()</code> is used to verify if a condition is <code>false</code>. These are handy when you want to check the truth - value of a boolean expression returned by a method.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertTrue;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertFalse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringUtilTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIsEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringUtil stringUtil = <span class="keyword">new</span> StringUtil();</span><br><span class="line">        assertTrue(stringUtil.isEmpty(<span class="string">""</span>));</span><br><span class="line">        assertFalse(stringUtil.isEmpty(<span class="string">"Hello"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str == <span class="keyword">null</span> || str.length() == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="assertNull-and-assertNotNull"><a href="#assertNull-and-assertNotNull" class="headerlink" title="assertNull() and assertNotNull()"></a><code>assertNull()</code> and <code>assertNotNull()</code></h3><ul>
<li><strong>Explanation</strong>: <code>assertNull()</code> checks if an object reference is <code>null</code>, while <code>assertNotNull()</code> checks if an object reference is not <code>null</code>. They are useful when you need to ensure that a method returns or does not return a <code>null</code> value.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertNull;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertNotNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectFactoryTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCreateObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ObjectFactory objectFactory = <span class="keyword">new</span> ObjectFactory();</span><br><span class="line">        Object obj = objectFactory.createObject();</span><br><span class="line">        assertNotNull(obj);</span><br><span class="line">        Object nullObj = objectFactory.createNullObject();</span><br><span class="line">        assertNull(nullObj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObjectFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">createObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Object();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">createNullObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-Commonly-Used-Annotations-in-JUnit"><a href="#2-Commonly-Used-Annotations-in-JUnit" class="headerlink" title="2. Commonly - Used Annotations in JUnit"></a>2. Commonly - Used Annotations in JUnit</h2><h3 id="Test-1"><a href="#Test-1" class="headerlink" title="@Test"></a><code>@Test</code></h3><ul>
<li><strong>Explanation</strong>: This annotation is used to mark a method as a test method. JUnit will execute all methods annotated with <code>@Test</code> when running the test class.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Test logic here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="BeforeEach"><a href="#BeforeEach" class="headerlink" title="@BeforeEach"></a><code>@BeforeEach</code></h3><ul>
<li><strong>Explanation</strong>: Methods annotated with <code>@BeforeEach</code> are executed before each test method. This is useful for setting up the test environment, such as initializing objects or variables that are needed for each test.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userService = <span class="keyword">new</span> UserService();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCreateUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Use userService for testing</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Class implementation</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="AfterEach"><a href="#AfterEach" class="headerlink" title="@AfterEach"></a><code>@AfterEach</code></h3><ul>
<li><strong>Explanation</strong>: Methods annotated with <code>@AfterEach</code> are executed after each test method. This is used for cleaning up resources, such as closing database connections or releasing memory.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> File tempFile;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testWriteToFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        tempFile = <span class="keyword">new</span> File(<span class="string">"temp.txt"</span>);</span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(tempFile);</span><br><span class="line">        writer.write(<span class="string">"Test data"</span>);</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tearDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tempFile != <span class="keyword">null</span> &amp;&amp; tempFile.exists()) &#123;</span><br><span class="line">            tempFile.delete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="BeforeAll-and-AfterAll"><a href="#BeforeAll-and-AfterAll" class="headerlink" title="@BeforeAll and @AfterAll"></a><code>@BeforeAll</code> and <code>@AfterAll</code></h3><ul>
<li><strong>Explanation</strong>: <code>@BeforeAll</code> is used to annotate a static method that will be executed once before all the test methods in the class. <code>@AfterAll</code> is used to annotate a static method that will be executed once after all the test methods in the class. These are useful for performing expensive setup and cleanup operations, like starting and stopping a database server.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeAll;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterAll;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DatabaseService databaseService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeAll</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setUpAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        databaseService = <span class="keyword">new</span> DatabaseService();</span><br><span class="line">        databaseService.startDatabase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryDatabase</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Test database query</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">tearDownAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        databaseService.stopDatabase();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DatabaseService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startDatabase</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Start database logic</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopDatabase</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Stop database logic</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-What-is-Mockito-and-its-Usage"><a href="#3-What-is-Mockito-and-its-Usage" class="headerlink" title="3. What is Mockito and its Usage"></a>3. What is Mockito and its Usage</h2><h3 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition"></a>Definition</h3><p>Mockito is a popular open - source testing framework for Java that allows you to create mock objects. Mock objects are simulated objects that mimic the behavior of real objects in a controlled way. They are used to isolate the code under test from its dependencies, making unit tests more reliable and faster.</p>
<h3 id="Common-Usages"><a href="#Common-Usages" class="headerlink" title="Common Usages"></a>Common Usages</h3><h4 id="Creating-Mock-Objects"><a href="#Creating-Mock-Objects" class="headerlink" title="Creating Mock Objects"></a>Creating Mock Objects</h4><ul>
<li>You can use <code>Mockito.mock()</code> to create a mock object of a class or an interface.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.mock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MockitoExample</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMockCreation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MyInterface myMock = mock(MyInterface.class);</span><br><span class="line">        <span class="comment">// Now myMock is a mock object of MyInterface</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Stubbing-Methods"><a href="#Stubbing-Methods" class="headerlink" title="Stubbing Methods"></a>Stubbing Methods</h4><ul>
<li>Stubbing means defining the behavior of a method on a mock object. You can use methods like <code>when()</code> and <code>thenReturn()</code> to stub methods.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.mock;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.when;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StubbingExample</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStubbing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MyService myService = mock(MyService.class);</span><br><span class="line">        when(myService.getResult()).thenReturn(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">int</span> result = myService.getResult();</span><br><span class="line">        <span class="comment">// result will be 10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Verifying-Method-Calls"><a href="#Verifying-Method-Calls" class="headerlink" title="Verifying Method Calls"></a>Verifying Method Calls</h4><ul>
<li>You can use <code>Mockito.verify()</code> to check if a method on a mock object has been called with specific arguments.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.mock;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.verify;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VerificationExample</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testVerification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MyInterface myMock = mock(MyInterface.class);</span><br><span class="line">        myMock.doSomething();</span><br><span class="line">        verify(myMock).doSomething();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="InjectMocks和-Mock"><a href="#InjectMocks和-Mock" class="headerlink" title="@InjectMocks和@Mock"></a>@InjectMocks和@Mock</h4><p><code>@InjectMocks</code> 和 <code>@Mock</code> 是在使用 Mockito 框架进行单元测试时常用的注解，二者在功能和使用场景上存在明显差异，下面为你详细介绍：</p>
<h5 id="功能用途"><a href="#功能用途" class="headerlink" title="功能用途"></a>功能用途</h5><ul>
<li><strong><code>@Mock</code></strong>：此注解的作用是创建一个模拟对象。模拟对象可以用来模拟真实对象的行为，它会接管真实对象的所有方法调用，让你能自由地设定方法的返回值、抛出异常等。在单元测试里，当你想要隔离外部依赖时，可使用 <code>@Mock</code> 来创建这些依赖的模拟对象，这样就能专注于测试目标对象的逻辑，而不受外部依赖的影响。</li>
<li><strong><code>@InjectMocks</code></strong>：该注解用于创建一个真实对象，并且会尝试将使用 <code>@Mock</code> 注解创建的模拟对象注入到这个真实对象里。在测试时，若目标对象依赖于其他对象，你可以使用 <code>@InjectMocks</code> 来创建目标对象，再用 <code>@Mock</code> 来创建其依赖对象，随后 Mockito 会自动把这些模拟对象注入到目标对象中。</li>
</ul>
<h5 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h5><ul>
<li><strong><code>@Mock</code></strong>：适用于需要对某个外部依赖进行模拟的场景。例如，当目标对象依赖于数据库访问对象、网络服务对象等，而你不希望在测试时实际访问数据库或网络时，就可以使用 <code>@Mock</code> 来模拟这些依赖对象的行为。</li>
<li><strong><code>@InjectMocks</code></strong>：适用于测试目标对象的整体逻辑，且该对象依赖于多个其他对象的场景。通过 <code>@InjectMocks</code> 创建目标对象，再用 <code>@Mock</code> 创建其依赖对象，可模拟出目标对象的运行环境，进而测试其在不同依赖行为下的逻辑表现。</li>
</ul>
<h5 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.extension.ExtendWith;</span><br><span class="line"><span class="keyword">import</span> org.mockito.InjectMocks;</span><br><span class="line"><span class="keyword">import</span> org.mockito.Mock;</span><br><span class="line"><span class="keyword">import</span> org.mockito.junit.jupiter.MockitoExtension;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.when;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个依赖类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dependency</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"real data"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个需要测试的类，它依赖于 Dependency 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Dependency dependency;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyService</span><span class="params">(Dependency dependency)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dependency = dependency;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">processData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Processed: "</span> + dependency.getData();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ExtendWith</span>(MockitoExtension.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MockitoAnnotationsExample</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 创建 Dependency 类的模拟对象</span></span><br><span class="line">    <span class="meta">@Mock</span></span><br><span class="line">    <span class="keyword">private</span> Dependency dependency;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建 MyService 类的实例，并将模拟的 Dependency 对象注入其中</span></span><br><span class="line">    <span class="meta">@InjectMocks</span></span><br><span class="line">    <span class="keyword">private</span> MyService myService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testProcessData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 设定模拟对象 dependency 的 getData 方法的返回值</span></span><br><span class="line">        when(dependency.getData()).thenReturn(<span class="string">"mocked data"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用 MyService 的 processData 方法</span></span><br><span class="line">        String result = myService.processData();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 验证结果</span></span><br><span class="line">        assertEquals(<span class="string">"Processed: mocked data"</span>, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h5><ul>
<li><code>@Mock</code> 主要用于创建模拟对象，以此模拟外部依赖的行为。</li>
<li><code>@InjectMocks</code> 用于创建真实对象，并把模拟对象注入到该真实对象中，从而测试其整体逻辑。 </li>
</ul>
<h1 id="MICROSERVICE"><a href="#MICROSERVICE" class="headerlink" title="MICROSERVICE"></a>MICROSERVICE</h1><ol>
<li>In your own word, please describe some of the advantages and disadvantages of a</li>
<li>Monolithic Application.</li>
<li>In your own word, please describe some of the advantages and disadvantages of a</li>
<li>Microservice Application.</li>
<li>What is the purpose of using Netflix Eureka?</li>
<li>How can microservices communicate with each other?</li>
<li>What is the purpose of using Spring API Gateway?</li>
<li>Explain cascading failure in microservice and how to prevent it.</li>
<li>Explain CircuitBreaker and how it works in detail.</li>
</ol>
<p>The following is an explanation of each question along with relevant examples:</p>
<h2 id="Monolithic-Application"><a href="#Monolithic-Application" class="headerlink" title="Monolithic Application"></a>Monolithic Application</h2><ul>
<li><strong>Advantages</strong><ul>
<li><strong>Simplicity</strong>: It’s a single unit, easy to develop, test and deploy. For example, a small blog website built with a monolithic architecture can be developed quickly as all the components are in one place.</li>
<li><strong>Ease of Data Management</strong>: All components can access the same database easily, simplifying data consistency. In a monolithic e-commerce app, the product, order and user data can be managed centrally.</li>
<li><strong>Good for Small Projects</strong>: Ideal for small-scale applications with low complexity and clear requirements. A simple internal management system for a small company may not need the complexity of a distributed architecture.</li>
</ul>
</li>
<li><strong>Disadvantages</strong><ul>
<li><strong>Scalability Issues</strong>: As the application grows, it becomes hard to scale. If a monolithic social media app experiences a sudden traffic spike, scaling the entire application is more difficult and expensive than scaling individual components.</li>
<li><strong>Slow Deployment</strong>: Any change requires redeploying the entire application. If you want to update a single feature in a monolithic banking app, the whole app needs to be deployed, causing potential downtime.</li>
<li><strong>Technology Limitations</strong>: It’s hard to adopt new technologies or frameworks in a monolithic structure. For example, if you want to use a new data processing framework in a monolithic app that’s already using an old tech stack, it may require a major rewrite.</li>
</ul>
</li>
</ul>
<h2 id="Microservice-Application"><a href="#Microservice-Application" class="headerlink" title="Microservice Application"></a>Microservice Application</h2><ul>
<li><strong>Advantages</strong><ul>
<li><strong>High Scalability</strong>: Each microservice can be scaled independently. In a large e-commerce platform like Amazon, the order processing, inventory management and user profile services can be scaled based on their specific load.</li>
<li><strong>Technology Diversity</strong>: Different microservices can use different technologies based on their requirements. For example, the image processing microservice can use a different technology stack than the user authentication microservice.</li>
<li><strong>Faster Deployment</strong>: Only the updated microservice needs to be deployed. If a new feature is added to the payment microservice of a fintech app, only that microservice is deployed, minimizing downtime.</li>
</ul>
</li>
<li><strong>Disadvantages</strong><ul>
<li><strong>Complexity in Management</strong>: Managing multiple microservices, their communication and dependencies is complex. For example, coordinating data updates across multiple microservices in a healthcare application can be challenging.</li>
<li><strong>Data Consistency</strong>: Ensuring data consistency across multiple microservices is difficult. In a microservices-based ride-hailing app, maintaining the consistency of driver and rider data across different services can be a problem.</li>
<li><strong>Testing Complexity</strong>: Testing the entire system becomes more complex as it involves testing multiple microservices and their interactions. Testing a microservices-based logistics app requires testing each service and how they work together.</li>
</ul>
</li>
</ul>
<h2 id="Netflix-Eureka"><a href="#Netflix-Eureka" class="headerlink" title="Netflix Eureka"></a>Netflix Eureka</h2><ul>
<li><strong>Purpose</strong>: It’s a service discovery tool. It allows microservices in a distributed system to register and discover each other. For example, in a microservices architecture where there are multiple user service instances and order service instances, Eureka helps the order service find the available user service instances to communicate with.</li>
</ul>
<h2 id="Microservices-Communication"><a href="#Microservices-Communication" class="headerlink" title="Microservices Communication"></a>Microservices Communication</h2><ul>
<li><strong>Methods</strong>:<ul>
<li><strong>RESTful API</strong>: Microservices can communicate via HTTP requests using RESTful APIs. For example, a product service can expose a REST API that a shopping cart service can call to get product details.</li>
<li><strong>Message Queues</strong>: They can use message queues like RabbitMQ or Kafka. For instance, in an e-commerce system, when an order is placed, the order service can send a message to a message queue, which the inventory service listens to and updates the inventory accordingly.</li>
</ul>
</li>
</ul>
<h2 id="Spring-API-Gateway"><a href="#Spring-API-Gateway" class="headerlink" title="Spring API Gateway"></a>Spring API Gateway</h2><ul>
<li><strong>Purpose</strong>: It acts as a single entry point for all microservices. It provides features like request routing, authentication, rate limiting, etc. For example, in a microservices-based application, all external requests first come to the API gateway, which then routes the requests to the appropriate microservices. It can also apply authentication and authorization rules before allowing the request to reach the microservices.</li>
</ul>
<h2 id="Cascading-Failure-in-Microservice-and-Prevention"><a href="#Cascading-Failure-in-Microservice-and-Prevention" class="headerlink" title="Cascading Failure in Microservice and Prevention"></a>Cascading Failure in Microservice and Prevention</h2><ul>
<li><strong>Explanation</strong>: In a microservices environment, if one microservice fails, it can cause other dependent microservices to fail, leading to a cascading effect. For example, if the user service in a social media app fails, the services that depend on it like the post service (which needs to get user information) and the comment service may also fail.</li>
<li><strong>Prevention</strong>:<ul>
<li><strong>Circuit Breaker</strong>: Implementing circuit breakers can prevent cascading failures. If a microservice fails to respond after a certain number of attempts, the circuit breaker trips and stops sending requests to that service, preventing other services from waiting indefinitely and potentially failing.</li>
<li><strong>Isolation</strong>: Using techniques like thread pools and resource isolation to ensure that the failure of one microservice doesn’t exhaust the resources of other services.</li>
</ul>
</li>
</ul>
<h2 id="Circuit-Breaker"><a href="#Circuit-Breaker" class="headerlink" title="Circuit Breaker"></a>Circuit Breaker</h2><ul>
<li><strong>Explanation</strong>: A circuit breaker is a design pattern used to prevent cascading failures in a microservices architecture. It monitors the health of a service and if the service fails to respond or returns errors frequently, the circuit breaker trips and stops sending requests to that service for a certain period.</li>
<li><strong>How it Works</strong>:<ul>
<li><strong>Closed State</strong>: Initially, the circuit breaker is in the closed state and all requests are sent to the service as normal.</li>
<li><strong>Open State</strong>: If the service fails a certain number of times within a given time period, the circuit breaker opens. In this state, all requests to the service are immediately failed without being sent to the actual service.</li>
<li><strong>Half-Open State</strong>: After a certain period in the open state, the circuit breaker enters the half-open state. It allows a small number of requests to be sent to the service to check if it has recovered. If the requests succeed, the circuit breaker closes and normal operation resumes. If the requests fail, the circuit breaker returns to the open state.</li>
</ul>
</li>
</ul>
<h1 id="DEVOPS"><a href="#DEVOPS" class="headerlink" title="DEVOPS"></a>DEVOPS</h1><ol>
<li>Use your own words to explain Jenkins.</li>
<li>Can you talk about CI/CD?</li>
<li>Git command you used in the project</li>
<li>How do you release from the git repository</li>
<li>How do you combine several commits together</li>
<li>What is git cherry-pick</li>
<li>difference between git and svn</li>
<li>difference git merge and rebase</li>
</ol>
<h2 id="1-Jenkins"><a href="#1-Jenkins" class="headerlink" title="1. Jenkins"></a>1. Jenkins</h2><p>Jenkins is an open - source automation server widely used in software development. Its main purpose is to automate various stages of the software development lifecycle, such as building, testing, and deploying applications.</p>
<p><strong>How it works</strong>:<br>Jenkins has a web - based interface where you can create and configure jobs. A job in Jenkins can represent a specific task, like building a Java project or running a set of unit tests. You can define the steps of the job, including the commands to execute, the source code repositories to pull from, and the environment variables to use.</p>
<p><strong>Example</strong>:<br>Suppose you are developing a Python web application. You can set up a Jenkins job to automatically pull the latest code from a Git repository, install the necessary Python dependencies, run unit tests, and then deploy the application to a staging server if the tests pass.</p>
<h2 id="2-CI-CD"><a href="#2-CI-CD" class="headerlink" title="2. CI/CD"></a>2. CI/CD</h2><ul>
<li><strong>CI (Continuous Integration)</strong>:<ul>
<li>CI is a development practice where developers frequently integrate their code changes into a shared repository. Every time code is pushed to the repository, an automated build and test process is triggered. This helps to catch integration issues early in the development cycle.</li>
<li>Example: In a team of developers working on a mobile app, each developer may push their code changes to the main Git repository several times a day. A CI server (like Jenkins) then automatically builds the app from the latest code and runs unit and integration tests. If any tests fail, the developers are notified immediately.</li>
</ul>
</li>
<li><strong>CD (Continuous Delivery/Deployment)</strong>:<ul>
<li>Continuous Delivery is an extension of CI. It ensures that the software can be reliably released to production at any time. After the code passes the CI tests, it is automatically prepared for deployment, but the actual deployment to production may be a manual step.</li>
<li>Continuous Deployment takes it a step further and automatically deploys the software to production if it passes all the tests.</li>
<li>Example: For a web - based e - commerce application, with continuous delivery, once the code passes the CI tests, it is packaged and stored in a deployment artifact repository. A release manager can then decide when to deploy it to the production servers. In continuous deployment, the application is automatically deployed to production as soon as the tests pass.</li>
</ul>
</li>
</ul>
<h2 id="3-Git-commands-used-in-a-project"><a href="#3-Git-commands-used-in-a-project" class="headerlink" title="3. Git commands used in a project"></a>3. Git commands used in a project</h2><ul>
<li><strong><code>git clone</code></strong>: Used to create a local copy of a remote Git repository.<ul>
<li>Example: <code>git clone https://github.com/user/repo.git</code> creates a local copy of the <code>repo</code> repository hosted on GitHub.</li>
</ul>
</li>
<li><strong><code>git add</code></strong>: Adds changes in the working directory to the staging area.<ul>
<li>Example: <code>git add src/main.py</code> adds the changes made to the <code>main.py</code> file to the staging area.</li>
</ul>
</li>
<li><strong><code>git commit</code></strong>: Commits the changes from the staging area to the local repository with a descriptive message.<ul>
<li>Example: <code>git commit -m &quot;Fixed a bug in the login function&quot;</code></li>
</ul>
</li>
<li><strong><code>git push</code></strong>: Pushes the committed changes from the local repository to a remote repository.<ul>
<li>Example: <code>git push origin main</code> pushes the changes from the local <code>main</code> branch to the <code>main</code> branch of the remote repository named <code>origin</code>.</li>
</ul>
</li>
<li><strong><code>git pull</code></strong>: Fetches and merges changes from a remote repository into the local repository.<ul>
<li>Example: <code>git pull origin main</code> fetches the latest changes from the <code>main</code> branch of the <code>origin</code> remote repository and merges them into the local <code>main</code> branch.</li>
</ul>
</li>
</ul>
<h2 id="4-Releasing-from-the-Git-repository"><a href="#4-Releasing-from-the-Git-repository" class="headerlink" title="4. Releasing from the Git repository"></a>4. Releasing from the Git repository</h2><ul>
<li><strong>Create a Release Branch (Optional)</strong>:<ul>
<li>You can create a dedicated release branch from the main development branch (e.g., <code>main</code> or <code>master</code>). For example, <code>git checkout -b release/v1.0 main</code> creates a new release branch named <code>release/v1.0</code> from the <code>main</code> branch.</li>
</ul>
</li>
<li><strong>Tag the Release</strong>:<ul>
<li>Use the <code>git tag</code> command to mark a specific commit as a release. For example, <code>git tag v1.0</code> tags the current commit as version <code>v1.0</code>. You can then push the tags to the remote repository using <code>git push origin --tags</code>.</li>
</ul>
</li>
<li><strong>Build and Deploy</strong>:<ul>
<li>Use the tagged commit to build the application and deploy it to the appropriate environments (staging, production, etc.).</li>
</ul>
</li>
</ul>
<h2 id="5-Combining-several-commits-together"><a href="#5-Combining-several-commits-together" class="headerlink" title="5. Combining several commits together"></a>5. Combining several commits together</h2><p>You can use the <code>git rebase -i</code> (interactive rebase) command to combine multiple commits.</p>
<ul>
<li><strong>Example</strong>: Suppose you have made 3 consecutive commits and want to combine them into one.<ul>
<li>First, find the commit hash of the commit before the first commit you want to combine. Let’s say the commit hash is <code>abc123</code>.</li>
<li>Then run <code>git rebase -i abc123</code>. This will open an editor where you can see a list of commits.</li>
<li>Change the <code>pick</code> keyword to <code>squash</code> (or <code>s</code>) for the commits you want to combine with the previous one.</li>
<li>Save and close the editor. Git will then combine the commits, and you can provide a new commit message for the combined commit.</li>
</ul>
</li>
</ul>
<h2 id="6-Git-cherry-pick"><a href="#6-Git-cherry-pick" class="headerlink" title="6. Git cherry - pick"></a>6. Git cherry - pick</h2><p><code>git cherry - pick</code> is used to apply a specific commit from one branch to another.</p>
<ul>
<li><strong>Example</strong>: Suppose you have a <code>feature</code> branch with a commit that you want to apply to the <code>main</code> branch.<ul>
<li>First, switch to the <code>main</code> branch: <code>git checkout main</code>.</li>
<li>Then use <code>git cherry - pick &lt;commit - hash&gt;</code> where <code>&lt;commit - hash&gt;</code> is the hash of the commit on the <code>feature</code> branch that you want to apply. Git will then try to apply that commit to the <code>main</code> branch.</li>
</ul>
</li>
</ul>
<h2 id="7-Difference-between-Git-and-SVN"><a href="#7-Difference-between-Git-and-SVN" class="headerlink" title="7. Difference between Git and SVN"></a>7. Difference between Git and SVN</h2><ul>
<li><strong>Architecture</strong>:<ul>
<li><strong>Git</strong>: It is a distributed version control system. Every developer has a complete copy of the repository, including the entire commit history. This allows developers to work offline and perform most operations locally.</li>
<li><strong>SVN</strong>: It is a centralized version control system. There is a single central repository, and developers need to connect to it to perform operations like committing changes or getting the latest code.</li>
</ul>
</li>
<li><strong>Branching and Merging</strong>:<ul>
<li><strong>Git</strong>: Branching and merging are very fast and easy. Creating a new branch is just a matter of creating a new pointer to a commit. Merging between branches is also efficient.</li>
<li><strong>SVN</strong>: Branching and merging can be more complex and slower. It involves copying the entire directory structure in the repository to create a branch.</li>
</ul>
</li>
<li><strong>Data Integrity</strong>:<ul>
<li><strong>Git</strong>: It uses a hash - based system to ensure data integrity. Every commit, file, and directory has a unique hash, and any change to the data will result in a different hash.</li>
<li><strong>SVN</strong>: While it also has some mechanisms for data integrity, it is not as robust as Git’s hash - based system.</li>
</ul>
</li>
</ul>
<h2 id="8-Difference-between-Git-merge-and-rebase"><a href="#8-Difference-between-Git-merge-and-rebase" class="headerlink" title="8. Difference between Git merge and rebase"></a>8. Difference between Git merge and rebase</h2><ul>
<li><strong>Merge</strong>:<ul>
<li>A <code>git merge</code> combines the changes from two or more branches into one. It creates a new “merge commit” that has two parents, one from each branch being merged.</li>
<li>Example: If you have a <code>feature</code> branch and a <code>main</code> branch, and you want to integrate the changes from the <code>feature</code> branch into the <code>main</code> branch, you can run <code>git checkout main</code> followed by <code>git merge feature</code>. This will create a merge commit on the <code>main</code> branch.</li>
<li>The commit history after a merge shows a more complex, branching structure.</li>
</ul>
</li>
<li><strong>Rebase</strong>:<ul>
<li>A <code>git rebase</code> moves or combines a sequence of commits to a new base commit. It takes the commits from one branch and replays them on top of another branch.</li>
<li>Example: If you have a <code>feature</code> branch and a <code>main</code> branch, and you want to update the <code>feature</code> branch with the latest changes from the <code>main</code> branch, you can run <code>git checkout feature</code> followed by <code>git rebase main</code>. This will take the commits from the <code>feature</code> branch and replay them on top of the latest commit on the <code>main</code> branch.</li>
<li>The commit history after a rebase is linear, which can make it easier to understand and follow. However, it can also be more complex to resolve conflicts during a rebase compared to a merge. </li>
</ul>
</li>
</ul>
<h2 id="Splunk"><a href="#Splunk" class="headerlink" title="Splunk"></a>Splunk</h2><ul>
<li><strong>Overview</strong>: Splunk is a powerful data analytics platform that is widely used for monitoring and analyzing machine data. It can ingest, index, and correlate data from various sources such as logs, metrics, and events.</li>
<li><strong>Features</strong>:<ul>
<li><strong>Data Collection</strong>: It can collect data from a large number of sources including servers, applications, network devices, etc.</li>
<li><strong>Search and Analytics</strong>: Provides a powerful search language that allows users to quickly query and analyze data to find patterns, troubleshoot issues, and gain insights.</li>
<li><strong>Visualization</strong>: Enables users to create various visualizations like dashboards, charts, and graphs to present data in an intuitive way.</li>
<li><strong>Alerting</strong>: Can set up alerts based on specific conditions or thresholds, notifying users when important events occur.</li>
</ul>
</li>
<li><strong>Use Cases</strong>: Commonly used in IT operations for monitoring infrastructure health, in security for detecting threats and analyzing security incidents, and in business for analyzing customer behavior and operational data.</li>
</ul>
<h2 id="Grafana"><a href="#Grafana" class="headerlink" title="Grafana"></a>Grafana</h2><ul>
<li><strong>Overview</strong>: Grafana is an open-source data visualization and monitoring tool. It focuses mainly on presenting data in a visually appealing and understandable way, making it easy for users to monitor and analyze metrics.</li>
<li><strong>Features</strong>:<ul>
<li><strong>Data Sources</strong>: Supports a wide range of data sources such as Prometheus, InfluxDB, MySQL, etc.</li>
<li><strong>Visualization Options</strong>: Offers a variety of visualization types including line charts, bar charts, pie charts, heatmaps, and more. Users can customize dashboards to display the data they need.</li>
<li><strong>Alerting System</strong>: Allows setting up alerts based on metric values and conditions. It can send notifications through various channels like email, Slack, etc.</li>
<li><strong>Plugin System</strong>: Has a rich ecosystem of plugins that can extend its functionality, enabling integration with other tools and adding new features.</li>
</ul>
</li>
<li><strong>Use Cases</strong>: It is popular in DevOps and IT teams for monitoring application performance, infrastructure metrics, and for visualizing time-series data. It helps in quickly identifying trends and anomalies in the data.</li>
</ul>
<h2 id="Kibana"><a href="#Kibana" class="headerlink" title="Kibana"></a>Kibana</h2><ul>
<li><strong>Overview</strong>: Kibana is an open-source data visualization and exploration tool that is closely integrated with Elasticsearch. It is used to visualize and analyze data stored in Elasticsearch.</li>
<li><strong>Features</strong>:<ul>
<li><strong>Data Visualization</strong>: Allows users to create a variety of visualizations such as bar charts, line charts, maps, and histograms. It provides an intuitive interface for exploring and filtering data.</li>
<li><strong>Dashboard Creation</strong>: Users can easily create and customize dashboards to display multiple visualizations in one place, providing a comprehensive view of the data.</li>
<li><strong>Search and Filtering</strong>: Provides a powerful search and filtering functionality to quickly find and analyze specific data subsets.</li>
<li><strong>Time-series Analysis</strong>: Specializes in analyzing time-series data, which is useful for monitoring and understanding how data changes over time.</li>
</ul>
</li>
<li><strong>Use Cases</strong>: Commonly used in log analysis, security information and event management (SIEM), and for monitoring the performance of applications and infrastructure. It is widely used in combination with Elasticsearch for large-scale data analysis and monitoring.</li>
</ul>
<h2 id="CloudWatch"><a href="#CloudWatch" class="headerlink" title="CloudWatch"></a>CloudWatch</h2><ul>
<li><strong>Overview</strong>: CloudWatch is a monitoring and observability service provided by Amazon Web Services (AWS). It allows users to monitor AWS resources and the applications running on them.</li>
<li><strong>Features</strong>:<ul>
<li><strong>Resource Monitoring</strong>: Automatically collects metrics from various AWS resources such as EC2 instances, RDS databases, S3 buckets, etc.</li>
<li><strong>Custom Metrics</strong>: Allows users to define and send their own custom metrics to CloudWatch for monitoring application-specific performance indicators.</li>
<li><strong>Alarms</strong>: Can set up alarms based on metric thresholds and events. It can trigger actions such as sending notifications, auto-scaling resources, or invoking Lambda functions.</li>
<li><strong>Logs Management</strong>: Integrates with AWS CloudTrail and other services to collect and store logs. Users can analyze logs to gain insights into the behavior of their applications and resources.</li>
</ul>
</li>
<li><strong>Use Cases</strong>: In the AWS ecosystem, it is essential for monitoring the health and performance of cloud-based applications and infrastructure. It helps in optimizing resource utilization, detecting and resolving issues quickly, and ensuring the reliability of applications running on AWS.</li>
</ul>
<h1 id="CLOUD"><a href="#CLOUD" class="headerlink" title="CLOUD"></a>CLOUD</h1><ol>
<li>AWS difference between parameter store and secret manager</li>
<li>AWS where to store certificate file</li>
<li>extra:(those we are not sure which session to put in)</li>
<li>Use your own words to explain TDD and why use TDD.</li>
<li>Please do some research on Redis and use your own words to explain what Redis is.</li>
<li>Use your own words to explain what Swagger is.</li>
<li>Please do some research on ELK and use your own words to explain what they are.</li>
<li>Use your own words to explain Jira.</li>
<li>What is RabbitMQ and what can it help us to achieve in a web application?What are the component of RabbitMQ?</li>
<li>What are different types of Exchange that exist in RabbitMQ?</li>
<li>What is Scheduler and what can it help us to achieve in a web application?</li>
</ol>
<h2 id="AWS-Modules-with-examples"><a href="#AWS-Modules-with-examples" class="headerlink" title="AWS Modules with examples"></a>AWS Modules with examples</h2><p>AWS (Amazon Web Services) offers a wide range of modules and services to build and manage various types of applications and infrastructure. Here are some of the key AWS modules with examples:</p>
<h3 id="Compute-Modules"><a href="#Compute-Modules" class="headerlink" title="Compute Modules"></a>Compute Modules</h3><ul>
<li><strong>Amazon Elastic Compute Cloud (EC2)</strong><ul>
<li><strong>Description</strong>: A web service that provides resizable compute capacity in the cloud. It allows users to launch virtual servers, known as instances, with various operating systems and configurations.</li>
<li><strong>Example</strong>: A startup might use EC2 instances to host their web application. They can choose an appropriate instance type based on their CPU, memory, and storage requirements. For instance, they could select a t2.micro instance for a small-scale development environment or an m5.xlarge instance for a more resource-intensive production application.</li>
</ul>
</li>
<li><strong>AWS Lambda</strong><ul>
<li><strong>Description</strong>: A serverless compute service that lets you run code without provisioning or managing servers. It automatically scales based on the incoming request volume.</li>
<li><strong>Example</strong>: A mobile application might use AWS Lambda to process user sign-up events. When a user signs up, the app triggers a Lambda function that validates the input, stores the user data in a database, and sends a welcome email.</li>
</ul>
</li>
</ul>
<h3 id="Storage-Modules"><a href="#Storage-Modules" class="headerlink" title="Storage Modules"></a>Storage Modules</h3><ul>
<li><strong>Amazon Simple Storage Service (S3)</strong><ul>
<li><strong>Description</strong>: An object storage service that offers high scalability, data durability, and security. It is used to store and retrieve any amount of data from anywhere on the web.</li>
<li><strong>Example</strong>: A media company could use S3 to store and distribute large video files. They can create an S3 bucket, upload the video files, and then use S3’s content delivery network (CDN) integration to serve the videos to users with low latency.</li>
</ul>
</li>
<li><strong>Amazon Elastic Block Store (EBS)</strong><ul>
<li><strong>Description</strong>: A block-level storage service that provides persistent storage volumes for EC2 instances. It offers high-performance storage that can be attached to instances and used like a local hard drive.</li>
<li><strong>Example</strong>: A database server running on an EC2 instance might use an EBS volume to store its data. The EBS volume can be sized according to the database’s storage needs and can be easily detached and attached to another instance for maintenance or scaling purposes.</li>
</ul>
</li>
</ul>
<h3 id="Database-Modules"><a href="#Database-Modules" class="headerlink" title="Database Modules"></a>Database Modules</h3><ul>
<li><strong>Amazon Relational Database Service (RDS)</strong><ul>
<li><strong>Description</strong>: A managed relational database service that makes it easy to set up, operate, and scale a relational database in the cloud. It supports popular database engines like MySQL, PostgreSQL, and Oracle.</li>
<li><strong>Example</strong>: An e-commerce website could use RDS to manage its customer and order data. They can create an RDS instance with the appropriate database engine and configure it with the necessary storage and compute resources. The website’s application can then connect to the RDS instance to perform database operations such as inserting, updating, and querying data.</li>
</ul>
</li>
<li><strong>Amazon DynamoDB</strong><ul>
<li><strong>Description</strong>: A fully managed NoSQL database service that offers fast and predictable performance with seamless scalability. It is designed for applications that require low-latency access to data.</li>
<li><strong>Example</strong>: A mobile gaming company might use DynamoDB to store user game progress, leaderboard data, and in-game purchases. The database can handle the high write and read throughput required by the game, and it can scale automatically as the number of users grows.</li>
</ul>
</li>
</ul>
<h3 id="Networking-Modules"><a href="#Networking-Modules" class="headerlink" title="Networking Modules"></a>Networking Modules</h3><ul>
<li><strong>Amazon Virtual Private Cloud (VPC)</strong><ul>
<li><strong>Description</strong>: Allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in a virtual network that you define.</li>
<li><strong>Example</strong>: A financial institution could create a VPC to host its critical applications and services. They can define subnets, route tables, and security groups within the VPC to ensure secure and isolated networking. For example, they might have a public subnet for web servers that need to be accessible from the internet and a private subnet for database servers that should only be accessible from within the VPC.</li>
</ul>
</li>
<li><strong>Amazon Route 53</strong><ul>
<li><strong>Description</strong>: A highly available and scalable Domain Name System (DNS) web service. It translates domain names into IP addresses and routes internet traffic to the appropriate AWS resources.</li>
<li><strong>Example</strong>: A company with multiple websites and applications can use Route 53 to manage their domain names and DNS records. They can create DNS records to point their domain names to the corresponding EC2 instances, load balancers, or other AWS services. For instance, they can set up an A record to map a domain name to the IP address of a web server hosted on EC2.</li>
</ul>
</li>
</ul>
<h2 id="1-AWS-Difference-between-Parameter-Store-and-Secret-Manager"><a href="#1-AWS-Difference-between-Parameter-Store-and-Secret-Manager" class="headerlink" title="1. AWS: Difference between Parameter Store and Secret Manager"></a>1. AWS: Difference between Parameter Store and Secret Manager</h2><h3 id="Parameter-Store"><a href="#Parameter-Store" class="headerlink" title="Parameter Store"></a>Parameter Store</h3><ul>
<li><strong>Explanation</strong>: AWS Systems Manager Parameter Store is a service that allows you to store configuration data such as database connection strings, API keys, and other parameters in a hierarchical structure. It’s designed for storing both plain - text and encrypted data. It helps in centralizing configuration management, making it easier to manage and update application settings across multiple environments.</li>
<li><strong>Example</strong>: Suppose you have a microservices - based application deployed in multiple AWS regions. You can store the database connection strings for each region in the Parameter Store. For instance, a key - value pair like <code>/myapp/production/db - connection - string</code> with the actual connection string as the value. When your application starts, it can retrieve the appropriate connection string from the Parameter Store based on the environment.</li>
</ul>
<h3 id="Secret-Manager"><a href="#Secret-Manager" class="headerlink" title="Secret Manager"></a>Secret Manager</h3><ul>
<li><strong>Explanation</strong>: AWS Secrets Manager is focused on securely managing secrets such as passwords, access keys, and other sensitive information. It provides features like automatic rotation of secrets, auditing, and fine - grained access control. It’s designed to reduce the risk of exposing sensitive data and simplify the process of keeping secrets up - to - date.</li>
<li><strong>Example</strong>: Consider an application that uses an Amazon RDS database. You can store the database password in the Secrets Manager. The application can then retrieve the password securely when it needs to connect to the database. Additionally, you can set up automatic rotation of the password every 30 days, which helps in maintaining security.</li>
</ul>
<h2 id="2-AWS-Where-to-store-certificate-files"><a href="#2-AWS-Where-to-store-certificate-files" class="headerlink" title="2. AWS: Where to store certificate files"></a>2. AWS: Where to store certificate files</h2><ul>
<li><strong>AWS Certificate Manager (ACM)</strong>:<ul>
<li>ACM is the recommended service for managing SSL/TLS certificates in AWS. It provides free SSL/TLS certificates for use with AWS services such as Elastic Load Balancing, Amazon CloudFront, and API Gateway. You can easily request, renew, and manage certificates through the ACM console or API.</li>
<li>Example: If you have a web application running behind an Elastic Load Balancer, you can request an SSL/TLS certificate from ACM and associate it with the load balancer. This enables secure communication between clients and your application.</li>
</ul>
</li>
<li><strong>AWS S3</strong>:<ul>
<li>You can also store certificate files in an Amazon S3 bucket. However, you need to ensure proper security measures such as encryption and access control. This option is useful if you need to use the certificates with non - AWS services or if you want to have more control over the storage and management of the certificates.</li>
<li>Example: If you have an on - premise server that needs to use an SSL/TLS certificate stored in AWS, you can store the certificate in an S3 bucket and download it to the server when needed.</li>
</ul>
</li>
</ul>
<h2 id="3-TDD-Test-Driven-Development"><a href="#3-TDD-Test-Driven-Development" class="headerlink" title="3. TDD (Test - Driven Development)"></a>3. TDD (Test - Driven Development)</h2><ul>
<li><strong>Explanation</strong>: TDD is a software development process where you write tests before writing the actual production code. The process typically follows a cycle of “Red - Green - Refactor”. First, you write a test that initially fails (Red). Then, you write the minimum amount of code to make the test pass (Green). Finally, you refactor the code to improve its design, readability, and maintainability without changing its behavior.</li>
<li><strong>Why use TDD</strong>:<ul>
<li><strong>Early Bug Detection</strong>: By writing tests first, you can catch bugs early in the development process, reducing the cost of fixing them later.</li>
<li><strong>Improved Design</strong>: TDD encourages writing modular and testable code, which leads to better software design.</li>
<li><strong>Documentation</strong>: Tests serve as living documentation for the code, making it easier for other developers to understand how the code works.</li>
</ul>
</li>
<li><strong>Example</strong>: Suppose you are developing a simple calculator class with an <code>add</code> method. First, you write a test like this in Java using JUnit:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CalculatorTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Calculator calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">        <span class="keyword">int</span> result = calculator.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        assertEquals(<span class="number">5</span>, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>This test will initially fail because the <code>Calculator</code> class and the <code>add</code> method don’t exist yet. Then you write the minimum code to make the test pass:<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Finally, you can refactor the code if needed, for example, by adding more error handling or improving the code style.</p>
<h2 id="4-Redis"><a href="#4-Redis" class="headerlink" title="4. Redis"></a>4. Redis</h2><ul>
<li><strong>Explanation</strong>: Redis is an open - source, in - memory data structure store that can be used as a database, cache, and message broker. It supports various data structures such as strings, hashes, lists, sets, and sorted sets. Redis is known for its high performance because it stores data in memory, which allows for very fast read and write operations. It also provides features like data persistence, replication, and clustering.</li>
<li><strong>Example</strong>: In a web application, Redis can be used as a cache to store frequently accessed data. For example, if you have a news website, you can store the top - viewed articles in Redis. When a user requests the top - viewed articles page, the application first checks Redis. If the data is available in Redis, it can be returned immediately, reducing the load on the database.</li>
</ul>
<h2 id="5-Swagger"><a href="#5-Swagger" class="headerlink" title="5. Swagger"></a>5. Swagger</h2><ul>
<li><strong>Explanation</strong>: Swagger is a set of open - source tools and frameworks for designing, building, documenting, and consuming RESTful APIs. It provides a way to describe the structure of an API using a JSON or YAML - based specification. Swagger tools can then generate interactive documentation, client libraries, and server stubs based on the API specification.</li>
<li><strong>Example</strong>: Suppose you have a RESTful API for a book management system. You can use Swagger to define the API endpoints, request and response formats, and available operations. Swagger UI can then generate an interactive documentation page where developers can explore the API, test the endpoints, and see the expected input and output formats.</li>
</ul>
<h2 id="6-ELK-Elasticsearch-Logstash-Kibana"><a href="#6-ELK-Elasticsearch-Logstash-Kibana" class="headerlink" title="6. ELK (Elasticsearch, Logstash, Kibana)"></a>6. ELK (Elasticsearch, Logstash, Kibana)</h2><ul>
<li><strong>Explanation</strong>:<ul>
<li><strong>Elasticsearch</strong>: It is a distributed, open - source search and analytics engine. It stores data in a JSON - like format and allows for fast and flexible searching, filtering, and aggregation of data. It can handle large volumes of data and is often used for log analysis, full - text search, and real - time analytics.</li>
<li><strong>Logstash</strong>: Logstash is a data processing pipeline that collects, filters, and transforms data from various sources (such as log files, system metrics, and application events) and sends it to a destination (such as Elasticsearch). It can perform tasks like parsing log data, enriching it with additional information, and cleaning it up.</li>
<li><strong>Kibana</strong>: Kibana is a web - based visualization tool that works with Elasticsearch. It allows users to create visualizations, dashboards, and reports based on the data stored in Elasticsearch. It provides an intuitive interface for exploring and analyzing data.</li>
</ul>
</li>
<li><strong>Example</strong>: In a large - scale web application, Logstash can collect all the application logs from different servers. It can then parse the logs, extract relevant information such as request URLs, response times, and error messages. The processed data is sent to Elasticsearch for storage. Developers and administrators can then use Kibana to create dashboards showing the application’s performance metrics, error rates, and other important information.</li>
</ul>
<h2 id="7-Jira"><a href="#7-Jira" class="headerlink" title="7. Jira"></a>7. Jira</h2><ul>
<li><strong>Explanation</strong>: Jira is a popular project management and issue - tracking tool developed by Atlassian. It allows teams to plan, track, and manage projects, tasks, and bugs. Jira provides features such as customizable workflows, issue tracking, reporting, and integration with other tools. It can be used for software development projects, but also for other types of projects in different industries.</li>
<li><strong>Example</strong>: In a software development team, Jira can be used to manage the development lifecycle of a project. Developers can create issues for new features, bugs, and tasks. The project manager can assign these issues to team members, set deadlines, and track the progress of each issue. Jira also provides reports on the project’s status, such as the number of open and closed issues, the time taken to resolve issues, and the overall project progress.</li>
</ul>
<h2 id="8-RabbitMQ"><a href="#8-RabbitMQ" class="headerlink" title="8. RabbitMQ"></a>8. RabbitMQ</h2><ul>
<li><strong>Explanation</strong>: RabbitMQ is an open - source message broker software that implements the Advanced Message Queuing Protocol (AMQP). It enables applications to communicate with each other by sending and receiving messages. It acts as an intermediary between producers (applications that send messages) and consumers (applications that receive messages).</li>
<li><strong>What it can help achieve in a web application</strong>:<ul>
<li><strong>Decoupling</strong>: It allows different components of a web application to be decoupled. For example, in an e - commerce application, the order processing component can send messages to the inventory management component through RabbitMQ without having direct knowledge of the inventory system.</li>
<li><strong>Asynchronous Processing</strong>: It enables asynchronous processing, which can improve the performance and scalability of the application. For instance, when a user submits a form, the application can send a message to RabbitMQ and continue processing other tasks without waiting for the form data to be fully processed.</li>
</ul>
</li>
<li><strong>Components of RabbitMQ</strong>:<ul>
<li><strong>Producer</strong>: An application that sends messages to a RabbitMQ broker.</li>
<li><strong>Consumer</strong>: An application that receives messages from a RabbitMQ broker.</li>
<li><strong>Queue</strong>: A buffer that stores messages until they are consumed.</li>
<li><strong>Exchange</strong>: Routes messages to one or more queues based on rules.</li>
<li><strong>Broker</strong>: The RabbitMQ server that manages the queues, exchanges, and message routing.</li>
</ul>
</li>
</ul>
<h2 id="9-Different-types-of-Exchanges-in-RabbitMQ"><a href="#9-Different-types-of-Exchanges-in-RabbitMQ" class="headerlink" title="9. Different types of Exchanges in RabbitMQ"></a>9. Different types of Exchanges in RabbitMQ</h2><ul>
<li><strong>Direct Exchange</strong>: Routes messages to queues based on the message’s routing key. Each queue is bound to the direct exchange with a specific routing key. When a message is sent to the direct exchange with a certain routing key, it is delivered to the queues that are bound with the same routing key.<ul>
<li>Example: In a logging application, different types of logs (e.g., error logs, warning logs) can be sent to different queues using a direct exchange.</li>
</ul>
</li>
<li><strong>Fanout Exchange</strong>: Routes messages to all the queues that are bound to it, regardless of the routing key. It is useful when you want to broadcast messages to multiple consumers.<ul>
<li>Example: In a news application, when a new news article is published, a message can be sent to a fanout exchange, and all the queues (e.g., queues for different user groups) bound to the exchange will receive the message.</li>
</ul>
</li>
<li><strong>Topic Exchange</strong>: Routes messages to queues based on a pattern matching of the routing key. Queues are bound to the topic exchange with a binding key that can contain wildcards (<code>*</code> for single - word matching and <code>#</code> for multi - word matching).<ul>
<li>Example: In a financial application, messages about different stocks can be sent to a topic exchange. A queue can be bound to the exchange with a binding key like <code>stocks.#</code> to receive all messages related to stocks.</li>
</ul>
</li>
<li><strong>Headers Exchange</strong>: Routes messages based on the message headers rather than the routing key. Queues are bound to the headers exchange with a set of header values. When a message is sent with specific headers, it is delivered to the queues that match the header values.</li>
</ul>
<h2 id="10-Scheduler"><a href="#10-Scheduler" class="headerlink" title="10. Scheduler"></a>10. Scheduler</h2><ul>
<li><strong>Explanation</strong>: A scheduler in a web application is a component that allows you to schedule tasks to run at specific times or intervals. It can be used to perform various tasks such as running batch jobs, sending periodic notifications, and refreshing caches.</li>
<li><strong>What it can help achieve in a web application</strong>:<ul>
<li><strong>Automation</strong>: It automates repetitive tasks, reducing the need for manual intervention. For example, a scheduler can be used to automatically generate daily reports in a business application.</li>
<li><strong>Resource Optimization</strong>: It can be used to schedule resource - intensive tasks during off - peak hours to optimize the use of system resources. For instance, a scheduler can be used to perform database backups at night when the application has low traffic.</li>
</ul>
</li>
<li><strong>Example</strong>: In a content management system, a scheduler can be used to publish new articles at a specific time. The administrator can set a publication time for an article, and the scheduler will ensure that the article is made available to the public at the specified time. </li>
</ul>
<h1 id="System-Design"><a href="#System-Design" class="headerlink" title="System Design"></a>System Design</h1><p>首先是一些基本的概念性问题需要去看一下比如高并发处理，接口幂等性，日志与监控，负载均衡，数据库优化等等。大公司的通用性岗位考题在面经里频率很高，小公司或者组招大概率是会出一些现有项目的实际系统设计。下面是一些本人碰到的考题：</p>
<ul>
<li>1.URL shortening system</li>
<li>2.Design YouTube watch history</li>
<li>3.Design a Message Queue System</li>
<li>4.Design a Auto Complete System. 1point3acres</li>
<li>5.Design a Trie Tree FileSystem. 1point 3 acres</li>
<li>6.Design a Review and Reward system</li>
<li>7.Design twitter</li>
<li>8.Design a traffic router</li>
<li>9.Design a report system</li>
<li>10.Design a scanner system. 1point 3 acres</li>
<li>11.Design a Rate Limiter. check 1point3acres for more.</li>
<li>12.Design a Real-Time Chat Application</li>
<li>13.Design a News Feed System</li>
<li>14.Design a File Storage Service</li>
<li>15.Design a Distributed Cache System</li>
<li>在面试系统设计可以考虑遵循如下步骤：<ul>
<li>Clarify 需求（问清楚！）</li>
<li>估算规模（数据量，QPS，存储大小）</li>
<li>拆解系统组件（大模块）</li>
<li>画系统流程图（API Flow + Data Flow）</li>
<li>深挖关键模块（DB设计，缓存策略，Queue机制等）</li>
<li>提出扩展性方案（Scale, Replication）. Χ</li>
<li>提出高可用和故障恢复方案</li>
<li>讲优化点（例如缓存优化、DB查询优化）</li>
<li>总结（Trade-offs）</li>
</ul>
</li>
</ul>
<h1 id="Computer-Network"><a href="#Computer-Network" class="headerlink" title="Computer Network"></a>Computer Network</h1><h2 id="misc-Q"><a href="#misc-Q" class="headerlink" title="misc Q"></a>misc Q</h2><p><strong>18. What is the Same-Origin Policy?</strong></p>
<ul>
<li>出于安全考虑，浏览器默认禁止网页向不同的源发送请求（同源策略，Same-Origin Policy）。</li>
<li>The <strong>Same-Origin</strong> Policy is a security measure that restricts web pages from making requests to a domain different from the one that served the web page.</li>
<li>This prevents malicious sites from accessing sensitive data on other sites.</li>
</ul>
<p><strong>20. What is the preflight request in Google Chrome for CORS?</strong></p>
<ul>
<li>Preflight requests are sent by the browser before the actual request to check if the server accepts the cross-origin request.</li>
<li>The browser sends an <strong>OPTIONS</strong> request to the server to confirm it supports the necessary HTTP methods.</li>
</ul>
<p><strong>21. When will a non-simple request be sent?</strong></p>
<ul>
<li><strong>Non-simple requests</strong> are sent when the request method is not GET, POST, or HEAD, or when custom headers are used.</li>
<li>For example, using a custom Authorization header will trigger a preflight request.</li>
</ul>
<p><strong>23. Can you explain CORS in detail?</strong></p>
<ul>
<li>CORS (Cross-Origin Resource Sharing) allows servers to specify who can access their resources.</li>
<li>It involves adding specific headers like <code>Access-Control-Allow-Origin</code> to responses.</li>
<li>For example, a server might allow requests from <code>https://example.com</code>.</li>
</ul>
<p><strong>30. What is CDN, and how does it optimize content delivery?</strong></p>
<ul>
<li>CDN stands for <strong>Content Delivery Network</strong>. It is a distributed network of servers that delivers content like images, videos, and files quickly to users.</li>
<li>It reduces latency and improves load times by serving content from the nearest server.</li>
</ul>
<p><strong>35. What is the difference between HTTP and HTTPS?</strong></p>
<ul>
<li>HTTP is an unsecured protocol, while HTTPS adds SSL/TLS encryption for secure communication.</li>
<li>HTTPS ensures data confidentiality, integrity, and authenticity, which prevents man-in-the-middle attacks.</li>
</ul>
<p><strong>43. Can you explain the three-way handshake in TCP? What happens if it’s changed to a two-way handshake?</strong></p>
<ul>
<li>The three-way handshake in TCP involves SYN, SYN-ACK, and ACK messages to establish a connection.</li>
<li>If it were a two-way handshake, it would be less reliable and might lead to incomplete or corrupted connections.</li>
</ul>
<p><strong>44. What is the process of TCP’s four-way handshake for connection termination?</strong></p>
<ul>
<li>The four-way handshake involves FIN, ACK, FIN, and ACK messages.</li>
<li>It ensures that both sides of the connection are properly closed.</li>
</ul>
<p><strong>45. How is an HTTPS connection established, and what interactions occur during this process?</strong></p>
<ul>
<li>HTTPS uses SSL/TLS for secure communication.</li>
<li>The process involves key exchange, server authentication, and encryption to ensure data confidentiality and integrity.</li>
</ul>
<p><strong>55. What are some common values of the <code>cache-control</code> header?</strong></p>
<ul>
<li>Common values include <code>no-cache</code>, <code>no-store</code>, <code>max-age</code>, and <code>public</code>.</li>
<li>These control how browsers and caches handle the content, like how long to store it or whether to revalidate it.</li>
</ul>
<p><strong>56. What is the difference between <code>Last-Modified</code>/<code>ETag</code> and <code>Cache-Control</code>/<code>Expires</code>?</strong></p>
<ul>
<li><code>Last-Modified</code> and <code>ETag</code> are used to check if a resource has changed since the last request.</li>
<li><code>Cache-Control</code> and <code>Expires</code> define caching rules, such as how long content can be stored before it needs to be revalidated.</li>
</ul>
<h2 id="TCP队头阻塞"><a href="#TCP队头阻塞" class="headerlink" title="TCP队头阻塞"></a>TCP队头阻塞</h2><p><strong>TCP 的队头阻塞（Head-of-Line Blocking, HOL）</strong> 是指：<strong>因为 TCP 保证有序传输，一旦某个数据包丢失，后续所有数据都必须等待这个丢失的包被重传并收到后，才能继续处理。</strong></p>
<h3 id="举个例子说明："><a href="#举个例子说明：" class="headerlink" title="举个例子说明："></a>举个例子说明：</h3><p>假设你在浏览网页，TCP 分成了 5 个包发送：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">包1 -&gt; 包2 -&gt; 包3 -&gt; 包4 -&gt; 包5</span><br></pre></td></tr></table></figure>
<p>如果 <strong>包2丢了</strong>，虽然包3、包4、包5已经到了，<strong>浏览器必须等包2重传回来</strong>，然后才能把整个数据流交给上层。</p>
<h3 id="为什么这很糟糕？"><a href="#为什么这很糟糕？" class="headerlink" title="为什么这很糟糕？"></a>为什么这很糟糕？</h3><ul>
<li>你请求了多个图片或 CSS 文件</li>
<li>它们共用一个 TCP 连接（如 HTTP/2）</li>
<li>只要中间丢一个包，<strong>所有请求都“卡住”</strong></li>
</ul>
<p>这在**高丢包网络（如移动网络）**下尤其严重。</p>
<h3 id="HTTP-3-怎么解决？"><a href="#HTTP-3-怎么解决？" class="headerlink" title="HTTP/3 怎么解决？"></a>HTTP/3 怎么解决？</h3><p>HTTP/3 基于 QUIC（UDP 协议），每个请求有独立的逻辑流（stream），即使某个流中的数据包丢失，也<strong>不会影响其他流</strong>。从根本上消除了 TCP 的队头阻塞问题。</p>
<h3 id="总结一句话："><a href="#总结一句话：" class="headerlink" title="总结一句话："></a>总结一句话：</h3><blockquote>
<p><strong>TCP 的 HOL 阻塞是因为它必须保证数据顺序；QUIC（HTTP/3）通过独立流彻底解决了这个问题。</strong></p>
</blockquote>
<h2 id="HTTP1-1和2和3"><a href="#HTTP1-1和2和3" class="headerlink" title="HTTP1.1和2和3"></a>HTTP1.1和2和3</h2><h3 id="协议演进概览"><a href="#协议演进概览" class="headerlink" title="协议演进概览"></a>协议演进概览</h3><p>Head-of-Line (HOL)</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>HTTP/1.1</th>
<th>HTTP/2</th>
<th>HTTP/3</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>发布年份</strong></td>
<td>1999</td>
<td>2015</td>
<td>2022</td>
</tr>
<tr>
<td><strong>传输协议</strong></td>
<td>TCP</td>
<td>TCP</td>
<td>QUIC (基于 UDP)</td>
</tr>
<tr>
<td><strong>连接复用</strong></td>
<td>❌ 不支持</td>
<td>✅ 支持多路复用</td>
<td>✅ 真正无 HOL 阻塞</td>
</tr>
<tr>
<td><strong>HOL Blocking Present队头阻塞</strong></td>
<td>Still exists</td>
<td>应用层 无HOL 阻塞, TCP层依然有</td>
<td>完全无HOL阻塞</td>
</tr>
<tr>
<td><strong>头部压缩</strong></td>
<td>❌ 无压缩</td>
<td>✅ HPACK 压缩</td>
<td>✅ QPACK 压缩</td>
</tr>
<tr>
<td><strong>服务器推送</strong></td>
<td>❌ 不支持</td>
<td>✅ 支持（已被废弃）</td>
<td>⚠️ 实验性/弱支持</td>
</tr>
<tr>
<td><strong>安全性</strong></td>
<td>明文/HTTPS</td>
<td>推荐 TLS</td>
<td>强制使用 TLS 1.3</td>
</tr>
<tr>
<td><strong>拥塞控制</strong></td>
<td>TCP 层</td>
<td>TCP 层</td>
<td>QUIC 内建（更快）</td>
</tr>
<tr>
<td><strong>连接迁移</strong></td>
<td>❌ 不支持</td>
<td>❌ 不支持</td>
<td>✅ 支持（移动网络友好）</td>
</tr>
<tr>
<td><strong>普及度</strong></td>
<td>保留</td>
<td>主力</td>
<td>逐步普及</td>
</tr>
</tbody>
</table>
<h3 id="性能对比"><a href="#性能对比" class="headerlink" title="性能对比"></a>性能对比</h3><table>
<thead>
<tr>
<th>场景</th>
<th>HTTP/1.1</th>
<th>HTTP/2</th>
<th>HTTP/3</th>
</tr>
</thead>
<tbody>
<tr>
<td>多个请求</td>
<td>❌ 阻塞严重</td>
<td>⚠️ 应用层 HOL 阻塞</td>
<td>✅ 并发性能最佳</td>
</tr>
<tr>
<td>首次连接延迟</td>
<td>慢（握手 + TLS）</td>
<td>一样慢</td>
<td>✅ 快（0-RTT 支持）</td>
</tr>
<tr>
<td>移动网络切换</td>
<td>❌ 需重连</td>
<td>❌ 需重连</td>
<td>✅ 无需重连</td>
</tr>
<tr>
<td>浏览器兼容</td>
<td>✅ 广泛支持</td>
<td>✅ 广泛支持</td>
<td>✅ 现代浏览器支持</td>
</tr>
</tbody>
</table>
<h3 id="应用场景建议"><a href="#应用场景建议" class="headerlink" title="应用场景建议"></a>应用场景建议</h3><table>
<thead>
<tr>
<th>场景</th>
<th>建议协议</th>
</tr>
</thead>
<tbody>
<tr>
<td>普通网页、API</td>
<td>HTTP/2（主流稳定）</td>
</tr>
<tr>
<td>高并发前端服务（如 CDN）</td>
<td>HTTP/3（提升体验）</td>
</tr>
<tr>
<td>企业内网服务 / 微服务</td>
<td>HTTP/1.1 / HTTP/2</td>
</tr>
<tr>
<td>移动端用户较多的网站</td>
<td>HTTP/3（连接迁移更优）</td>
</tr>
</tbody>
</table>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>为什么HTTP3还没全面普及？</p>
<ul>
<li>QUIC 基于 UDP，对某些旧防火墙/代理不兼容</li>
<li>服务端需要额外部署（如 nginx 需配合 quiche / Cloudflare 早支持）</li>
<li>某些中间件/网关还未完全支持（例如部分企业服务网关）</li>
</ul>
<p>所以结论是：</p>
<ul>
<li>前端用户访问层面，HTTP/3 已经逐步成为默认（尤其 CDN 上如 Cloudflare/Akamai）。</li>
<li>后端和通用服务层面，HTTP/2 仍是主力，HTTP/1.1 仍然保留。</li>
</ul>
<blockquote>
<p><strong>HTTP/1.1</strong> 是老基础，<strong>HTTP/2</strong> 是主流现实，<strong>HTTP/3</strong> 是未来方向。</p>
</blockquote>
<h3 id="面试常问"><a href="#面试常问" class="headerlink" title="面试常问"></a>面试常问</h3><p><strong>36. What is the head-of-line blocking in HTTP/1.0, and how was it improved in HTTP/1.1?</strong></p>
<ul>
<li>In HTTP/1.0, head-of-line blocking happens because requests are processed sequentially.</li>
<li>HTTP/1.1 improved this by allowing pipelining, so multiple requests could be sent without waiting for the previous one to complete.</li>
</ul>
<p><strong>37. How did HTTP/1.1 improve performance over HTTP/1.0?</strong></p>
<ul>
<li>HTTP/1.1 introduced persistent connections, allowing multiple requests to be sent over the same TCP connection, reducing the overhead of opening new connections.</li>
</ul>
<p><strong>38. What are the shortcomings of HTTP/1.1 and its performance?</strong></p>
<ul>
<li>HTTP/1.1 still suffers from head-of-line blocking and lacks multiplexing, meaning one slow request can delay others.<br>This reduces performance, especially for modern websites with many resources.</li>
</ul>
<p><strong>39. Can you describe the concept of HTTP/2 and how it works?</strong></p>
<ul>
<li>HTTP/2 improves performance by allowing multiple requests and responses to be multiplexed over a single connection.<br>It uses binary framing, which makes communication more efficient compared to HTTP/1.x.</li>
</ul>
<p><strong>40. What optimizations were made in HTTP/2?</strong></p>
<ul>
<li>HTTP/2 introduced multiplexing, header compression, and prioritization.<br>These improvements reduce latency and increase the speed of data transmission.</li>
</ul>
<p><strong>41. What are the advantages of HTTP/2 over HTTP/1.1?</strong></p>
<ul>
<li>HTTP/2 improves performance by allowing multiple streams of data over a single connection, eliminating the head-of-line blocking issue.<br>It also uses header compression and prioritizes requests to deliver content faster.</li>
</ul>
<p><strong>42. What are the drawbacks of HTTP/2, and how does HTTP/3 improve upon it?</strong></p>
<ul>
<li>HTTP/2 suffers from head-of-line blocking at the TCP layer.<br>HTTP/3 uses QUIC, a new protocol based on UDP, to eliminate this issue and improve connection setup time.</li>
</ul>
<h2 id="HTTP-CODE"><a href="#HTTP-CODE" class="headerlink" title="HTTP CODE"></a>HTTP CODE</h2><h3 id="1xx-Informational"><a href="#1xx-Informational" class="headerlink" title="1xx (Informational)"></a>1xx (Informational)</h3><ul>
<li><strong>100 Continue</strong>: The client can continue with the request.</li>
<li><strong>101 Switching Protocols</strong>: The server is switching protocols as requested.</li>
</ul>
<hr>
<h3 id="2xx-Success"><a href="#2xx-Success" class="headerlink" title="2xx (Success)"></a>2xx (Success)</h3><ul>
<li><strong>200 OK</strong>: The request was successful.</li>
<li><strong>201 Created</strong>: The resource was successfully created.</li>
<li><strong>204 No Content</strong>: The request was successful, but there’s no content to return.</li>
</ul>
<hr>
<h3 id="3xx-Redirection"><a href="#3xx-Redirection" class="headerlink" title="3xx (Redirection)"></a>3xx (Redirection)</h3><ul>
<li><strong>301 Moved Permanently</strong>: The resource has been permanently moved to a new URL.</li>
<li><strong>302 Found</strong>: The resource is temporarily at a different URL.</li>
<li><strong>303 see other</strong>: which tells the client to fetch the resource using a GET request, often after a POST.</li>
<li><strong>304 Not Modified</strong>: The resource hasn’t changed; use cached version. <strong>304</strong> means “Not Modified,” indicating that the resource has not been modified since the last request, and the browser should use the cached version.</li>
</ul>
<hr>
<h3 id="4xx-Client-Errors"><a href="#4xx-Client-Errors" class="headerlink" title="4xx (Client Errors)"></a>4xx (Client Errors)</h3><ul>
<li><strong>400 Bad Request</strong>: The request is malformed or invalid.</li>
<li><strong>401 Unauthorized</strong>: Authentication is required.</li>
<li><strong>403 Forbidden</strong>: You’re authenticated but not authorized.</li>
<li><strong>404 Not Found</strong>: The resource doesn’t exist.</li>
<li><strong>405 Method Not Allowed</strong>: The HTTP method is not allowed for this resource.</li>
</ul>
<hr>
<h3 id="5xx-Server-Errors"><a href="#5xx-Server-Errors" class="headerlink" title="5xx (Server Errors)"></a>5xx (Server Errors)</h3><ul>
<li><strong>500 Internal Server Error</strong>: A generic server error.</li>
<li><strong>502 Bad Gateway</strong>: Invalid response from an upstream server.</li>
<li><strong>503 Service Unavailable</strong>: The server is temporarily unavailable.</li>
<li><strong>504 Gateway Timeout</strong>: The upstream server didn’t respond in time.</li>
</ul>
<h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h2><p>CORS（Cross-Origin Resource Sharing，跨域资源共享） 是一种浏览器安全机制，用于允许或限制不同源（域、协议、端口）的网页向你的服务器请求资源。</p>
<h3 id="为什么需要-CORS"><a href="#为什么需要-CORS" class="headerlink" title="为什么需要 CORS"></a>为什么需要 CORS</h3><p>出于安全考虑，浏览器默认禁止网页向不同的源发送请求（同源策略，Same-Origin Policy）。</p>
<p>但在实际开发中，我们经常需要从不同的域名获取数据，比如：  </p>
<ul>
<li>•    前端运行在 <a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a></li>
<li>•    后端 API 运行在 <a href="http://api.example.com" target="_blank" rel="noopener">http://api.example.com</a></li>
<li>•    浏览器会拦截前端对 <a href="http://api.example.com" target="_blank" rel="noopener">http://api.example.com</a> 的请求，除非服务器明确允许。</li>
</ul>
<h3 id="CORS-允许跨域的方式"><a href="#CORS-允许跨域的方式" class="headerlink" title="CORS 允许跨域的方式"></a>CORS 允许跨域的方式</h3><ul>
<li>当前端向服务器发送跨域请求时，服务器需要在<strong>响应头（Response Headers）</strong>中加入 CORS 相关字段，比如： <code>Access-Control-Allow-Origin: *</code>表示允许所有来源访问该资源。</li>
<li>如果服务器只允许特定的域访问，比如 <code>http://example.com</code>, 那就设置<code>Access-Control-Allow-Origin: http://example.com</code></li>
</ul>
<h3 id="CORS-主要的-HTTP-头"><a href="#CORS-主要的-HTTP-头" class="headerlink" title="CORS 主要的 HTTP 头"></a>CORS 主要的 HTTP 头</h3><table>
<thead>
<tr>
<th style="text-align:center">头部字段</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Access-Control-Request-Method</td>
<td style="text-align:center">请求想允许的HTTP方法</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Origin</td>
<td style="text-align:center">允许的来源（* 代表所有）</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Methods</td>
<td style="text-align:center">允许的 HTTP 方法（如 GET, POST, PUT）</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Headers</td>
<td style="text-align:center">允许的请求头</td>
</tr>
<tr>
<td style="text-align:center">Access-Control-Allow-Credentials</td>
<td style="text-align:center">是否允许携带 Cookie</td>
</tr>
</tbody>
</table>
<h3 id="预检请求（Preflight-Request）"><a href="#预检请求（Preflight-Request）" class="headerlink" title="预检请求（Preflight Request）"></a>预检请求（Preflight Request）</h3><p>对于某些跨域请求（如 PUT、DELETE 或自定义头部的 POST），浏览器会先发送一个 OPTIONS 请求，服务器需要返回正确的 CORS 头，浏览器才会继续发送真正的请求。</p>
<p>示例, 比如我当前浏览器在 jd.com 购物, 我现在想通过 JavaScript 访问 taobao.com 的资源, 这就是跨域请求（Cross-Origin Request）了：  </p>
<ul>
<li>限制：浏览器会阻止从 jd.com 的页面通过 JavaScript 去请求 taobao.com 的敏感数据（如 API）。</li>
<li>除非淘宝显式在响应中设置 Access-Control-Allow-Origin: jd.com，否则请求被 CORS 拦截。</li>
</ul>
<p>得如下操作, 客户端才能通过 JavaScript 访问 taobao.com 的资源：</p>
<p>客户端请求:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OPTIONS /api/data HTTP/1.1</span><br><span class="line">Origin: http://jd.com</span><br><span class="line">Access-Control-Request-Method: POST</span><br></pre></td></tr></table></figure></p>
<p>服务器响应：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Access-Control-Allow-Origin: http://jd.com</span><br><span class="line">Access-Control-Allow-Methods: POST, GET, OPTIONS</span><br></pre></td></tr></table></figure></p>
<h3 id="如何解决-CORS-问题？"><a href="#如何解决-CORS-问题？" class="headerlink" title="如何解决 CORS 问题？"></a>如何解决 CORS 问题？</h3><p>如果遇到 CORS 跨域报错，可以：</p>
<ul>
<li>•    修改后端代码 添加 CORS 头（推荐）</li>
<li>•    使用反向代理（Nginx、Webpack devServer 代理）</li>
<li>•    在本地开发时使用浏览器插件（仅限调试）</li>
</ul>

      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
            
              <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
            
              <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
            
              <a href="/tags/Syllabus/" rel="tag"><i class="fa fa-tag"></i> Syllabus</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/na_mq_notes/" rel="next" title="MQ notes">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    MQ notes
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/na_java_backend_syllabus2/" rel="prev" title="Java backend syllabus without answer">
                <p class="post-nav-pre-next-title">
                    Java backend syllabus without answer
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">🚙 🚗 💨 💨 If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">296</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- 网易云音乐 -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- 网易云音乐 -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Java-Coding-Practice-Summary-before-interview"><span class="nav-text">Java Coding Practice Summary before interview</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Contractor-interview-real-Questions"><span class="nav-text">Contractor interview real Questions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Backend-Questions-Top-100"><span class="nav-text">Backend Questions Top 100</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Kafka-amp-RabbitMQ"><span class="nav-text">Kafka &amp; RabbitMQ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-Newbie-Notes"><span class="nav-text">Spring Newbie Notes</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Syllabus"><span class="nav-text">Syllabus</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Kubernetes"><span class="nav-text">Kubernetes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#pod-vs-node-in-Kubernetes"><span class="nav-text">pod vs node in Kubernetes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Quick-Summary"><span class="nav-text">Quick Summary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-A-Container"><span class="nav-text">What Is A Container?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-A-Containerized-Application"><span class="nav-text">What Is A Containerized Application?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-A-Kubernetes-Pod"><span class="nav-text">What Is A Kubernetes Pod?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-A-Kubernetes-Node"><span class="nav-text">What Is A Kubernetes Node?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-A-Kubernetes-Cluster"><span class="nav-text">What Is A Kubernetes Cluster?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Take-The-Next-Step-View-Track-And-Control-Your-Kubernetes-Costs-With-Confidence"><span class="nav-text">Take The Next Step: View, Track, And Control Your Kubernetes Costs With Confidence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Kubernetes-FAQ"><span class="nav-text">Kubernetes FAQ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Is-a-Kubernetes-Pod-a-Container"><span class="nav-text">Is a Kubernetes Pod a Container?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#What-is-the-difference-between-container-node-and-pod"><span class="nav-text">What is the difference between container node and pod?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Can-a-pod-have-multiple-containers"><span class="nav-text">Can a pod have multiple containers?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#How-many-pods-run-on-a-node"><span class="nav-text">How many pods run on a node?</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Security"><span class="nav-text">Security</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Authorization-based-on-User-role-using-Spring-Security"><span class="nav-text">Authorization based on User role using Spring Security</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Step-by-Step-Role-Based-Authorization-in-Spring"><span class="nav-text">Step-by-Step: Role-Based Authorization in Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Assign-Roles-to-Users"><span class="nav-text">1. Assign Roles to Users</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Secure-Endpoints-Based-on-Role"><span class="nav-text">2. Secure Endpoints Based on Role</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Using-HttpSecurity-in-a-SecurityConfig-class"><span class="nav-text">Using HttpSecurity in a SecurityConfig class:</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Method-Level-Authorization-Optional"><span class="nav-text">3. Method-Level Authorization (Optional)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary"><span class="nav-text">Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XSS"><span class="nav-text">XSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types-of-XSS"><span class="nav-text">Types of XSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-of-XSS"><span class="nav-text">Example of XSS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-Prevent-XSS"><span class="nav-text">How to Prevent XSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Escape-Output"><span class="nav-text">1. Escape Output</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Use-Safe-APIs"><span class="nav-text">2. Use Safe APIs</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Validate-Input"><span class="nav-text">3. Validate Input</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Use-Content-Security-Policy-CSP"><span class="nav-text">4. Use Content Security Policy (CSP)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-Sanitize-User-Input"><span class="nav-text">5. Sanitize User Input</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary-1"><span class="nav-text">Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSRF"><span class="nav-text">CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#和JWT的关系"><span class="nav-text">和JWT的关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#攻击原理"><span class="nav-text">攻击原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见的攻击场景"><span class="nav-text">常见的攻击场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#防范措施"><span class="nav-text">防范措施</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSL-3-ways-handshake"><span class="nav-text">SSL 3 ways handshake</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#REST-API"><span class="nav-text">REST API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#RESTful-API-Versioning-Strategy"><span class="nav-text">RESTful API Versioning Strategy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#URI-path-versioning-example"><span class="nav-text">URI path versioning example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Header-Based-API-Versioning-Example"><span class="nav-text">Header-Based API Versioning Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#header-based-API-versioning-using-Spring-Cloud-Gateway"><span class="nav-text">header-based API versioning using Spring Cloud Gateway</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary-2"><span class="nav-text">Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DispatcherServlet"><span class="nav-text">DispatcherServlet</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Definition"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function"><span class="nav-text">Function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rest-API"><span class="nav-text">Rest API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Definition-1"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Characteristics"><span class="nav-text">Characteristics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-create-a-good-REST-API"><span class="nav-text">How to create a good REST API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-Principles"><span class="nav-text">Design Principles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Security-and-Performance"><span class="nav-text">Security and Performance</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-Error-Codes"><span class="nav-text">HTTP Error Codes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-of-GraphQL-WebSocket-gRPC"><span class="nav-text">Introduction of GraphQL, WebSocket, gRPC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GraphQL"><span class="nav-text">GraphQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WebSocket"><span class="nav-text">WebSocket</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gRPC"><span class="nav-text">gRPC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Server-Sent-Events-SSE"><span class="nav-text">Server Sent Events (SSE)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ReactiveJava响应式编程"><span class="nav-text">ReactiveJava响应式编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#核心思路"><span class="nav-text">核心思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实现步骤（以Project-Reactor为例）"><span class="nav-text">实现步骤（以Project Reactor为例）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#简单示例"><span class="nav-text">简单示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#处理背压back-pressure的例子"><span class="nav-text">处理背压back-pressure的例子</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Test"><span class="nav-text">Test</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Different-Type-of-Tests-in-whole-project-lifecycle"><span class="nav-text">1. Different Type of Tests in whole project lifecycle</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Unit-Test-Mock"><span class="nav-text">2. Unit Test, Mock</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Testing-Rest-Api-with-Rest-Assured"><span class="nav-text">3. Testing Rest Api with Rest Assured</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-AUTOMATION-TEST"><span class="nav-text">4. AUTOMATION TEST</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Database"><span class="nav-text">Database</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Explain-clustered-and-non-clustered-index-and-their-differences"><span class="nav-text">Explain clustered and non-clustered index and their differences.</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Clustered-Index"><span class="nav-text">1. Clustered Index</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Definition-2"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#How-it-Works"><span class="nav-text">How it Works</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Example"><span class="nav-text">Example</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Non-Clustered-Index"><span class="nav-text">2. Non - Clustered Index</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Definition-3"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#How-it-Works-1"><span class="nav-text">How it Works</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Example-1"><span class="nav-text">Example</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Differences-between-Clustered-and-Non-Clustered-Indexes"><span class="nav-text">3. Differences between Clustered and Non - Clustered Indexes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Physical-Order-of-Data"><span class="nav-text">Physical Order of Data</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Number-of-Indexes-per-Table"><span class="nav-text">Number of Indexes per Table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Storage-Space"><span class="nav-text">Storage Space</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Query-Performance"><span class="nav-text">Query Performance</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Insert-Update-and-Delete-Operations"><span class="nav-text">Insert, Update, and Delete Operations</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-are-normal-forms"><span class="nav-text">What are normal forms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Examples-of-Normalization"><span class="nav-text">1. Examples of Normalization</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#First-Normal-Form-1NF"><span class="nav-text">First Normal Form (1NF)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Second-Normal-Form-2NF"><span class="nav-text">Second Normal Form (2NF)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Third-Normal-Form-3NF"><span class="nav-text">Third Normal Form (3NF)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Examples-of-Database-Integrity"><span class="nav-text">2. Examples of Database Integrity</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Entity-Integrity"><span class="nav-text">Entity Integrity</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Referential-Integrity"><span class="nav-text">Referential Integrity</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Domain-Integrity"><span class="nav-text">Domain Integrity</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-do-you-represent-a-multi-valued-attribute-in-a-database"><span class="nav-text">How do you represent a multi-valued attribute in a database?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Relational-Databases"><span class="nav-text">Relational Databases</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Using-a-Separate-Table-Normalization-Approach"><span class="nav-text">1. Using a Separate Table (Normalization Approach)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Using-Delimited-Lists-Denormalization-Approach"><span class="nav-text">2. Using Delimited Lists (Denormalization Approach)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Non-Relational-Databases"><span class="nav-text">Non - Relational Databases</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Document-Databases-e-g-MongoDB"><span class="nav-text">1. Document Databases (e.g., MongoDB)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Graph-Databases-e-g-Neo4j"><span class="nav-text">2. Graph Databases (e.g., Neo4j)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-do-you-represent-a-many-to-many-relationship-in-database"><span class="nav-text">How do you represent a many-to-many relationship in database?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Using-a-Junction-Table-Associative-Table"><span class="nav-text">1. Using a Junction Table (Associative Table)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-1-Identify-the-related-tables"><span class="nav-text">Step 1: Identify the related tables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-2-Create-the-junction-table"><span class="nav-text">Step 2: Create the junction table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Step-3-Insert-and-query-data"><span class="nav-text">Step 3: Insert and query data</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-In-Non-Relational-Databases"><span class="nav-text">2. In Non - Relational Databases</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Graph-Databases"><span class="nav-text">Graph Databases</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Document-Databases"><span class="nav-text">Document Databases</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TRANSACTION-JPA"><span class="nav-text">TRANSACTION JPA</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#how-does-jdbc-handle-database-connections"><span class="nav-text">how does jdbc handle database connections</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-What-is-“Offline-Transaction”"><span class="nav-text">1. What is “Offline Transaction”?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-How-do-we-usually-perform-Transaction-Management-in-JDBC"><span class="nav-text">2. How do we usually perform Transaction Management in JDBC?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-What-is-Database-Transaction"><span class="nav-text">3. What is Database Transaction?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-What-are-entity-states-defined-in-Hibernate-JPA"><span class="nav-text">4. What are entity states defined in Hibernate / JPA?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-How-can-we-transfer-the-entity-between-different-states"><span class="nav-text">5. How can we transfer the entity between different states?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-What-are-differences-between-save-persist"><span class="nav-text">6. What are differences between save, persist?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-What-are-differences-between-update-merge-and-saveOrUpdate"><span class="nav-text">7. What are differences between update, merge and saveOrUpdate?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-How-do-you-use-Elasticsearch-in-your-Java-application"><span class="nav-text">8. How do you use Elasticsearch in your Java application?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UNIT-TEST"><span class="nav-text">UNIT TEST</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Commonly-Used-Methods-in-JUnit"><span class="nav-text">1. Commonly - Used Methods in JUnit</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#assertEquals"><span class="nav-text">assertEquals()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#assertTrue-and-assertFalse"><span class="nav-text">assertTrue() and assertFalse()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#assertNull-and-assertNotNull"><span class="nav-text">assertNull() and assertNotNull()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Commonly-Used-Annotations-in-JUnit"><span class="nav-text">2. Commonly - Used Annotations in JUnit</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Test-1"><span class="nav-text">@Test</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BeforeEach"><span class="nav-text">@BeforeEach</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AfterEach"><span class="nav-text">@AfterEach</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BeforeAll-and-AfterAll"><span class="nav-text">@BeforeAll and @AfterAll</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-What-is-Mockito-and-its-Usage"><span class="nav-text">3. What is Mockito and its Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Definition-4"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Usages"><span class="nav-text">Common Usages</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Creating-Mock-Objects"><span class="nav-text">Creating Mock Objects</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stubbing-Methods"><span class="nav-text">Stubbing Methods</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Verifying-Method-Calls"><span class="nav-text">Verifying Method Calls</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#InjectMocks和-Mock"><span class="nav-text">@InjectMocks和@Mock</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#功能用途"><span class="nav-text">功能用途</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#应用场景"><span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例代码"><span class="nav-text">示例代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#总结-1"><span class="nav-text">总结</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MICROSERVICE"><span class="nav-text">MICROSERVICE</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Monolithic-Application"><span class="nav-text">Monolithic Application</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Microservice-Application"><span class="nav-text">Microservice Application</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Netflix-Eureka"><span class="nav-text">Netflix Eureka</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Microservices-Communication"><span class="nav-text">Microservices Communication</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-API-Gateway"><span class="nav-text">Spring API Gateway</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cascading-Failure-in-Microservice-and-Prevention"><span class="nav-text">Cascading Failure in Microservice and Prevention</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Circuit-Breaker"><span class="nav-text">Circuit Breaker</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DEVOPS"><span class="nav-text">DEVOPS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Jenkins"><span class="nav-text">1. Jenkins</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-CI-CD"><span class="nav-text">2. CI/CD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Git-commands-used-in-a-project"><span class="nav-text">3. Git commands used in a project</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Releasing-from-the-Git-repository"><span class="nav-text">4. Releasing from the Git repository</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Combining-several-commits-together"><span class="nav-text">5. Combining several commits together</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Git-cherry-pick"><span class="nav-text">6. Git cherry - pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Difference-between-Git-and-SVN"><span class="nav-text">7. Difference between Git and SVN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-Difference-between-Git-merge-and-rebase"><span class="nav-text">8. Difference between Git merge and rebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Splunk"><span class="nav-text">Splunk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Grafana"><span class="nav-text">Grafana</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Kibana"><span class="nav-text">Kibana</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CloudWatch"><span class="nav-text">CloudWatch</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CLOUD"><span class="nav-text">CLOUD</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#AWS-Modules-with-examples"><span class="nav-text">AWS Modules with examples</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Compute-Modules"><span class="nav-text">Compute Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Storage-Modules"><span class="nav-text">Storage Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Database-Modules"><span class="nav-text">Database Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Networking-Modules"><span class="nav-text">Networking Modules</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-AWS-Difference-between-Parameter-Store-and-Secret-Manager"><span class="nav-text">1. AWS: Difference between Parameter Store and Secret Manager</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameter-Store"><span class="nav-text">Parameter Store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Secret-Manager"><span class="nav-text">Secret Manager</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-AWS-Where-to-store-certificate-files"><span class="nav-text">2. AWS: Where to store certificate files</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-TDD-Test-Driven-Development"><span class="nav-text">3. TDD (Test - Driven Development)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Redis"><span class="nav-text">4. Redis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Swagger"><span class="nav-text">5. Swagger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-ELK-Elasticsearch-Logstash-Kibana"><span class="nav-text">6. ELK (Elasticsearch, Logstash, Kibana)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Jira"><span class="nav-text">7. Jira</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-RabbitMQ"><span class="nav-text">8. RabbitMQ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Different-types-of-Exchanges-in-RabbitMQ"><span class="nav-text">9. Different types of Exchanges in RabbitMQ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-Scheduler"><span class="nav-text">10. Scheduler</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#System-Design"><span class="nav-text">System Design</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Computer-Network"><span class="nav-text">Computer Network</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#misc-Q"><span class="nav-text">misc Q</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP队头阻塞"><span class="nav-text">TCP队头阻塞</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#举个例子说明："><span class="nav-text">举个例子说明：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么这很糟糕？"><span class="nav-text">为什么这很糟糕？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-3-怎么解决？"><span class="nav-text">HTTP/3 怎么解决？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结一句话："><span class="nav-text">总结一句话：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP1-1和2和3"><span class="nav-text">HTTP1.1和2和3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#协议演进概览"><span class="nav-text">协议演进概览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#性能对比"><span class="nav-text">性能对比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场景建议"><span class="nav-text">应用场景建议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结-2"><span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#面试常问"><span class="nav-text">面试常问</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-CODE"><span class="nav-text">HTTP CODE</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1xx-Informational"><span class="nav-text">1xx (Informational)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2xx-Success"><span class="nav-text">2xx (Success)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3xx-Redirection"><span class="nav-text">3xx (Redirection)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4xx-Client-Errors"><span class="nav-text">4xx (Client Errors)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5xx-Server-Errors"><span class="nav-text">5xx (Server Errors)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CORS"><span class="nav-text">CORS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么需要-CORS"><span class="nav-text">为什么需要 CORS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CORS-允许跨域的方式"><span class="nav-text">CORS 允许跨域的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CORS-主要的-HTTP-头"><span class="nav-text">CORS 主要的 HTTP 头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#预检请求（Preflight-Request）"><span class="nav-text">预检请求（Preflight Request）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何解决-CORS-问题？"><span class="nav-text">如何解决 CORS 问题？</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
