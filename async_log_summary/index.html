<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = 'å¼‚æ­¥æ—¥å¿—å°ç»“' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="æœ€è¿‘å·¥ä½œæ¶‰åŠåˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—ç³»ç»Ÿ, å°ç»“ä¸€æ³¢, å…¶å®è·µä¸º:   cppé«˜æ€§èƒ½çš„å¼‚æ­¥æ—¥å¿—ç³»ç»Ÿæ¨¡å—å¯¼å‡ºç»™pyä½¿ç”¨ æ­¤cppæ¨¡å—å¦èµ·çº¿ç¨‹ loggeré€šè¿‡unix socketè¿æ¥ä¸Šaddress ä¸º â€œ/dev/logâ€ï¼Œä¸ rsyslogd ç¨‹åºé€šä¿¡ logå…ˆç¼“å­˜åœ¨ä¸€ä¸ªbufferä¸­, é€šè¿‡ä¸€ä¸ªä»»åŠ¡æ¥æŠŠlogå­˜å…¥syslogè¿™ä¸€äº‹ä»¶å°è£…èµ·æ¥ æŠŠè¿™ä¸ªä»»åŠ¡åŠ å…¥ä¸€ä¸ªçº¿ç¨‹é—´å¯ä¿åºè¾“å‡ºçš„ä»»åŠ¡é˜Ÿåˆ—(å¸¸ç”¨asio">
<meta property="og:type" content="article">
<meta property="og:title" content="å¼‚æ­¥æ—¥å¿—å°ç»“">
<meta property="og:url" content="https://hulinhong.com/async_log_summary/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="æœ€è¿‘å·¥ä½œæ¶‰åŠåˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—ç³»ç»Ÿ, å°ç»“ä¸€æ³¢, å…¶å®è·µä¸º:   cppé«˜æ€§èƒ½çš„å¼‚æ­¥æ—¥å¿—ç³»ç»Ÿæ¨¡å—å¯¼å‡ºç»™pyä½¿ç”¨ æ­¤cppæ¨¡å—å¦èµ·çº¿ç¨‹ loggeré€šè¿‡unix socketè¿æ¥ä¸Šaddress ä¸º â€œ/dev/logâ€ï¼Œä¸ rsyslogd ç¨‹åºé€šä¿¡ logå…ˆç¼“å­˜åœ¨ä¸€ä¸ªbufferä¸­, é€šè¿‡ä¸€ä¸ªä»»åŠ¡æ¥æŠŠlogå­˜å…¥syslogè¿™ä¸€äº‹ä»¶å°è£…èµ·æ¥ æŠŠè¿™ä¸ªä»»åŠ¡åŠ å…¥ä¸€ä¸ªçº¿ç¨‹é—´å¯ä¿åºè¾“å‡ºçš„ä»»åŠ¡é˜Ÿåˆ—(å¸¸ç”¨asio">
<meta property="og:locale" content="en">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:updated_time" content="2025-12-17T18:31:29.621Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å¼‚æ­¥æ—¥å¿—å°ç»“">
<meta name="twitter:description" content="æœ€è¿‘å·¥ä½œæ¶‰åŠåˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—ç³»ç»Ÿ, å°ç»“ä¸€æ³¢, å…¶å®è·µä¸º:   cppé«˜æ€§èƒ½çš„å¼‚æ­¥æ—¥å¿—ç³»ç»Ÿæ¨¡å—å¯¼å‡ºç»™pyä½¿ç”¨ æ­¤cppæ¨¡å—å¦èµ·çº¿ç¨‹ loggeré€šè¿‡unix socketè¿æ¥ä¸Šaddress ä¸º â€œ/dev/logâ€ï¼Œä¸ rsyslogd ç¨‹åºé€šä¿¡ logå…ˆç¼“å­˜åœ¨ä¸€ä¸ªbufferä¸­, é€šè¿‡ä¸€ä¸ªä»»åŠ¡æ¥æŠŠlogå­˜å…¥syslogè¿™ä¸€äº‹ä»¶å°è£…èµ·æ¥ æŠŠè¿™ä¸ªä»»åŠ¡åŠ å…¥ä¸€ä¸ªçº¿ç¨‹é—´å¯ä¿åºè¾“å‡ºçš„ä»»åŠ¡é˜Ÿåˆ—(å¸¸ç”¨asio">
<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>å¼‚æ­¥æ—¥å¿—å°ç»“ | ğŸš™</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/async_log_summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">å¼‚æ­¥æ—¥å¿—å°ç»“</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-15T16:31:26+00:00">
                11-15-2019
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NP/" itemprop="url" rel="index">
                    <span itemprop="name">NP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/goland_pycharm_activation/" rel="next" title="Pycharm & Goland æ¿€æ´»">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  Pycharm & Goland æ¿€æ´»
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/vscode_cl_code_runner/" rel="prev" title="vscodeç”¨clæ¥ç¼–è¯‘c++">
              <p class="post-nav-pre-next-title">
                  vscodeç”¨clæ¥ç¼–è¯‘c++
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <p>æœ€è¿‘å·¥ä½œæ¶‰åŠåˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—ç³»ç»Ÿ, å°ç»“ä¸€æ³¢, å…¶å®è·µä¸º: </p>
<ol>
<li>cppé«˜æ€§èƒ½çš„å¼‚æ­¥æ—¥å¿—ç³»ç»Ÿæ¨¡å—å¯¼å‡ºç»™pyä½¿ç”¨</li>
<li>æ­¤cppæ¨¡å—å¦èµ·çº¿ç¨‹</li>
<li>loggeré€šè¿‡unix socketè¿æ¥ä¸Šaddress ä¸º â€œ/dev/logâ€ï¼Œä¸ rsyslogd ç¨‹åºé€šä¿¡</li>
<li>logå…ˆç¼“å­˜åœ¨ä¸€ä¸ªbufferä¸­, é€šè¿‡ä¸€ä¸ªä»»åŠ¡æ¥æŠŠlogå­˜å…¥syslogè¿™ä¸€äº‹ä»¶å°è£…èµ·æ¥</li>
<li>æŠŠè¿™ä¸ªä»»åŠ¡åŠ å…¥ä¸€ä¸ªçº¿ç¨‹é—´å¯ä¿åºè¾“å‡ºçš„ä»»åŠ¡é˜Ÿåˆ—(å¸¸ç”¨asioçš„strandæ¥å®ç°), å³å¯è¿”å›äº†</li>
<li>ä¹‹åä¼šå¼‚æ­¥é¡ºåºè¾“å‡ºåˆ°syslog,  ç„¶å/ etc/init.d/rsyslog è¿™ä¸ªåå°ç¨‹åºæ ¹æ® / etc/rsyslog.conf è¿™ä¸ªé…ç½®æ–‡ä»¶ å°†æ—¥å¿—è¾“å‡ºåˆ°ä¸åŒçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç½‘ç»œæ–‡ä»¶ï¼Œå³å…¶ä»–æœåŠ¡å™¨(åˆ†å‘åˆ°æ•°æ®éƒ¨é—¨, ç„¶åä»–ä»¬å°±å¯ä»ä¸­ç­›é€‰æå–æ•°æ®, å¹¶åˆ¶ä½œç½‘ç«™ä¾›å„æ–¹æŸ¥è¯¢æ—¥å¿—äº†)</li>
</ol>
<p><strong>. . .</strong><a id="more"></a> </p>
<p>å…³äºsyslogå¯å‚è€ƒä»¥ä¸‹è®°å½•, ä»¥ä¸‹æ–‡å­—è½¬è‡ª <a href="https://www.cnblogs.com/xybaby/p/6596431.html" target="_blank" rel="noopener">https://www.cnblogs.com/xybaby/p/6596431.html</a></p>
<p><strong>æ­£æ–‡</strong></p>
<p>ã€€ã€€æœ¬æ–‡è®°å½•äº†å› ä¸ºä¸€ä¸ªç®€å•çš„æ—¥å¿—éœ€æ±‚ï¼Œç»§è€Œå¯¹ linux ç¯å¢ƒä¸‹ syslogã€rsyslogã€unix domain socket çš„å­¦ä¹ ã€‚æœ¬æ–‡å…³æ³¨ä½¿ç”¨å±‚é¢ï¼Œå¹¶ä¸æ¶‰åŠ rsyslog çš„å®ç°åŸç†ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å‚è€ƒ <a href="http://www.rsyslog.com/%20" target="_blank" rel="noopener">rsyslog å®˜ç½‘</a>ã€‚å¦å¤–ï¼Œæœ¬æ–‡å®éªŒçš„ç¯å¢ƒå®åœ¨ debian8ï¼Œå¦‚æœæ˜¯å…¶ä»– linux å‘è¡Œç‰ˆæœ¬æˆ–è€… debian çš„å…¶ä»–ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šç¨å¾®æœ‰äº›å·®å¼‚ã€‚</p>
<h1 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h1><p>ã€€ã€€å·¥ä½œä¸­æœ‰ä¸€ä¸ªåœ¨ Linuxï¼ˆdebian8ï¼‰ç¯å¢ƒä¸‹è¿è¡Œçš„æœåŠ¡å™¨ç¨‹åºï¼Œç”¨ python è¯­è¨€å®ç°ï¼Œä»£ç ä¸­æœ‰ä¸åŒä¼˜å…ˆçº§çš„æ—¥å¿—éœ€è¦è®°å½•ï¼Œå¼€å‘çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨ python çš„ logging æ¨¡å—è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging, os</span><br><span class="line"></span><br><span class="line">logger = <span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_logger</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> logger</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> logger:</span><br><span class="line">        logger = logging.getLogger(<span class="string">'ServerLog'</span>)</span><br><span class="line">        logger.setLevel(logging.INFO)</span><br><span class="line">        filehandler = logging.FileHandler(os.environ[<span class="string">'HOME'</span>] + <span class="string">'/Server.log'</span>, encoding=<span class="string">'utf8'</span>)</span><br><span class="line">        filehandler.setFormatter(logging.Formatter(<span class="string">"%(asctime)s - %(levelname)s - %(message)s"</span>))</span><br><span class="line">        logger.addHandler(filehandler)</span><br><span class="line">    <span class="keyword">return</span> logger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_func</span><span class="params">()</span>:</span></span><br><span class="line">    get_logger().info(<span class="string">"call some_func"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    some_func()</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€è¿è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œå°±ä¼šåœ¨ home ç›®å½•ä¸‹é¢äº§ç”Ÿä¸€ä¸ª server.log æ–‡ä»¶ã€‚</p>
<p>ã€€ã€€åæ¥æ•°æ®åˆ†æçš„éƒ¨é—¨è¯´ä»–ä»¬å¸Œæœ›èƒ½å¤Ÿå®æ—¶æ‹¿åˆ°ä¸€éƒ¨åˆ†æ—¥å¿—ï¼Œä»–ä»¬æœ‰ä¸€å°ä¸“é—¨å¤„ç†æ—¥å¿—çš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæ€ä¹ˆæŠŠæ—¥å¿—å‘ç»™ä»–ä»¬å‘¢ï¼Ÿç¬”è€…ä¹‹å‰å¹¶æ²¡æœ‰ç›¸å…³ç»éªŒï¼Œæ•°æ®åˆ†æéƒ¨é—¨çš„åŒäº‹è¯´ï¼Œè¿™ç§éœ€æ±‚ä»–ä»¬éƒ½æ˜¯æ‰¾è¿ç»´äººå‘˜å¸®å¿™ã€‚è¿ç»´åŒäº‹ç»™å‡ºçš„æ–¹æ¡ˆå¾ˆç®€å•ï¼šäº§å“æŠŠæ—¥å¿—å†™åˆ° syslogï¼Œç„¶åä»–ä»¬è´Ÿè´£æŠŠå¸¦æœ‰æŸäº›å…³é”®å­—çš„æ—¥å¿—è½¬å‘ç»™æ•°æ®åˆ†æéƒ¨é—¨ï¼Œåœ¨è¿ç»´åŒäº‹çš„æŒ‡å¯¼ä¸‹ï¼ŒæŠŠä»£ç æ”¹æˆäº†è¿™æ ·:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.handlers</span><br><span class="line"></span><br><span class="line">logger = <span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_logger</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> logger</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> logger:</span><br><span class="line">        logger = logging.getLogger(<span class="string">'ServerLog'</span>)</span><br><span class="line">        logger.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        sys_handler = logging.handlers.SysLogHandler(<span class="string">'/dev/log'</span>, facility=logging.handlers.SysLogHandler.LOG_LOCAL0)</span><br><span class="line">        syslog_tag = <span class="string">'ServerLog'</span></span><br><span class="line">        sys_handler.setFormatter(logging.Formatter(syslog_tag + <span class="string">":%(asctime)s - %(name)s - %(levelname)s - %(message)s"</span>))</span><br><span class="line"></span><br><span class="line">        logger.addHandler(sys_handler)</span><br><span class="line">    <span class="keyword">return</span> logger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_func</span><span class="params">()</span>:</span></span><br><span class="line">    get_logger().info(<span class="string">"call some_func"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    some_func()</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€ä¸Šé¢çš„ä»£ç ä¿®æ”¹äº†æ—¥å¿—çš„è¾“å‡ºå½¢å¼ï¼Œç›´è§‚çš„æ„Ÿå—å°±æ˜¯ä»æ–‡ä»¶ server.log åˆ°äº† /dev/logï¼Œä½† / dev/log å¯¹åº”çš„æ˜¯ SysLogHandlerï¼Œå¹¶ä¸æ˜¯ FileHandlerï¼Œæ‰€ä»¥è‚¯å®šä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶ã€‚æ­¤æ—¶ï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®ï¼šç¬¬ä¸€ï¼Œè¿™é‡Œæˆ‘å¹¶æ²¡æœ‰å°†æ—¥å¿—è¾“å‡ºåˆ° home ç›®å½•ä¸‹çš„ Server.log æ–‡ä»¶ï¼Œä½†æ˜¯ç¨‹åºè¿è¡Œçš„æ—¶å€™ç”Ÿæˆäº†è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼›ç¬¬äºŒï¼Œæ€ä¹ˆè®²æ—¥å¿—å‘é€åˆ°æ•°æ®åˆ†æéƒ¨é—¨çš„æœåŠ¡å™¨ã€‚</p>
<p>ã€€ã€€ä¸æ‡‚å°±é—®ï¼š</p>
<p>ã€€ã€€Qï¼šæ–°çš„ä»£ç ä¸‹æ€ä¹ˆç”Ÿæˆ Server.log æ–‡ä»¶ï¼Œæ—¥å¿—å†…å®¹åˆæ˜¯æ€ä¹ˆè½¬å‘åˆ°æ•°æ®åˆ†æéƒ¨é—¨çš„æœåŠ¡å™¨ï¼Ÿ</p>
<p>ã€€ã€€A:  è¿™ä¸ªæ˜¯ / etc/init.d/rsyslog è¿™ä¸ªåå°ç¨‹åºæ ¹æ® / etc/rsyslog.conf è¿™ä¸ªé…ç½®æ–‡ä»¶ å°†æ—¥å¿—è¾“å‡ºåˆ°ä¸åŒçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç½‘ç»œæ–‡ä»¶ï¼Œå³å…¶ä»–æœåŠ¡å™¨ã€‚çœ‹ / etc/rsyslog.conf è¿™ä¸ªé…ç½®å°±æ˜ç™½äº†ã€‚</p>
<p>ã€€ã€€Qï¼šOKï¼Œé‚£ python ä»£ç å°†æ–‡ä»¶è¾“å‡ºåˆ° / dev/log è·Ÿ rsyslog åˆæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p>
<p>ã€€ã€€Aï¼špython çš„ sysloghandler ä¼šå°†æ—¥å¿—å‘é€åˆ° rsyslogï¼Œä»–ä»¬ä¹‹é—´ä½¿ç”¨ unix domain socket é€šä¿¡ï¼Œå…·ä½“çœ‹ logging æ¨¡å—çš„æºç å°±çŸ¥é“äº†</p>
<h1 id="unix-domain-socketï¼š"><a href="#unix-domain-socketï¼š" class="headerlink" title="unix domain socketï¼š"></a>unix domain socketï¼š</h1><p>ã€€ã€€æŒ‰ç…§ä¸Šé¢çš„å¯¹è¯çš„æ„æ€ï¼Œpython ç¨‹åºå…ˆå°†æ—¥å¿—å‘é€ç»™ rsyslog è¿™ä¸ªç¨‹åºï¼Œç„¶å rsyslog å†å¤„ç†æ”¶åˆ°çš„æ—¥å¿—æ•°æ®ï¼Œæ‰€ä»¥å…ˆçœ‹ logging ä»£ç ï¼š</p>
<p>ã€€ã€€SysLogHandler è¿™ä¸ªç±»åœ¨ logging.handlers.py, æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, address=<span class="params">(<span class="string">'localhost'</span>, SYSLOG_UDP_PORT)</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">             facility=LOG_USER, socktype=socket.SOCK_DGRAM)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Initialize a handler.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If address is specified as a string, a UNIX socket is used. To log to a</span></span><br><span class="line"><span class="string">    local syslogd, "SysLogHandler(address="/dev/log")" can be used.</span></span><br><span class="line"><span class="string">    If facility is not specified, LOG_USER is used.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    logging.Handler.__init__(self)</span><br><span class="line"></span><br><span class="line">    self.address = address</span><br><span class="line">    self.facility = facility</span><br><span class="line">    self.socktype = socktype</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> isinstance(address, basestring):</span><br><span class="line">        self.unixsocket = <span class="number">1</span></span><br><span class="line">        self._connect_unixsocket(address)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.unixsocket = <span class="number">0</span></span><br><span class="line">        self.socket = socket.socket(socket.AF_INET, socktype)</span><br><span class="line">        <span class="keyword">if</span> socktype == socket.SOCK_STREAM:</span><br><span class="line">            self.socket.connect(address)</span><br><span class="line">    self.formatter = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_connect_unixsocket</span><span class="params">(self, address)</span>:</span></span><br><span class="line">    self.socket = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)</span><br><span class="line">    <span class="comment"># syslog may require either DGRAM or STREAM sockets</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        self.socket.connect(address)</span><br><span class="line">    <span class="keyword">except</span> socket.error:</span><br><span class="line">        self.socket.close()</span><br><span class="line">        self.socket = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)</span><br><span class="line">        self.socket.connect(address)</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€åœ¨<strong>init</strong>.doc é‡Œé¢å†™å¾—å¾ˆæ¸…æ¥šï¼Œå¦‚æœ address æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆé»˜è®¤å€¼æ˜¯ä¸€ä¸ª tupleï¼‰ï¼Œé‚£ä¹ˆä¼šå»ºç«‹ä¸€ä¸ª unix socketï¼ˆ<a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="noopener">unix domain socket</a>ï¼‰ã€‚å¦‚æœ address ä¸º â€œ/dev/logâ€ï¼ˆæ­£å¦‚æˆ‘ä»¬ä¹‹å‰çš„ python ä»£ç ï¼‰ï¼Œé‚£ä¹ˆè¾“å‡ºåˆ°æœ¬æœºçš„ syslogd ç¨‹åºã€‚å¦å¤–ï¼Œåœ¨ç¬¬ 27 è¡Œ self.socket = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM) socket.socket çš„ç¬¬ä¸€ä¸ªå‚æ•° family çš„å€¼ä¸º <strong>AF_UNIX</strong>ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ AF_INET(IPV4ï¼‰æˆ–è€… AF_INET6(IPV6)ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯ unix domain socket å‘¢ï¼Ÿ</p>
<p>ã€€ã€€unix domain socket æ˜¯è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼š<a href="https://en.wikipedia.org/wiki/Inter-process_communication" target="_blank" rel="noopener">inter-process communication</a>ï¼‰çš„ä¸€ç§æ–¹å¼ï¼Œå…¶ä»–è¿˜æœ‰ç®¡é“ã€å‘½åç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜ã€socket ä¹‹ç±»çš„ã€‚unix domain socket ä¸å¹³å¸¸ä½¿ç”¨çš„ socketï¼ˆç‹­ä¹‰çš„ internet socketï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œé‚£å°±æ˜¯ unix domain socket åªèƒ½åœ¨åŒä¸€å°ä¸»æœºä¸Šçš„è¿›ç¨‹ä¹‹é—´é€šä¿¡ï¼Œæ™®é€šçš„ socket ä¹Ÿå¯ä»¥é€šè¿‡â€™localhostâ€™æ¥åœ¨åŒä¸€å°ä¸»æœºé€šä¿¡ï¼Œé‚£ä¹ˆ unix domain socket æœ‰å“ªäº›ä¼˜åŠ¿å‘¢ï¼Ÿ</p>
<p>ã€€ã€€ç¬¬ä¸€ï¼šä¸éœ€è¦ç»è¿‡ç½‘ç»œåè®®æ ˆ</p>
<p>ã€€ã€€ç¬¬äºŒï¼šä¸éœ€è¦æ‰“åŒ…æ‹†åŒ…ã€è®¡ç®—æ ¡éªŒå’Œã€ç»´æŠ¤åºå·å’Œåº”ç­”ç­‰</p>
<p>ã€€ã€€æ‰€ä»¥ï¼Œä¼˜åŠ¿å°±æ˜¯æ€§èƒ½å¥½ï¼Œä¸€ä¸ªå­—ï¼Œå¿«ã€‚</p>
<p>ã€€ã€€ä¸‹é¢ç”¨ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨å®¢æˆ·ç«¯ä¾‹å­æ¥çœ‹çœ‹ unix domain socket çš„ä½¿ç”¨æ–¹æ³•ä¸è¿‡ç¨‹ï¼š</p>
<p>ã€€ã€€æœåŠ¡å™¨ï¼šuds_server.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ADDR = <span class="string">'/tmp/uds_tmp'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket, os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">        sock = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)</span><br><span class="line">        <span class="keyword">if</span> os.path.exists(ADDR):</span><br><span class="line">                os.unlink(ADDR)</span><br><span class="line">        sock.bind(ADDR)</span><br><span class="line">        sock.listen(<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">                connection, address = sock.accept()</span><br><span class="line">                <span class="keyword">print</span> <span class="string">"Data : %s"</span> % connection.recv(<span class="number">1024</span>);</span><br><span class="line">                connection.send(<span class="string">"hello uds client"</span>)</span><br><span class="line">                connection.close()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">        sock.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€å®¢æˆ·ç«¯ï¼šuds_client.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ADDR = <span class="string">'/tmp/uds_tmp'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">        sock = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)</span><br><span class="line">        sock.connect(ADDR)</span><br><span class="line">        sock.send(<span class="string">'hello unix domain socket server'</span>)</span><br><span class="line">        <span class="keyword">print</span> <span class="string">'client recieve'</span>, sock.recv(<span class="number">1024</span>)</span><br><span class="line">        sock.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€é¦–å…ˆï¼šè¿è¡ŒæœåŠ¡å™¨ python uds_server.pyï¼Œè¿™ä¸ªæ—¶å€™åœ¨ / tmp ç›®å½•ä¸‹äº§ç”Ÿäº†æ–‡ä»¶ï¼Œç”¨ ls æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170323140416611-1663002555.png" alt></p>
<p>ã€€ã€€å¯ä»¥çœ‹åˆ°ï¼Œæ–‡ä»¶ç±»å‹ï¼ˆç¬¬ä¸€ä¸ªå­—æ®µï¼‰ä¸º sï¼Œä»£è¡¨ socket æ–‡ä»¶ã€‚ï¼ˆPSï¼š å¦‚æœè¿›ç¨‹é—´ç”¨å‘½ä»¤ç®¡é“é€šä¿¡ï¼Œä¹Ÿæ˜¯åˆ©ç”¨ä¸­é—´æ–‡ä»¶ï¼Œls æ˜¾ç¤ºçš„æ–‡ä»¶ç±»å‹ä¸º pï¼‰</p>
<p>ã€€ã€€è¿è¡Œå®¢æˆ·ç«¯ python uds_client.pyï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½æœ‰ç›¸åº”çš„è¾“å‡ºï¼Œä½¿ç”¨æ–¹æ³•ä¸æ™®é€š socket æ²¡æœ‰ä»€ä¹ˆå¤§çš„å·®å¼‚ã€‚</p>
<h1 id="æ—¥å¿—è½¬å‘æµç¨‹ï¼š"><a href="#æ—¥å¿—è½¬å‘æµç¨‹ï¼š" class="headerlink" title="æ—¥å¿—è½¬å‘æµç¨‹ï¼š"></a>æ—¥å¿—è½¬å‘æµç¨‹ï¼š</h1><p>ã€€ã€€åœ¨äº†è§£äº† unix domain socket è¿™ä¸ªæ¦‚å¿µä¹‹åï¼Œä¸‹é¢å°±æ¯”è¾ƒç®€å•äº†ï¼Œé¦–å…ˆæ˜¯ / dev/log è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬ç”¨ ls æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶çš„ä¿¡æ¯</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170321200554424-555977189.png" alt></p>
<p>ã€€ã€€å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥æ–‡ä»¶ï¼ŒçœŸå®çš„æ–‡ä»¶æ˜¯ / run/systemd/journal/dev-log, é‚£ä¹ˆå†æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170321200742736-1156458900.png" alt></p>
<p>ã€€ã€€okï¼Œæ˜¯ä¸€ä¸ª socket æ–‡ä»¶ï¼Œå¤åˆé¢„æœŸï¼ŒæŒ‰ç…§ä¹‹å‰çš„ unix domain socket çš„ä¾‹å­ï¼Œrsyslog ä¹Ÿåº”è¯¥å’‹è¿™ä¸ªæ–‡ä»¶ä¸Šç›‘å¬ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170324101520533-1212316745.png" alt></p>
<p>ã€€ã€€lsof fd å¯ä»¥åˆ—å‡ºæ‰€æœ‰ä½¿ç”¨äº†è¿™ä¸ªæ–‡ä»¶ï¼ˆlinux ä¸‹æ–‡ä»¶çš„æ¦‚å¿µæ¯”è¾ƒå®½æ³›ï¼‰çš„è¿›ç¨‹ï¼Œäº‹å®ä¸Šæˆ‘ä»¬çœ‹åˆ°åªæœ‰ systemd å’Œ systemd-j ä¸¤ä¸ªä¸æ˜æ‰€ä»¥çš„è¿›ç¨‹ã€‚é‚£ä¹ˆç›´æ¥çœ‹çœ‹ rsyslog ä½¿ç”¨çš„ unix domain socket å§</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170322091124143-462804263.png" alt></p>
<pre><code>![](/img/syslog_intro/1089769-20170324101545783-1464834217.png)
</code></pre><p>ã€€ã€€é¢ï¼Œå¯ä»¥çœ‹åˆ° rsyslogd ä½¿ç”¨çš„ socket domain socket æ˜¯ / run/systemd/journal/syslogï¼Œå¹¶ä¸æ˜¯ / run/systemd/journal/dev-logï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œé‚£ä¹ˆå†æ¥çœ‹çœ‹è¿˜æœ‰å“ªäº›è¿›ç¨‹ä½¿ç”¨äº† / run/systemd/journal/syslogã€‚</p>
<p> ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170322194059533-186007552.png" alt></p>
<p>ã€€ã€€soï¼Œsystemd å’Œ rsyslogd éƒ½ä½¿ç”¨äº†è¿™ä¸ªæ–‡ä»¶ï¼Œæ„Ÿè§‰åƒæ˜¯åº”ç”¨è¿›ç¨‹ (e.g. ä¸Šé¢çš„ python ç¨‹åºï¼‰å°†æ—¥å¿—é€šè¿‡ / run/systemd/journal/dev-logï¼ˆ/dev/log èƒŒåçœŸæ­£çš„æ–‡ä»¶ï¼‰å‘é€åˆ° systemdï¼Œ ç„¶å systemd å†å°†æ—¥å¿—é€šè¿‡ / run/systemd/journal/syslog å‘é€åˆ° rsyslogdï¼Œæ˜¯ä¸æ˜¯è¿™æ ·å‘¢ï¼Œgoogle äº†ä¸€ä¸‹ï¼Œå‘ç°äº†è¿™ç¯‡æ–‡ç«  <a href="http://unix.stackexchange.com/questions/205883/understand-logging-in-linux" target="_blank" rel="noopener">understand-logging-in-linux</a>ï¼Œç¡®å®æ˜¯è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼š</p>
<blockquote>
<p>systemd has a single monolithic log management program, <code>systemd-journald</code>. This runs as a service managed by systemd.</p>
<ul>
<li>It reads <code>/dev/kmsg</code> for kernel log data.</li>
<li>It reads <code>/dev/log</code> (a symbolic link to <code>/run/systemd/journal/dev-log</code>) for application log data from the GNU C libraryâ€™s <code>syslog()</code> function.</li>
<li>It listens on the <code>AF_LOCAL</code> stream socket at <code>/run/systemd/journal/stdout</code> for log data coming from systemd-managed services.</li>
<li>It listens on the <code>AF_LOCAL</code> datagram socket at <code>/run/systemd/journal/socket</code> for log data coming from programs that speak the systemd-specific journal protocol (i.e. <code>sd_journal_sendv()</code> et al.).</li>
<li>It mixes these all together.</li>
<li>It writes to a set of system-wide and per-user journal files, in <code>/run/log/journal/</code> or <code>/var/log/journal/</code>.</li>
<li>If it can connect (as a client) to an <code>AF_LOCAL</code> datagram socket at <code>/run/systemd/journal/syslog</code>it writes journal data there, if forwarding to syslog is configured.</li>
</ul>
</blockquote>
<p>ã€€ã€€okï¼Œåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬çŸ¥é“äº†åº”ç”¨ç¨‹åºçš„æ—¥å¿—æ˜¯æ€ä¹ˆè½¬å‘åˆ° rsyslogï¼Œé‚£ä¹ˆ rsyslog æ€ä¹ˆå¤„ç†æ¥æ”¶åˆ°çš„æ—¥å¿—ï¼Œç§˜å¯†å°±åœ¨ / etc/rsyslog.conf, åœ¨æ‰“å¼€è¿™ä¸ªé…ç½®æ–‡ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ <a href="http://www.rsyslog.com/" target="_blank" rel="noopener">rsyslog</a> å®˜ç½‘çš„ç®€å•æè¿°ï¼š</p>
<blockquote>
<p> ã€€ã€€RSYSLOG is the <strong>r</strong>ocket-fast <strong>sys</strong>tem for <strong>log</strong> processing.</p>
</blockquote>
<p> ã€€ã€€åŸæ¥ R æ˜¯ rocket-fast çš„æ„æ€ï¼ç«ç®­ä¸€èˆ¬å¿«ï¼å®˜ç½‘å£°ç§°æ¯ç§’å¯ä»¥å¤„ç†ç™¾ä¸‡çº§åˆ«çš„æ—¥å¿—ã€‚rsyslogd åœ¨éƒ¨åˆ† linux ç¯å¢ƒæ˜¯é»˜è®¤çš„ syslogd ç¨‹åºï¼ˆè‡³å°‘åœ¨ç¬”è€…çš„æœºå™¨ä¸Šï¼‰ï¼Œd æ˜¯ daemon çš„æ„æ€ï¼Œåå°è¿›ç¨‹ã€‚ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™å°±ä¼šå¯åŠ¨è¯¥è¿›ç¨‹æ¥å¤„ç†æ—¥å¿—ï¼ˆåŒ…æ‹¬æ“ä½œç³»ç»Ÿè‡ªèº«å’Œç”¨æˆ·è¿›ç¨‹çš„æ—¥å¿—ï¼‰ã€‚æ‰“å¼€ä¿®æ”¹è¿‡çš„ / etc/rsyslog.conf, æ¥ä¸‹æ¥å°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»</p>
<p> ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170323142740033-1321897632.png" alt></p>
<p>ã€€ã€€åŸæ¥ä¸€ä¸¾ä¸€åŠ¨éƒ½åœ¨ç›‘æ§ä¹‹ä¸­ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯ç³»ç»Ÿæä¾›çš„ï¼Œç›´æ¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸Šåšä¿®æ”¹æ˜¾ç„¶ä¸æ˜¯æ˜æ™ºä¹‹ä¸¾ã€‚å¦‚ä¸Šå›¾çº¢è‰²éƒ¨åˆ†ï¼Œå¯ä»¥å† rysyslog.d æ–‡ä»¶å¤¹ä¸‹å¢åŠ è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå®šåˆ¶æ—¥å¿—è¿‡æ»¤è§„åˆ™ã€‚é‚£ä¹ˆçœ‹çœ‹çš„ rsyslog.d æ–‡ä»¶å¤¹ä¸‹æ–°å¢çš„ tmp.conf</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$FileOwner USERNAME</span><br><span class="line">$FileGroup USERNAME</span><br><span class="line">$FileCreateMode <span class="number">0644</span></span><br><span class="line">$DirCreateMode <span class="number">0755</span></span><br><span class="line">$Umask <span class="number">0022</span></span><br><span class="line">$template serverLog,<span class="string">"/home/USERNAME/Server.log"</span></span><br><span class="line">$template LogFormat,<span class="string">"%msg%\n"</span></span><br><span class="line">if $syslogfacility-text == 'local0' and $syslogtag contains 'ServerLog' then -?serverLog;LogFormat</span><br><span class="line"></span><br><span class="line"><span class="comment">#if $syslogfacility-text == 'local0' and $syslogtag contains 'ServerLog' then @someip:port</span></span><br><span class="line">&amp; stop</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€å†æ¥å›é¡¾ä¸€ä¸‹å¯¹åº”çš„åº”ç”¨ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.handlers</span><br><span class="line"></span><br><span class="line">logger = <span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_logger</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> logger</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> logger:</span><br><span class="line">        logger = logging.getLogger(<span class="string">'ServerLog'</span>)</span><br><span class="line">        logger.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line">        sys_handler = logging.handlers.SysLogHandler(<span class="string">'/dev/log'</span>, facility=logging.handlers.SysLogHandler.LOG_LOCAL0)</span><br><span class="line">        syslog_tag = <span class="string">'ServerLog'</span></span><br><span class="line">        sys_handler.setFormatter(logging.Formatter(syslog_tag + <span class="string">":%(asctime)s - %(name)s - %(levelname)s - %(message)s"</span>))</span><br><span class="line"></span><br><span class="line">        logger.addHandler(sys_handler)</span><br><span class="line">    <span class="keyword">return</span> logger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_func</span><span class="params">()</span>:</span></span><br><span class="line">    get_logger().info(<span class="string">"call some_func"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    some_func()</span><br></pre></td></tr></table></figure>
<p>ã€€ã€€æ³¨æ„ï¼šé…ç½®æ–‡ä»¶éœ€è¦ä¸åº”ç”¨ä»£ç é…åˆï¼Œæ¯”å¦‚ä»£ç ä¸­ç¬¬ 11 è¡Œ facility=logging.handlers.SysLogHandler.LOG_LOCAL0 ä¸ é…ç½®ä¸­ $syslogfacility-text == â€˜local0â€™ ç›¸å¯¹åº”ï¼›ä»£ç ç¬¬ 12 è¡Œ syslog_tag = â€˜ServerLogâ€™ ä¸ é…ç½®æ–‡ä»¶ $syslogtag contains â€˜ServerLogâ€™ å¯¹åº”ã€‚å…³äº python ä»£ç ä¸­ syslogtag çš„è®¾ç½®ï¼Œå‚è€ƒäº† stackoverflow ä¸Šçš„<a href="http://stackoverflow.com/questions/9542465/how-to-change-the-tag-when-logging-to-syslog-from-unknown" target="_blank" rel="noopener">è¿™ä¸ªé—®ç­”</a>ã€‚</p>
<p>ã€€ã€€å½“æˆ‘ä»¬ä¿®æ”¹äº†é…ç½®æ—¶å€™éœ€è¦é€šè¿‡å‘½ä»¤ /etc/init.d/rsyslog restart æ¥é‡å¯ rsyslogdï¼Œé‡å¯ä¹‹åå†è¿è¡Œä¹‹å‰çš„ python æ–‡ä»¶ï¼Œå°±å¯ä»¥äº†ã€‚</p>
<p> ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170323165530158-761295228.png" alt></p>
<h2 id="å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š"><a href="#å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š" class="headerlink" title=" å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š"></a> å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š</h2><p>ã€€ã€€ä¸Šé¢çš„ tmp.conf æ–‡ä»¶æ³¨é‡Šæ‰äº†ç¬¬ 10 è¡Œï¼Œè¿™ä¸€è¡Œçš„ä½œç”¨æ˜¯å°†æ»¡è¶³æ¡ä»¶çš„æ—¥å¿—å‘é€åˆ°æŒ‡å®šçš„å…¶ä»–æœºå™¨ä¸Šï¼ŒIPï¼šPort ç”¨æ¥æŒ‡å®šæ¥å—æ—¥å¿—çš„è¿œç«¯ rsyslogd ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ rsyslogd åœ¨ 514 ç«¯å£ç›‘å¬ã€‚å‡è®¾æˆ‘éœ€è¦ç»™å±€åŸŸç½‘å†… 10.240.10.10 å‘é€ syslogï¼Œç¬¬ 10 è¡Œæ”¹æˆè¿™æ ·å°±è¡Œäº†ï¼š</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; if $syslogfacility-text == &apos;local0&apos; and $syslogtag contains &apos;ServerLog&apos; then @10.240.10.10</span><br><span class="line">&gt; </span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ã€€ã€€é‚£ä¹ˆ 10.240.10.10 ä¸»è¦å¼€å¯ rsyslogd çš„è¿œç¨‹ç›‘å¬ï¼Œå¹¶æŒ‡å®šè¿œç«¯æ—¥å¿—çš„è¾“å‡ºè§„åˆ™ï¼Œfor exampleï¼š</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170410132458782-973391177.png" alt></p>
<p>ã€€ã€€è¿™ä¸ªé…ç½®ï¼Œè®© rsyslogd ä½¿ç”¨ UDP å’Œ TCP åè®®åŒæ—¶åœ¨ 514 ç«¯å£ä¸Šç›‘å¬ï¼Œå¹¶å°†éæœ¬æœºçš„æ—¥å¿—è¾“å‡ºåˆ°å¯¹åº”è¿œç«¯ä¸»æœºåçš„æ–‡ä»¶ã€‚æ³¨æ„ï¼Œä»¥ä¸Šä¿®æ”¹ éƒ½éœ€è¦é‡å¯ rsyslogd æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
<h1 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h1><p>ã€€ã€€æ—¥å¿—ä»åº”ç”¨ç¨‹åºåˆ°æœ€ç»ˆçš„æ—¥å¿—æ–‡ä»¶ï¼ˆæˆ–è€…è¿œç¨‹æœåŠ¡å™¨ï¼‰çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/syslog_intro/1089769-20170323163540080-1733313578.png" alt></p>
<h1 id="referencesï¼š"><a href="#referencesï¼š" class="headerlink" title="referencesï¼š"></a>referencesï¼š</h1><p><a href="https://en.wikipedia.org/wiki/Inter-process_communication" target="_blank" rel="noopener">inter-process communication</a></p>
<p><a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="noopener">unix domain socket</a></p>
<p><a href="http://unix.stackexchange.com/questions/205883/understand-logging-in-linux" target="_blank" rel="noopener">understand-logging-in-linux</a></p>
<p><a href="https://linux.cn/article-5023-1.html" target="_blank" rel="noopener">åœ¨ Linux ä¸Šé…ç½®ä¸€ä¸ª syslog æœåŠ¡å™¨</a></p>

      


      

    
      <footer class="post-footer">
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/goland_pycharm_activation/" rel="next" title="Pycharm & Goland æ¿€æ´»">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    Pycharm & Goland æ¿€æ´»
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/vscode_cl_code_runner/" rel="prev" title="vscodeç”¨clæ¥ç¼–è¯‘c++">
                <p class="post-nav-pre-next-title">
                    vscodeç”¨clæ¥ç¼–è¯‘c++
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#éœ€æ±‚ï¼š"><span class="nav-text">éœ€æ±‚ï¼š</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#unix-domain-socketï¼š"><span class="nav-text">unix domain socketï¼š</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ—¥å¿—è½¬å‘æµç¨‹ï¼š"><span class="nav-text">æ—¥å¿—è½¬å‘æµç¨‹ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š"><span class="nav-text"> å‘é€åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ€»ç»“ï¼š"><span class="nav-text">æ€»ç»“ï¼š</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#referencesï¼š"><span class="nav-text">referencesï¼š</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
