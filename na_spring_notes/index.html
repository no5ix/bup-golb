<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if('mmp'){
            let localStoragePasswdKey = 'Spring Boot Newbie Notes' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== 'mmp') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== 'mmp') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="noodle,Java,NA,SpringBoot,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta name="keywords" content="noodle,Java,NA,SpringBoot">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot Newbie Notes">
<meta property="og:url" content="https://hulinhong.com/na_spring_notes/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta property="og:locale" content="en">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:updated_time" content="2025-12-17T18:31:29.663Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Boot Newbie Notes">
<meta name="twitter:description" content="å‚è€ƒé“¾æ¥ è§†é¢‘æ•™ç¨‹  . . .">
<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>Spring Boot Newbie Notes | ğŸš™</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/na_spring_notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Spring Boot Newbie Notes</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-18T21:54:08+00:00">
                01-18-2019
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Noodle/" itemprop="url" rel="index">
                    <span itemprop="name">Noodle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
              
                <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
              
                <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
              
                <a href="/tags/SpringBoot/" rel="tag"><i class="fa fa-tag"></i> SpringBoot</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/na_word_list/" rel="next" title="IT Word List">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  IT Word List
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/ssr_server/" rel="prev" title="SSR server">
              <p class="post-nav-pre-next-title">
                  SSR server
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><ul>
<li><a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?spm_id_from=333.788.videopod.episodes&amp;vd_source=8a83b38420b65ac33aa101b7754630f6&amp;p=27" target="_blank" rel="noopener">è§†é¢‘æ•™ç¨‹</a></li>
</ul>
<p><strong>. . .</strong><a id="more"></a></p>
<h1 id="real-questions"><a href="#real-questions" class="headerlink" title="real questions"></a>real questions</h1><ul>
<li>What version of Spring Boot are you using?<ul>
<li>I currently use Spring Boot 2.7 and have explored Spring Boot 3, which introduces Jakarta EE namespace migration and enhanced native image support. Version selection depends on compatibility with other frameworks and enterprise requirements.</li>
</ul>
</li>
<li>What are the major features/changes in Spring Boot 3?<ul>
<li>Spring Boot 3 is built on Spring Framework 6 and supports Jakarta EE 10, native image compilation with GraalVM, and new observability APIs. It also drops support for Java 8 and 11.</li>
</ul>
</li>
<li>What is JPA? What are its parts?<ul>
<li>JPA is a Java standard for ORM (object-relational mapping). It uses annotations like @Entity, @Id, and supports CRUD via JpaRepository.</li>
</ul>
</li>
<li>Can we have default/static methods in functional interfaces?<ul>
<li>Yes, functional interfaces can have default or static methods. As long as thereâ€™s only one abstract method, they remain valid for lambda usage.</li>
</ul>
</li>
<li>Why canâ€™t we use primitives in HashMap?<ul>
<li>Java collections like HashMap only accept objects as keys and values. Primitives must be boxed into wrapper classes like Integer using autoboxing.</li>
</ul>
</li>
</ul>
<h1 id="Spring-Restful-APIçœŸé¢˜"><a href="#Spring-Restful-APIçœŸé¢˜" class="headerlink" title="Spring Restful APIçœŸé¢˜"></a>Spring Restful APIçœŸé¢˜</h1><h2 id="write-a-rest-controller"><a href="#write-a-rest-controller" class="headerlink" title="write a rest controller"></a>write a rest controller</h2><figure class="highlight java"><figcaption><span>HelloController.java</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.java.interview.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.java.interview.service.HelloService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.*;</span><br><span class="line"><span class="comment">//import org.springframework.data.domain.Pageable;</span></span><br><span class="line"><span class="comment">//import org.springframework.data.web.PageableDefault;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> userId;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getUserId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserId</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userId = userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> HelloService service;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello/&#123;employee_name&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">greetings</span><span class="params">(@PathVariable(<span class="string">"employee_name"</span>)</span> String name) </span>&#123;  <span class="comment">// TODO pathVariableè¦æŒ‡å®šåå­—å—?</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"How are you, "</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// In the second example, strname is the path variable in the URL, but the method parameter is named username. Without "strname" in @PathVariable, Spring wouldnâ€™t know how to map it.</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/greeting/&#123;employee_name&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title">greetingsEmployee</span><span class="params">(@PathVariable String employee_name)</span> </span>&#123;  <span class="comment">// TODO pathVariableè¦æŒ‡å®šåå­—å—?</span></span><br><span class="line"><span class="comment">//        return "How are you, " + employee_name;</span></span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(<span class="string">"How are you, "</span> + employee_name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/testRequestParam"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title">testRequestParam</span><span class="params">(@RequestParam(<span class="string">"num"</span>)</span> <span class="keyword">int</span> number) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(String.valueOf(number));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/create"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title">testPostBody</span><span class="params">(@RequestBody UserInfo userInfo, @RequestParam(value = <span class="string">"userRole"</span>, required = <span class="keyword">false</span>, defaultValue = <span class="string">"guest"</span>)</span> String userRole) </span>&#123;</span><br><span class="line"><span class="comment">//        @PageableDefault(size = 10) Pageable pageable) &#123;</span></span><br><span class="line"><span class="comment">//        return ResponseEntity.ok(userInfo.getUserName() + ": " + userRole + ": pageable = " + pageable);</span></span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(userInfo.getUserName() + <span class="string">": "</span> + userRole );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping</span>(<span class="string">"/update"</span>)</span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;String&gt;&gt; testPut(<span class="meta">@RequestBody</span> UserInfo userInfo, <span class="meta">@RequestParam</span>(<span class="string">"userId"</span>) <span class="keyword">int</span> userId) &#123;</span><br><span class="line"><span class="comment">//    public ResponseEntity&lt;List&lt;String&gt;&gt; testPut(@RequestParam("userId") int userId) &#123;</span></span><br><span class="line"><span class="comment">//        user</span></span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(Arrays.asList(String.valueOf(userInfo.getUserId()), String.valueOf(userId)));</span><br><span class="line"><span class="comment">//        return ResponseEntity.ok(Arrays.asList("88", String.valueOf(userId)));</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/delete"</span>)</span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;Map&lt;Integer, String&gt;&gt; testDelete(<span class="meta">@RequestParam</span>(<span class="string">"userId"</span>) <span class="keyword">int</span> userId) &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(<span class="keyword">new</span> HashMap&lt;&gt;());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="write-a-Transactional-example"><a href="#write-a-Transactional-example" class="headerlink" title="write a @Transactional example"></a>write a @Transactional example</h2><p>Create a service class and use the @Transactional annotation to demonstrate how this annotation manages all transactions within the <strong>service</strong> class.</p>
<figure class="highlight java"><figcaption><span>OrderService.java</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// We can set the rollbackFor property to define which exceptions should trigger a rollback. Internally, the transaction works by saving the data but not committing it immediately. If an error occurs, the changes are discarded. Only when the entire operation is successful does the transaction commit both operations.</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderRepository orderRepo;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PaymentRepository payRepo;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Spring æ¡†æ¶ä¸­ `@Transactional` æ³¨è§£é»˜è®¤åªä¼šå¯¹æœªæ£€æŸ¥å¼‚å¸¸ï¼ˆ`RuntimeException` åŠå…¶å­ç±»ï¼‰å’Œé”™è¯¯ï¼ˆ`Error`ï¼‰è¿›è¡Œäº‹åŠ¡å›æ»šï¼Œè€Œå¯¹äºå·²æ£€æŸ¥å¼‚å¸¸ï¼ˆç»§æ‰¿è‡ª `Exception` ä½†ä¸æ˜¯ `RuntimeException` çš„å¼‚å¸¸ï¼‰é»˜è®¤ä¸ä¼šè§¦å‘äº‹åŠ¡å›æ»šã€‚æ‰€ä»¥è¿™é‡Œä¸“é—¨æŒ‡å®š `rollbackFor = Exception.class`</span></span><br><span class="line">    <span class="meta">@Transactional</span>(rollbackFor = Exception.class)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processOrder</span><span class="params">(Order order, Payment payment)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        orderRepo.save(order);</span><br><span class="line">        payRepo.save(payment);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (order.getQuantity() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Invalid order"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (payment.getAmount() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Invalid payment"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Transactional</code> æ˜¯ Spring æ¡†æ¶é‡Œç”¨äºç®¡ç†äº‹åŠ¡çš„ä¸€ä¸ªæ³¨è§£ï¼Œåœ¨ä¼ä¸šçº§ Java å¼€å‘ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚äº‹åŠ¡æ˜¯ä¸€ç»„ä¸å¯åˆ†å‰²çš„æ•°æ®åº“æ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚<code>@Transactional</code> æ³¨è§£èƒ½å¤Ÿè®©å¼€å‘è€…ä»¥å£°æ˜å¼çš„æ–¹å¼æ¥ç®¡ç†äº‹åŠ¡ï¼Œè€Œéé‡‡ç”¨ç¼–ç¨‹å¼çš„äº‹åŠ¡ç®¡ç†ï¼Œè¿™æ ·èƒ½ä½¿ä»£ç æ›´åŠ ç®€æ´ã€æ˜“äºç»´æŠ¤ã€‚</p>
<h3 id="ä¸»è¦ä½œç”¨"><a href="#ä¸»è¦ä½œç”¨" class="headerlink" title="ä¸»è¦ä½œç”¨"></a>ä¸»è¦ä½œç”¨</h3><ol>
<li><strong>äº‹åŠ¡è¾¹ç•Œç•Œå®š</strong>ï¼šå€ŸåŠ©è¯¥æ³¨è§£ï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°åˆ’å®šä¸€ä¸ªæ–¹æ³•æˆ–è€…ç±»é‡Œçš„äº‹åŠ¡è¾¹ç•Œã€‚å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å¼€å¯ï¼›æ–¹æ³•æ‰§è¡Œå®Œæ¯•åï¼Œè‹¥æ²¡æœ‰å¼‚å¸¸ï¼Œäº‹åŠ¡å°±ä¼šè‡ªåŠ¨æäº¤ï¼›è‹¥å‡ºç°å¼‚å¸¸ï¼Œäº‹åŠ¡åˆ™ä¼šè‡ªåŠ¨å›æ»šã€‚</li>
<li><strong>äº‹åŠ¡å±æ€§é…ç½®</strong>ï¼šå¯ä»¥é€šè¿‡è®¾ç½®æ³¨è§£çš„å±æ€§æ¥å¯¹äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€è¶…æ—¶æ—¶é—´ã€åªè¯»çŠ¶æ€ç­‰è¿›è¡Œé…ç½®ã€‚</li>
</ol>
<h3 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h3><ul>
<li><strong>propagation</strong>ï¼šè§„å®šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡è¯¥å¦‚ä½•è¿›è¡Œä¼ æ’­ã€‚å¸¸è§çš„ä¼ æ’­è¡Œä¸ºæœ‰ <code>Propagation.REQUIRED</code>ï¼ˆé»˜è®¤å€¼ï¼Œè‹¥å½“å‰å­˜åœ¨äº‹åŠ¡åˆ™åŠ å…¥ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–°äº‹åŠ¡ï¼‰ã€<code>Propagation.REQUIRES_NEW</code>ï¼ˆå§‹ç»ˆåˆ›å»ºæ–°äº‹åŠ¡ï¼‰ç­‰ã€‚</li>
<li><strong>isolation</strong>ï¼šè®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œç”¨æ¥æ§åˆ¶äº‹åŠ¡ä¹‹é—´çš„å¯è§æ€§å’Œå¹¶å‘è®¿é—®ã€‚å¸¸è§çš„éš”ç¦»çº§åˆ«æœ‰ <code>Isolation.DEFAULT</code>ï¼ˆä½¿ç”¨æ•°æ®åº“é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰ã€<code>Isolation.READ_COMMITTED</code>ï¼ˆè¯»å·²æäº¤ï¼‰ç­‰ã€‚</li>
<li><strong>timeout</strong>ï¼šè®¾ç½®äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚è‹¥äº‹åŠ¡åœ¨æŒ‡å®šæ—¶é—´å†…æœªå®Œæˆï¼Œå°±ä¼šè‡ªåŠ¨å›æ»šã€‚</li>
<li><strong>readOnly</strong>ï¼šè¡¨æ˜äº‹åŠ¡æ˜¯å¦ä¸ºåªè¯»äº‹åŠ¡ã€‚è‹¥è®¾ç½®ä¸º <code>true</code>ï¼Œåˆ™è¡¨ç¤ºè¯¥äº‹åŠ¡ä»…ç”¨äºè¯»å–æ•°æ®ï¼Œä¸è¿›è¡Œå†™æ“ä½œï¼Œæ•°æ®åº“èƒ½å¤Ÿè¿›è¡Œä¸€äº›ä¼˜åŒ–ã€‚</li>
<li><strong>rollbackFor</strong>ï¼šæŒ‡å®šå“ªäº›å¼‚å¸¸ä¼šå¯¼è‡´äº‹åŠ¡å›æ»šã€‚</li>
<li><strong>noRollbackFor</strong>ï¼šæŒ‡å®šå“ªäº›å¼‚å¸¸ä¸ä¼šå¯¼è‡´äº‹åŠ¡å›æ»šã€‚</li>
</ul>
<h3 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h3><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>@Transactional</code> æ³¨è§£çš„ç®€å•ç¤ºä¾‹ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span>(propagation = Propagation.REQUIRED, isolation = Isolation.READ_COMMITTED, timeout = <span class="number">30</span>, readOnly = <span class="keyword">false</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transferMoney</span><span class="params">(<span class="keyword">long</span> fromUserId, <span class="keyword">long</span> toUserId, <span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®ç°è½¬è´¦é€»è¾‘</span></span><br><span class="line">        <span class="comment">// ä¾‹å¦‚ï¼Œä» fromUserId çš„è´¦æˆ·æ‰£é™¤é‡‘é¢</span></span><br><span class="line">        <span class="comment">// å‘ toUserId çš„è´¦æˆ·å¢åŠ é‡‘é¢</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>transferMoney</code> æ–¹æ³•è¢« <code>@Transactional</code> æ³¨è§£ä¿®é¥°ï¼Œæ„å‘³ç€è¯¥æ–¹æ³•åœ¨æ‰§è¡Œæ—¶ä¼šå¼€å¯ä¸€ä¸ªäº‹åŠ¡ã€‚è‹¥åœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å›æ»šï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚ </p>
<p>åœ¨ä½¿ç”¨ <code>@Transactional</code> æ³¨è§£æ—¶ï¼Œå¦‚æœä¸æŒ‡å®š <code>rollbackFor</code> å±æ€§ï¼Œäº‹åŠ¡çš„å›æ»šè¡Œä¸ºå°†éµå¾ªé»˜è®¤è§„åˆ™ï¼Œå…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š</p>
<h3 id="é»˜è®¤å›æ»šè§„åˆ™"><a href="#é»˜è®¤å›æ»šè§„åˆ™" class="headerlink" title="é»˜è®¤å›æ»šè§„åˆ™"></a>é»˜è®¤å›æ»šè§„åˆ™</h3><p>Spring æ¡†æ¶ä¸­ <code>@Transactional</code> æ³¨è§£é»˜è®¤åªä¼šå¯¹æœªæ£€æŸ¥å¼‚å¸¸ï¼ˆ<code>RuntimeException</code> åŠå…¶å­ç±»ï¼‰å’Œé”™è¯¯ï¼ˆ<code>Error</code>ï¼‰è¿›è¡Œäº‹åŠ¡å›æ»šï¼Œè€Œå¯¹äºå·²æ£€æŸ¥å¼‚å¸¸ï¼ˆç»§æ‰¿è‡ª <code>Exception</code> ä½†ä¸æ˜¯ <code>RuntimeException</code> çš„å¼‚å¸¸ï¼‰é»˜è®¤ä¸ä¼šè§¦å‘äº‹åŠ¡å›æ»šã€‚</p>
<h3 id="ç¤ºä¾‹è¯´æ˜"><a href="#ç¤ºä¾‹è¯´æ˜" class="headerlink" title="ç¤ºä¾‹è¯´æ˜"></a>ç¤ºä¾‹è¯´æ˜</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Java ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ ç†è§£è¿™ç§é»˜è®¤è¡Œä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœªæŒ‡å®š rollbackFor å±æ€§</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exampleMethod</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæ•°æ®åº“æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œæ•°æ®åº“æ“ä½œ"</span>);</span><br><span class="line">        <span class="comment">// æŠ›å‡ºå·²æ£€æŸ¥å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">"æ–‡ä»¶æœªæ‰¾åˆ°"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>exampleMethod</code> æ–¹æ³•è¢« <code>@Transactional</code> æ³¨è§£ä¿®é¥°ï¼Œä½†æ²¡æœ‰æŒ‡å®š <code>rollbackFor</code> å±æ€§ã€‚å½“æ–¹æ³•æŠ›å‡º <code>FileNotFoundException</code>ï¼ˆè¿™æ˜¯ä¸€ä¸ªå·²æ£€æŸ¥å¼‚å¸¸ï¼‰æ—¶ï¼Œç”±äºé»˜è®¤è§„åˆ™ï¼Œäº‹åŠ¡ä¸ä¼šå›æ»šã€‚</p>
<h3 id="æŒ‡å®š-rollbackFor-çš„æƒ…å†µ"><a href="#æŒ‡å®š-rollbackFor-çš„æƒ…å†µ" class="headerlink" title="æŒ‡å®š rollbackFor çš„æƒ…å†µ"></a>æŒ‡å®š <code>rollbackFor</code> çš„æƒ…å†µ</h3><p>è‹¥ä½ å¸Œæœ›å¯¹ç‰¹å®šçš„å·²æ£€æŸ¥å¼‚å¸¸ä¹Ÿè¿›è¡Œäº‹åŠ¡å›æ»šï¼Œå°±éœ€è¦æ˜ç¡®æŒ‡å®š <code>rollbackFor</code> å±æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‡å®š rollbackFor å±æ€§</span></span><br><span class="line">    <span class="meta">@Transactional</span>(rollbackFor = FileNotFoundException.class)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exampleMethod</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæ•°æ®åº“æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œæ•°æ®åº“æ“ä½œ"</span>);</span><br><span class="line">        <span class="comment">// æŠ›å‡ºå·²æ£€æŸ¥å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">"æ–‡ä»¶æœªæ‰¾åˆ°"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¿®æ”¹åçš„ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡æŒ‡å®š <code>rollbackFor = FileNotFoundException.class</code>ï¼Œå½“ <code>exampleMethod</code> æ–¹æ³•æŠ›å‡º <code>FileNotFoundException</code> æ—¶ï¼Œäº‹åŠ¡ä¼šå›æ»šã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¸æŒ‡å®š <code>rollbackFor</code> å±æ€§æ—¶ï¼Œäº‹åŠ¡åªä¼šå¯¹æœªæ£€æŸ¥å¼‚å¸¸å’Œé”™è¯¯è¿›è¡Œå›æ»šã€‚è‹¥ä½ éœ€è¦å¯¹ç‰¹å®šçš„å·²æ£€æŸ¥å¼‚å¸¸ä¹Ÿè¿›è¡Œå›æ»šï¼Œå°±éœ€è¦æ˜ç¡®æŒ‡å®š <code>rollbackFor</code> å±æ€§ã€‚ </p>
<p>åœ¨ Spring æ¡†æ¶é‡Œï¼Œæ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æ˜¯ä¸€ç§å¯ä»¥åœ¨è¯·æ±‚å¤„ç†å‰åæ‰§è¡Œç‰¹å®šé€»è¾‘çš„ç»„ä»¶ã€‚å®ƒçš„åŠŸèƒ½å¼ºå¤§ï¼Œå¸¸ç”¨äºæ—¥å¿—è®°å½•ã€æƒé™éªŒè¯ã€æ€§èƒ½ç›‘æ§ç­‰åœºæ™¯ã€‚ä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç» Spring æ‹¦æˆªå™¨ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ã€‚</p>
<h1 id="Spring-interceptoræ‹¦æˆªå™¨"><a href="#Spring-interceptoræ‹¦æˆªå™¨" class="headerlink" title="Spring interceptoræ‹¦æˆªå™¨"></a>Spring interceptoræ‹¦æˆªå™¨</h1><h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>Spring æ‹¦æˆªå™¨ä¸»è¦é€šè¿‡å®ç° <code>HandlerInterceptor</code> æ¥å£æˆ–è€…ç»§æ‰¿ <code>HandlerInterceptorAdapter</code> ç±»ï¼ˆåœ¨ Spring 5.3 ä¹‹åè¢«å¼ƒç”¨ï¼‰æ¥å®ç°ã€‚<code>HandlerInterceptor</code> æ¥å£åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªé‡è¦æ–¹æ³•ï¼š</p>
<ol>
<li><strong><code>preHandle</code></strong>ï¼šåœ¨è¯·æ±‚å¤„ç†ä¹‹å‰æ‰§è¡Œï¼Œå¯ç”¨äºè¿›è¡Œæƒé™éªŒè¯ã€æ—¥å¿—è®°å½•ç­‰æ“ä½œã€‚è‹¥è¿”å› <code>true</code>ï¼Œåˆ™ç»§ç»­æ‰§è¡Œåç»­çš„å¤„ç†æµç¨‹ï¼›è‹¥è¿”å› <code>false</code>ï¼Œåˆ™ä¸­æ–­è¯·æ±‚å¤„ç†ã€‚</li>
<li><strong><code>postHandle</code></strong>ï¼šåœ¨è¯·æ±‚å¤„ç†å®Œæˆåã€è§†å›¾æ¸²æŸ“ä¹‹å‰æ‰§è¡Œï¼Œå¯ç”¨äºå¯¹æ¨¡å‹æ•°æ®è¿›è¡Œå¤„ç†æˆ–è€…ä¿®æ”¹å“åº”å¤´ã€‚</li>
<li><strong><code>afterCompletion</code></strong>ï¼šåœ¨æ•´ä¸ªè¯·æ±‚å¤„ç†å®Œæˆåæ‰§è¡Œï¼ŒåŒ…æ‹¬è§†å›¾æ¸²æŸ“å®Œæˆï¼Œå¸¸ç”¨äºèµ„æºæ¸…ç†ç­‰æ“ä½œã€‚</li>
</ol>
<h2 id="ç¤ºä¾‹ä»£ç -1"><a href="#ç¤ºä¾‹ä»£ç -1" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Spring æ‹¦æˆªå™¨ç¤ºä¾‹ï¼ŒåŒ…å«æ‹¦æˆªå™¨çš„å®ç°ã€é…ç½®ä»¥åŠä½¿ç”¨ï¼š</p>
<h3 id="1-å®ç°æ‹¦æˆªå™¨"><a href="#1-å®ç°æ‹¦æˆªå™¨" class="headerlink" title="1. å®ç°æ‹¦æˆªå™¨"></a>1. å®ç°æ‹¦æˆªå™¨</h3><p>åˆ›å»ºä¸€ä¸ªç±»å®ç° <code>HandlerInterceptor</code> æ¥å£ï¼Œå¹¶é‡å†™å…¶æ–¹æ³•ã€‚<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"è¯·æ±‚å¤„ç†å‰æ‰§è¡Œï¼ŒURL: "</span> + request.getRequestURL());</span><br><span class="line">        <span class="comment">// è¿”å› true ç»§ç»­æ‰§è¡Œåç»­å¤„ç†æµç¨‹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler,</span></span></span><br><span class="line"><span class="function"><span class="params">            ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"è¯·æ±‚å¤„ç†å®Œæˆï¼Œè§†å›¾æ¸²æŸ“å‰æ‰§è¡Œ"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ•´ä¸ªè¯·æ±‚å¤„ç†å®Œæˆåæ‰§è¡Œ"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-é…ç½®æ‹¦æˆªå™¨"><a href="#2-é…ç½®æ‹¦æˆªå™¨" class="headerlink" title="2. é…ç½®æ‹¦æˆªå™¨"></a>2. é…ç½®æ‹¦æˆªå™¨</h3><p>åˆ›å»ºä¸€ä¸ªé…ç½®ç±»ï¼Œå®ç° <code>WebMvcConfigurer</code> æ¥å£ï¼Œå¹¶é‡å†™ <code>addInterceptors</code> æ–¹æ³•æ¥æ³¨å†Œæ‹¦æˆªå™¨ã€‚<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> CustomInterceptor())</span><br><span class="line">                <span class="comment">// æ‹¦æˆªæ‰€æœ‰è¯·æ±‚</span></span><br><span class="line">                .addPathPatterns(<span class="string">"/**"</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-åˆ›å»ºæ§åˆ¶å™¨"><a href="#3-åˆ›å»ºæ§åˆ¶å™¨" class="headerlink" title="3. åˆ›å»ºæ§åˆ¶å™¨"></a>3. åˆ›å»ºæ§åˆ¶å™¨</h3><p>åˆ›å»ºä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨æ¥å¤„ç†è¯·æ±‚ã€‚<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello, World!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h2><ul>
<li><strong><code>CustomInterceptor</code></strong>ï¼šå®ç°äº† <code>HandlerInterceptor</code> æ¥å£ï¼Œåœ¨ <code>preHandle</code> æ–¹æ³•ä¸­æ‰“å°è¯·æ±‚ URLï¼Œåœ¨ <code>postHandle</code> æ–¹æ³•ä¸­è¡¨æ˜è¯·æ±‚å¤„ç†å®Œæˆï¼Œåœ¨ <code>afterCompletion</code> æ–¹æ³•ä¸­è¡¨ç¤ºæ•´ä¸ªè¯·æ±‚å¤„ç†ç»“æŸã€‚</li>
<li><strong><code>WebConfig</code></strong>ï¼šå®ç°äº† <code>WebMvcConfigurer</code> æ¥å£ï¼Œé€šè¿‡ <code>addInterceptors</code> æ–¹æ³•å°† <code>CustomInterceptor</code> æ³¨å†Œåˆ°æ‹¦æˆªå™¨é“¾ä¸­ï¼Œå¹¶æŒ‡å®šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ã€‚</li>
<li><strong><code>HelloController</code></strong>ï¼šä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨ï¼Œå¤„ç† <code>/hello</code> è¯·æ±‚å¹¶è¿”å› â€œHello, World!â€ã€‚</li>
</ul>
<h2 id="è¿è¡Œç¤ºä¾‹"><a href="#è¿è¡Œç¤ºä¾‹" class="headerlink" title="è¿è¡Œç¤ºä¾‹"></a>è¿è¡Œç¤ºä¾‹</h2><p>å½“ä½ å¯åŠ¨ Spring åº”ç”¨ç¨‹åºå¹¶è®¿é—® <code>/hello</code> æ¥å£æ—¶ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¯·æ±‚å¤„ç†å‰æ‰§è¡Œï¼ŒURL: http://localhost:8080/hello</span><br><span class="line">è¯·æ±‚å¤„ç†å®Œæˆï¼Œè§†å›¾æ¸²æŸ“å‰æ‰§è¡Œ</span><br><span class="line">æ•´ä¸ªè¯·æ±‚å¤„ç†å®Œæˆåæ‰§è¡Œ</span><br></pre></td></tr></table></figure></p>
<p>è¿™è¡¨æ˜æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæ–¹æ³•æŒ‰é¡ºåºæ‰§è¡Œï¼ŒéªŒè¯äº†æ‹¦æˆªå™¨çš„åŠŸèƒ½ã€‚</p>
<h1 id="Spring-Annotations"><a href="#Spring-Annotations" class="headerlink" title="Spring Annotations"></a>Spring Annotations</h1><p>Spring has numerous annotations. For example, <code>@Component</code> is used to mark ordinary POJO classes as components, allowing Spring to automatically scan and manage them. <code>@Service</code> is typically used to mark classes in the service layer, and <code>@Repository</code> is used for classes in the data access layer. Essentially, they are specialized forms of <code>@Component</code> with more specific semantics. <code>@Autowired</code> is used for automatic bean wiring, and <code>@RequestMapping</code> is used to handle request mappings and so on.</p>
<h2 id="Controller-vs-RestController"><a href="#Controller-vs-RestController" class="headerlink" title="@Controller vs @RestController"></a>@Controller vs @RestController</h2><p><code>@Controller</code> is an annotation in Spring MVC used to mark controller classes. It usually works with view technologies such as JSP and is used to return views. <code>@RestController</code>, on the other hand, is a combination of <code>@Controller</code> and <code>@ResponseBody</code>. It means that the methods in this controller class will by default return the return value directly to the client as the response body. It is suitable for building RESTful APIs, and the returned data is usually in formats such as JSON or XML.</p>
<p>In Spring MVC, the difference between @Controller and @RestController mainly lies in how they handle responses:</p>
<ul>
<li>â€¢    @Controller is used to return views (HTML, JSP, etc.), making it suitable for traditional web applications.</li>
<li>â€¢    @RestController is used to return JSON or XML data, making it ideal for RESTful APIs.</li>
</ul>
<h3 id="1-Controller-Example-Returning-a-View"><a href="#1-Controller-Example-Returning-a-View" class="headerlink" title="1. @Controller Example (Returning a View)"></a>1. @Controller Example (Returning a View)</h3><p>By default, @Controller returns a view name. To return JSON, you must use @ResponseBody.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">"message"</span>, <span class="string">"Hello, Spring!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"helloPage"</span>; <span class="comment">// Returns a view name, not JSON</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ğŸ“Œ Explanation</p>
<ul>
<li>â€¢    The return â€œhelloPageâ€; statement does not return JSON. Instead, it looks for a helloPage.html or helloPage.jsp view.</li>
<li>â€¢    To return JSON from @Controller, you must explicitly add @ResponseBody:</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/json"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span>  <span class="comment">// Ensures the response is JSON instead of a view</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">jsonResponse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;\"message\": \"Hello, JSON!\"&#125;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-RestController-Example-Returning-JSON"><a href="#2-RestController-Example-Returning-JSON" class="headerlink" title="2. @RestController Example (Returning JSON)"></a>2. @RestController Example (Returning JSON)</h3><p>@RestController returns JSON by default, without requiring @ResponseBody.<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRestController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/api/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">helloJson</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; response = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        response.put(<span class="string">"message"</span>, <span class="string">"Hello, JSON!"</span>);</span><br><span class="line">        <span class="keyword">return</span> response;  <span class="comment">// Automatically converted to JSON</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ğŸ“Œ Explanation</p>
<ul>
<li>â€¢    @RestController is a combination of @Controller and @ResponseBody, so thereâ€™s no need to add @ResponseBody manually.</li>
<li>â€¢    Spring Boot automatically converts the Map<string, string> response into JSON:</string,></li>
</ul>
<p>{<br>  â€œmessageâ€: â€œHello, JSON!â€<br>}</p>
<h3 id="3-When-to-Use-Controller-vs-RestController"><a href="#3-When-to-Use-Controller-vs-RestController" class="headerlink" title="3. When to Use @Controller vs @RestController?"></a>3. When to Use @Controller vs @RestController?</h3><p>âœ… Use @Controller ğŸ‘‰ If your application needs to return HTML pages (traditional MVC web apps).<br>âœ… Use @RestController ğŸ‘‰ If youâ€™re building a REST API that returns JSON data.</p>
<p>In short:</p>
<ul>
<li>â€¢    If your app is frontend-backend separated (React, Vue, Angular consuming JSON), use @RestController.</li>
<li>â€¢    If your app renders views on the server and serves HTML pages, use @Controller.</li>
</ul>
<p>ğŸš€ If youâ€™re unsure, prefer @RestControllerâ€”it aligns with modern web development practices!</p>
<ul>
<li><strong>@Qualifier, @Primary</strong><br><code>@Qualifier</code> is used to specify the name or qualification conditions of the specific bean to be wired during autowiring. When there are multiple beans of the same type, <code>@Qualifier</code> can be used to clearly specify which one to use. <code>@Primary</code> is used to mark a bean as the preferred candidate for autowiring. When there are multiple beans of the same type, Spring will preferentially select the bean marked with <code>@Primary</code> for autowiring.</li>
<li><strong>Spring Cache and Retry</strong><br>Spring Cache provides declarative cache support. Annotations like <code>@Cacheable</code>, <code>@CachePut</code>, and <code>@CacheEvict</code> can be easily used to cache the results of methods, improving system performance and reducing database access. Spring Retry, on the other hand, offers a mechanism to automatically retry operations that fail due to certain conditions, such as network failures or temporary database unavailability. It can be configured through annotations and configuration classes to specify retry policies, including the number of retries, retry intervals, and conditions for triggering retries.</li>
</ul>
<h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><ul>
<li><strong>How to create spring boot from Scratch</strong><br>To create a Spring Boot project from scratch, you can start by choosing a build tool like Maven or Gradle. Then, create a basic project structure with directories for source code, resources, etc. Add the necessary Spring Boot dependencies to the build configuration file. Define the main application class, which is usually annotated with <code>@SpringBootApplication</code>. You can then start adding controllers, services, and other components as needed to build your application.</li>
<li><strong>Benefit of Spring boot</strong><br>Spring Boot simplifies the development of Spring applications. It provides auto-configuration, which reduces the need for extensive XML or Java configuration. It also comes with a built-in embedded server, making it easy to run and deploy applications. Spring Boot starters allow for quick addition of common dependencies and functionality. Additionally, it offers features like actuator endpoints for monitoring and managing the application, and it makes it easier to handle configuration properties and profiles.</li>
<li><strong>Annotation @SpringBootApplication</strong><br><code>@SpringBootApplication</code> is a composite annotation that combines <code>@SpringBootConfiguration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code>. It is used to mark the main application class and tells Spring Boot to start the application, perform auto-configuration, and scan for components in the specified packages and their sub-packages.</li>
<li><strong>AutoConfiguration, how to disable</strong><br>Spring Bootâ€™s auto-configuration automatically configures beans based on the dependencies present in the project. To disable specific auto-configurations, you can use the <code>@SpringBootApplication(exclude = {SomeAutoConfiguration.class})</code> annotation at the application level. You can also set properties in the <code>application.properties</code> or <code>application.yml</code> file to disable certain auto-configurations, for example, <code>spring.autoconfigure.exclude=com.example.SomeAutoConfiguration</code>.</li>
<li><p><strong>Actuator</strong><br>Spring Boot Actuator provides endpoints that allow you to monitor and manage your application. It offers endpoints such as <code>/health</code> to check the health of the application, <code>/metrics</code> to view various metrics about the applicationâ€™s performance, <code>/info</code> to get information about the application, and many others. These endpoints can be used for debugging, monitoring, and optimizing the application.</p>
</li>
<li><p><strong>Spring AciveProfile</strong><br>Spring <code>ActiveProfile</code> allows you to define different profiles for your application, such as <code>dev</code>, <code>test</code>, <code>prod</code>, etc. You can configure different beans, properties, and behaviors for each profile. By setting the <code>spring.profiles.active</code> property, you can switch between different profiles at runtime, enabling different configurations for different environments.</p>
</li>
<li><strong>@ExceptionHandler, @ControllerAdvice</strong><br><code>@ExceptionHandler</code> is used in a controller class to handle specific exceptions that occur within the methods of that controller. <code>@ControllerAdvice</code> is a global exception handling mechanism. It allows you to define a class that can handle exceptions across multiple controllers. You can use <code>@ExceptionHandler</code> within a <code>@ControllerAdvice</code> class to handle different types of exceptions globally and return appropriate error responses to the client.</li>
</ul>
<p>In Java and Spring framework, Dependency Injection (DI) is a design pattern that allows objects to receive dependencies from external sources rather than creating them internally. There are several ways to implement DI, and here are the common ones:</p>
<h2 id="Different-ways-of-DI"><a href="#Different-ways-of-DI" class="headerlink" title="Different ways of DI"></a>Different ways of DI</h2><h3 id="1-Constructor-Injection"><a href="#1-Constructor-Injection" class="headerlink" title="1. Constructor Injection"></a>1. Constructor Injection</h3><ul>
<li><strong>Principle</strong>: Dependencies are passed to the object through its constructor. This is the most recommended way as it enforces the immutability of dependencies and makes the object fully initialized when it is created.</li>
<li><strong>Example</strong>:</li>
</ul>
<p>In this example, the <code>Car</code> class depends on the <code>Engine</code> class, and the <code>Engine</code> instance is passed through the <code>Car</code> constructor.</p>
<h3 id="2-Setter-Injection"><a href="#2-Setter-Injection" class="headerlink" title="2. Setter Injection"></a>2. Setter Injection</h3><ul>
<li><strong>Principle</strong>: Dependencies are set through setter methods of the object. This allows for optional dependencies and the ability to change dependencies after the object is created.</li>
<li><strong>Example</strong>:</li>
</ul>
<p>Here, the <code>Document</code> class has a <code>setPrinter</code> method to set the <code>Printer</code> dependency.</p>
<h3 id="3-Interface-Injection"><a href="#3-Interface-Injection" class="headerlink" title="3. Interface Injection"></a>3. Interface Injection</h3><ul>
<li><strong>Principle</strong>: A class implements an interface that defines a method to inject the dependency. This approach is less common in practice compared to constructor and setter injection.</li>
<li><strong>Example</strong>:</li>
</ul>
<p>In this example, the <code>Client</code> class implements the <code>ServiceInjector</code> interface to receive the <code>Service</code> dependency.</p>
<h3 id="4-Field-Injection"><a href="#4-Field-Injection" class="headerlink" title="4. Field Injection"></a>4. Field Injection</h3><ul>
<li><strong>Principle</strong>: Dependencies are directly injected into the fields of a class using annotations (commonly used in Spring framework). It is simple but has some drawbacks like making the class harder to test in isolation.</li>
<li><strong>Example</strong>:</li>
</ul>
<p>In this example, the <code>Database</code> dependency is injected directly into the <code>Application</code> class field using a custom <code>@Autowired</code>-like annotation.</p>
<h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><table>
<thead>
<tr>
<th>Injection Method</th>
<th>Advantages</th>
<th>Disadvantages</th>
</tr>
</thead>
<tbody>
<tr>
<td>Constructor Injection</td>
<td>Enforces immutability, makes dependencies clear, object is fully initialized on creation</td>
<td>Not suitable for optional dependencies</td>
</tr>
<tr>
<td>Setter Injection</td>
<td>Allows for optional dependencies, can change dependencies after creation</td>
<td>Object may be in an inconsistent state if dependencies are not set</td>
</tr>
<tr>
<td>Interface Injection</td>
<td>Provides a clear contract for dependency injection</td>
<td>More complex and less commonly used</td>
</tr>
<tr>
<td>Field Injection</td>
<td>Simple and concise</td>
<td>Harder to test in isolation, object may be in an inconsistent state</td>
</tr>
</tbody>
</table>
<h3 id="how-to-solve-Circular-Dependency"><a href="#how-to-solve-Circular-Dependency" class="headerlink" title="how to solve Circular Dependency"></a>how to solve Circular Dependency</h3><p>Circular dependency occurs when two or more components depend on each other either directly or indirectly. This can cause issues such as infinite loops during the creation process and make the codebase hard to understand and maintain. Here are some common ways to solve circular dependencies in different programming contexts, with a focus on Java and Spring framework:</p>
<h4 id="2-Use-Setter-Injection-Instead-of-Constructor-Injection"><a href="#2-Use-Setter-Injection-Instead-of-Constructor-Injection" class="headerlink" title="2. Use Setter Injection Instead of Constructor Injection"></a>2. Use Setter Injection Instead of Constructor Injection</h4><ul>
<li><strong>Principle</strong>: Constructor injection enforces that all dependencies are provided at the time of object creation. By using setter injection, we can create the objects first and then set the dependencies later, breaking the circular creation loop.</li>
<li><strong>Example in Spring</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> B b;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setB</span><span class="params">(B b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> A a;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setA</span><span class="params">(A a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>In Spring, the container can create the <code>A</code> and <code>B</code> objects first and then use the setter methods to inject the dependencies.</p>
<h4 id="3-Use-a-Factory-Pattern"><a href="#3-Use-a-Factory-Pattern" class="headerlink" title="3. Use a Factory Pattern"></a>3. Use a Factory Pattern</h4><ul>
<li><strong>Principle</strong>: A factory class can be used to create objects and manage their dependencies. This way, the objects can be created without immediately resolving all the dependencies.</li>
<li><strong>Example</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Factory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> A a;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> B b;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> A <span class="title">getA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="keyword">null</span>) &#123;</span><br><span class="line">            a = <span class="keyword">new</span> A();</span><br><span class="line">            <span class="keyword">if</span> (b == <span class="keyword">null</span>) &#123;</span><br><span class="line">                b = <span class="keyword">new</span> B();</span><br><span class="line">            &#125;</span><br><span class="line">            a.setB(b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> B <span class="title">getB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (b == <span class="keyword">null</span>) &#123;</span><br><span class="line">            b = <span class="keyword">new</span> B();</span><br><span class="line">            <span class="keyword">if</span> (a == <span class="keyword">null</span>) &#123;</span><br><span class="line">                a = <span class="keyword">new</span> A();</span><br><span class="line">            &#125;</span><br><span class="line">            b.setA(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> B b;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setB</span><span class="params">(B b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> A a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setA</span><span class="params">(A a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The <code>Factory</code> class ensures that the objects are created and their dependencies are set in a controlled way.</p>
<h4 id="4-Use-Lazy-Initialization"><a href="#4-Use-Lazy-Initialization" class="headerlink" title="4. Use Lazy Initialization"></a>4. Use Lazy Initialization</h4><ul>
<li><strong>Principle</strong>: Instead of initializing the dependencies immediately, delay the initialization until they are actually needed. In Spring, this can be achieved using the <code>@Lazy</code> annotation.</li>
<li><strong>Example in Spring</strong>:<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Lazy;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> B b;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">(@Lazy B b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> A a;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">(@Lazy A a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The <code>@Lazy</code> annotation tells Spring to create the bean only when it is first accessed, which can break the circular creation loop.</p>
<h2 id="scopeæœ‰å“ªäº›ç±»å‹"><a href="#scopeæœ‰å“ªäº›ç±»å‹" class="headerlink" title="scopeæœ‰å“ªäº›ç±»å‹"></a>scopeæœ‰å“ªäº›ç±»å‹</h2><h3 id="1-Spring-ä¸­-scope-çš„ç±»å‹"><a href="#1-Spring-ä¸­-scope-çš„ç±»å‹" class="headerlink" title="1. Spring ä¸­ scope çš„ç±»å‹"></a>1. Spring ä¸­ <code>scope</code> çš„ç±»å‹</h3><p>åœ¨ Spring æ¡†æ¶é‡Œï¼Œ<code>scope</code> å®šä¹‰äº† Spring å®¹å™¨å¦‚ä½•åˆ›å»ºå’Œç®¡ç† Bean çš„å®ä¾‹ã€‚ä»¥ä¸‹æ˜¯ Spring ä¸­å¸¸è§çš„ <code>scope</code> ç±»å‹ï¼š</p>
<h4 id="ï¼ˆ1ï¼‰singletonï¼ˆå•ä¾‹ï¼‰"><a href="#ï¼ˆ1ï¼‰singletonï¼ˆå•ä¾‹ï¼‰" class="headerlink" title="ï¼ˆ1ï¼‰singletonï¼ˆå•ä¾‹ï¼‰"></a>ï¼ˆ1ï¼‰<code>singleton</code>ï¼ˆå•ä¾‹ï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šè¿™æ˜¯ Spring é‡Œé»˜è®¤çš„ <code>scope</code> ç±»å‹ã€‚å½“ä¸€ä¸ª Bean è¢«å®šä¹‰ä¸ºå•ä¾‹æ—¶ï¼Œåœ¨æ•´ä¸ª Spring å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåªä¼šåˆ›å»ºè¯¥ Bean çš„ä¸€ä¸ªå®ä¾‹ã€‚æ‰€æœ‰å¯¹è¿™ä¸ª Bean çš„è¯·æ±‚éƒ½ä¼šè¿”å›åŒä¸€ä¸ªå®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"mySingletonBean"</span> <span class="attr">class</span>=<span class="string">"com.example.MyBean"</span> <span class="attr">scope</span>=<span class="string">"singleton"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(<span class="string">"singleton"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ2ï¼‰prototypeï¼ˆåŸå‹ï¼‰"><a href="#ï¼ˆ2ï¼‰prototypeï¼ˆåŸå‹ï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰prototypeï¼ˆåŸå‹ï¼‰"></a>ï¼ˆ2ï¼‰<code>prototype</code>ï¼ˆåŸå‹ï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šæ¯æ¬¡è¯·æ±‚è¯¥ Bean æ—¶ï¼ŒSpring å®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ <code>prototype</code> ä½œç”¨åŸŸçš„ Bean è¿›è¡Œå¤šæ¬¡è¯·æ±‚ï¼Œä¼šå¾—åˆ°ä¸åŒçš„å®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"myPrototypeBean"</span> <span class="attr">class</span>=<span class="string">"com.example.MyBean"</span> <span class="attr">scope</span>=<span class="string">"prototype"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(<span class="string">"prototype"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ3ï¼‰requestï¼ˆè¯·æ±‚ï¼‰"><a href="#ï¼ˆ3ï¼‰requestï¼ˆè¯·æ±‚ï¼‰" class="headerlink" title="ï¼ˆ3ï¼‰requestï¼ˆè¯·æ±‚ï¼‰"></a>ï¼ˆ3ï¼‰<code>request</code>ï¼ˆè¯·æ±‚ï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šä»…é€‚ç”¨äºåŸºäº Web çš„ Spring åº”ç”¨ã€‚åœ¨ä¸€æ¬¡ HTTP è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®¹å™¨ä¼šåˆ›å»ºå¹¶è¿”å›åŒä¸€ä¸ª Bean å®ä¾‹ã€‚ä¸åŒçš„ HTTP è¯·æ±‚ä¼šå¾—åˆ°ä¸åŒçš„å®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"myRequestBean"</span> <span class="attr">class</span>=<span class="string">"com.example.MyBean"</span> <span class="attr">scope</span>=<span class="string">"request"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(WebApplicationContext.SCOPE_REQUEST)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ4ï¼‰sessionï¼ˆä¼šè¯ï¼‰"><a href="#ï¼ˆ4ï¼‰sessionï¼ˆä¼šè¯ï¼‰" class="headerlink" title="ï¼ˆ4ï¼‰sessionï¼ˆä¼šè¯ï¼‰"></a>ï¼ˆ4ï¼‰<code>session</code>ï¼ˆä¼šè¯ï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šåŒæ ·é€‚ç”¨äºåŸºäº Web çš„ Spring åº”ç”¨ã€‚åœ¨ä¸€ä¸ªç”¨æˆ·ä¼šè¯çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®¹å™¨ä¼šåˆ›å»ºå¹¶è¿”å›åŒä¸€ä¸ª Bean å®ä¾‹ã€‚ä¸åŒçš„ç”¨æˆ·ä¼šè¯ä¼šå¾—åˆ°ä¸åŒçš„å®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"mySessionBean"</span> <span class="attr">class</span>=<span class="string">"com.example.MyBean"</span> <span class="attr">scope</span>=<span class="string">"session"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(WebApplicationContext.SCOPE_SESSION)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ5ï¼‰applicationï¼ˆåº”ç”¨ï¼‰"><a href="#ï¼ˆ5ï¼‰applicationï¼ˆåº”ç”¨ï¼‰" class="headerlink" title="ï¼ˆ5ï¼‰applicationï¼ˆåº”ç”¨ï¼‰"></a>ï¼ˆ5ï¼‰<code>application</code>ï¼ˆåº”ç”¨ï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šé€‚ç”¨äºåŸºäº Web çš„ Spring åº”ç”¨ã€‚åœ¨æ•´ä¸ª Web åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®¹å™¨ä¼šåˆ›å»ºå¹¶è¿”å›åŒä¸€ä¸ª Bean å®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"myApplicationBean"</span> <span class="attr">class</span>=<span class="string">"com.example.MyBean"</span> <span class="attr">scope</span>=<span class="string">"application"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(WebApplicationContext.SCOPE_APPLICATION)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ6ï¼‰websocketï¼ˆWebSocketï¼‰"><a href="#ï¼ˆ6ï¼‰websocketï¼ˆWebSocketï¼‰" class="headerlink" title="ï¼ˆ6ï¼‰websocketï¼ˆWebSocketï¼‰"></a>ï¼ˆ6ï¼‰<code>websocket</code>ï¼ˆWebSocketï¼‰</h4><ul>
<li><strong>æè¿°</strong>ï¼šåœ¨ Spring 4.2 åŠä»¥åç‰ˆæœ¬å¼•å…¥ï¼Œç”¨äº WebSocket ç›¸å…³çš„åº”ç”¨ã€‚åœ¨ä¸€ä¸ª WebSocket ä¼šè¯çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®¹å™¨ä¼šåˆ›å»ºå¹¶è¿”å›åŒä¸€ä¸ª Bean å®ä¾‹ã€‚</li>
<li><strong>ç¤ºä¾‹é…ç½®</strong>ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.config.annotation.WebSocketScopeMetadataResolver;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(WebSocketScopeMetadataResolver.SCOPE_WEBSOCKET)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-å°†-prototype-Bean-æ³¨å…¥åˆ°-singleton-Bean-ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ"><a href="#2-å°†-prototype-Bean-æ³¨å…¥åˆ°-singleton-Bean-ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ" class="headerlink" title="2. å°† prototype Bean æ³¨å…¥åˆ° singleton Bean ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ"></a>2. å°† <code>prototype</code> Bean æ³¨å…¥åˆ° <code>singleton</code> Bean ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ</h3><p>å½“æŠŠä¸€ä¸ª <code>prototype</code> ä½œç”¨åŸŸçš„ Bean æ³¨å…¥åˆ° <code>singleton</code> ä½œç”¨åŸŸçš„ Bean ä¸­æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹æƒ…å†µï¼š</p>
<h4 id="ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º"><a href="#ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º" class="headerlink" title="ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º"></a>ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º</h4><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>singleton</code> Bean åœ¨åˆ›å»ºæ—¶ä¼šè·å– <code>prototype</code> Bean çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”åœ¨ <code>singleton</code> Bean çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä½¿ç”¨è¿™ä¸ªå®ä¾‹ã€‚è¿™æ„å‘³ç€ï¼Œå°½ç®¡ <code>prototype</code> ä½œç”¨åŸŸçš„è®¾è®¡åˆè¡·æ˜¯æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºæ–°å®ä¾‹ï¼Œä½†ç”±äº <code>singleton</code> Bean åªåˆ›å»ºä¸€æ¬¡ï¼Œå®ƒåªä¼šåœ¨åˆ›å»ºæ—¶è·å–ä¸€æ¬¡ <code>prototype</code> Bean çš„å®ä¾‹ï¼Œåç»­ä¸ä¼šå†è·å–æ–°çš„ <code>prototype</code> Bean å®ä¾‹ã€‚</p>
<h4 id="ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç "><a href="#ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç " class="headerlink" title="ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç "></a>ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.ObjectFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ prototype Bean</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="meta">@Scope</span>(<span class="string">"prototype"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> PrototypeBean <span class="title">prototypeBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> PrototypeBean();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> SingletonBean <span class="title">singletonBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> SingletonBean();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrototypeBean</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">PrototypeBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		counter++;</span><br><span class="line">		System.out.println(<span class="string">"PrototypeBean å®ä¾‹åˆ›å»ºï¼Œè®¡æ•°å™¨: "</span> + counter);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCounter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> counter;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonBean</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> PrototypeBean prototypeBean;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> PrototypeBean <span class="title">getPrototypeBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> prototypeBean;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// @Autowired</span></span><br><span class="line">	<span class="comment">// private ObjectFactory&lt;PrototypeBean&gt; prototypeBeanFactory;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// public PrototypeBean getPrototypeBean() &#123;</span></span><br><span class="line">	<span class="comment">// 	return prototypeBeanFactory.getObject();</span></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterviewApplication</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		AnnotationConfigApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(AppConfig.class);</span><br><span class="line">		SingletonBean singletonBean = context.getBean(SingletonBean.class);</span><br><span class="line"></span><br><span class="line">		PrototypeBean prototypeBean1 = singletonBean.getPrototypeBean();</span><br><span class="line">		PrototypeBean prototypeBean2 = singletonBean.getPrototypeBean();</span><br><span class="line">		<span class="keyword">if</span> (prototypeBean1 == prototypeBean2) &#123;</span><br><span class="line">			System.out.println(<span class="string">"æ˜¯åŒä¸€ä¸ª prototypeBean å®ä¾‹"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"ä¸æ˜¯åŒä¸€ä¸ª prototypeBean å®ä¾‹"</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		context.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>result:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PrototypeBean å®ä¾‹åˆ›å»ºï¼Œè®¡æ•°å™¨: 1</span><br><span class="line">PrototypeBean å®ä¾‹åˆ›å»ºï¼Œè®¡æ•°å™¨: 1</span><br><span class="line">æ˜¯åŒä¸€ä¸ª prototypeBean å®ä¾‹</span><br></pre></td></tr></table></figure></p>
<h4 id="ï¼ˆ3ï¼‰ä»£ç è§£é‡Š"><a href="#ï¼ˆ3ï¼‰ä»£ç è§£é‡Š" class="headerlink" title="ï¼ˆ3ï¼‰ä»£ç è§£é‡Š"></a>ï¼ˆ3ï¼‰ä»£ç è§£é‡Š</h4><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>PrototypeBean</code> æ˜¯ <code>prototype</code> ä½œç”¨åŸŸçš„ Beanï¼Œ<code>SingletonBean</code> æ˜¯ <code>singleton</code> ä½œç”¨åŸŸçš„ Beanï¼Œå¹¶ä¸” <code>SingletonBean</code> æ³¨å…¥äº† <code>PrototypeBean</code>ã€‚è¿è¡Œä»£ç ä¼šå‘ç°ï¼Œ<code>singletonBean1</code> å’Œ <code>singletonBean2</code> ä¸­æ³¨å…¥çš„æ˜¯åŒä¸€ä¸ª <code>PrototypeBean</code> å®ä¾‹ï¼Œå› ä¸º <code>SingletonBean</code> åœ¨åˆ›å»ºæ—¶åªè·å–äº†ä¸€æ¬¡ <code>PrototypeBean</code> å®ä¾‹ï¼Œåç»­ä¸ä¼šå†è·å–æ–°çš„å®ä¾‹ã€‚</p>
<h4 id="ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ"><a href="#ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ"></a>ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ</h4><p>å¦‚æœæƒ³è¦æ¯æ¬¡ä½¿ç”¨ <code>prototype</code> Bean æ—¶éƒ½è·å–ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>ObjectFactory</code> æˆ–è€… <code>Provider</code> æ¥å®ç°ã€‚ä¾‹å¦‚ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonBean</span> </span>&#123;</span><br><span class="line"><span class="comment">//	@Autowired</span></span><br><span class="line"><span class="comment">//	private PrototypeBean prototypeBean;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	public PrototypeBean getPrototypeBean() &#123;</span></span><br><span class="line"><span class="comment">//		return prototypeBean;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> ObjectFactory&lt;PrototypeBean&gt; prototypeBeanFactory;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> PrototypeBean <span class="title">getPrototypeBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> prototypeBeanFactory.getObject();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>result:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PrototypeBean å®ä¾‹åˆ›å»ºï¼Œè®¡æ•°å™¨: 1</span><br><span class="line">PrototypeBean å®ä¾‹åˆ›å»ºï¼Œè®¡æ•°å™¨: 1</span><br><span class="line">ä¸æ˜¯åŒä¸€ä¸ª prototypeBean å®ä¾‹</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è¿™ä¸ªæ”¹è¿›åçš„ä»£ç ä¸­ï¼Œ<code>SingletonBean</code> é€šè¿‡ <code>ObjectFactory</code> æ¥è·å– <code>PrototypeBean</code> å®ä¾‹ï¼Œæ¯æ¬¡è°ƒç”¨ <code>getObject()</code> æ–¹æ³•æ—¶éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„ <code>PrototypeBean</code> å®ä¾‹ã€‚ </p>
<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p>AOPï¼ˆAspect-Oriented Programmingï¼‰å³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ä¸Šï¼Œå¯¹ç¨‹åºè¿›è¡Œå¢å¼ºï¼Œæ¯”å¦‚æ·»åŠ æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€æƒé™éªŒè¯ç­‰åŠŸèƒ½ã€‚åœ¨ Java ä¸­ï¼ŒSpring AOP æ˜¯å®ç° AOP ç¼–ç¨‹çš„å¸¸ç”¨æ¡†æ¶ï¼Œä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç» AOP çš„ç›¸å…³æ¦‚å¿µï¼Œå¹¶ç»™å‡ºç¤ºä¾‹ä»£ç ã€‚</p>
<h3 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h3><ul>
<li><strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong>ï¼šå°è£…äº†æ¨ªåˆ‡å…³æ³¨ç‚¹çš„ç±»ï¼ŒåŒ…å«äº†å¤šä¸ªé€šçŸ¥å’Œåˆ‡ç‚¹ã€‚</li>
<li><strong>é€šçŸ¥ï¼ˆAdviceï¼‰</strong>ï¼šå®šä¹‰äº†åœ¨ä½•æ—¶æ‰§è¡Œä½•ç§æ“ä½œï¼Œå¸¸è§çš„é€šçŸ¥ç±»å‹æœ‰å‰ç½®é€šçŸ¥ã€åç½®é€šçŸ¥ã€ç¯ç»•é€šçŸ¥ã€å¼‚å¸¸é€šçŸ¥å’Œæœ€ç»ˆé€šçŸ¥ã€‚</li>
<li><strong>åˆ‡ç‚¹ï¼ˆPointcutï¼‰</strong>ï¼šå®šä¹‰äº†åœ¨å“ªäº›è¿æ¥ç‚¹ä¸Šåº”ç”¨é€šçŸ¥ï¼Œå³ç¡®å®šå“ªäº›æ–¹æ³•ä¼šè¢«å¢å¼ºã€‚</li>
<li><strong>è¿æ¥ç‚¹ï¼ˆJoin pointï¼‰</strong>ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ’å…¥åˆ‡é¢çš„ç‚¹ï¼Œé€šå¸¸æ˜¯æ–¹æ³•è°ƒç”¨ã€‚</li>
</ul>
<h3 id="ç¤ºä¾‹ä»£ç -2"><a href="#ç¤ºä¾‹ä»£ç -2" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ Spring AOP å®ç°æ—¥å¿—è®°å½•çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.After;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoggingAspect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"execution(* com.example.aop.UserService.*(..))"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">userServiceMethods</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span>(<span class="string">"userServiceMethods()"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeAdvice</span><span class="params">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Before method: "</span> + joinPoint.getSignature().getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span>(<span class="string">"userServiceMethods()"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterAdvice</span><span class="params">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"After method: "</span> + joinPoint.getSignature().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç è§£é‡Š-1"><a href="#ä»£ç è§£é‡Š-1" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol>
<li><strong>Main ç±»</strong>ï¼šè¿™æ˜¯ç¨‹åºçš„å…¥å£ç±»ï¼Œä½¿ç”¨ <code>AnnotationConfigApplicationContext</code> æ¥åŠ è½½ Spring é…ç½®ï¼Œå¹¶è·å– <code>UserService</code> å®ä¾‹ï¼Œè°ƒç”¨ <code>addUser</code> æ–¹æ³•ã€‚</li>
<li><strong>UserService ç±»</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¸šåŠ¡æœåŠ¡ç±»ï¼ŒåŒ…å«ä¸€ä¸ª <code>addUser</code> æ–¹æ³•ï¼Œç”¨äºæ·»åŠ ç”¨æˆ·ã€‚</li>
<li><strong>LoggingAspect ç±»</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š<ul>
<li><code>@Pointcut</code> æ³¨è§£å®šä¹‰äº†ä¸€ä¸ªåˆ‡ç‚¹ï¼ŒåŒ¹é… <code>com.example.aop.UserService</code> ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚</li>
<li><code>@Before</code> æ³¨è§£å®šä¹‰äº†ä¸€ä¸ªå‰ç½®é€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œè¾“å‡ºæ–¹æ³•åã€‚</li>
<li><code>@After</code> æ³¨è§£å®šä¹‰äº†ä¸€ä¸ªåç½®é€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œè¾“å‡ºæ–¹æ³•åã€‚</li>
</ul>
</li>
</ol>
<h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Before method: addUser</span><br><span class="line">Adding user: John</span><br><span class="line">After method: addUser</span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œä½ å¯ä»¥çœ‹åˆ° AOP å¦‚ä½•åœ¨ä¸ä¿®æ”¹ <code>UserService</code> ç±»åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚</p>
<p>åœ¨ Spring æ¡†æ¶é‡Œï¼Œ<code>@ExceptionHandler</code> å’Œ <code>@ControllerAdvice</code> å±äºé‡è¦çš„æ³¨è§£ï¼Œå®ƒä»¬ä¸»è¦ç”¨äºå¤„ç†æ§åˆ¶å™¨å±‚é¢çš„å¼‚å¸¸ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»å®ƒä»¬çš„ç”¨æ³•ï¼š</p>
<h2 id="æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸"><a href="#æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸" class="headerlink" title="æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸"></a>æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸</h2><h3 id="ExceptionHandler"><a href="#ExceptionHandler" class="headerlink" title="@ExceptionHandler"></a><code>@ExceptionHandler</code></h3><p><code>@ExceptionHandler</code> æ³¨è§£èƒ½å¤Ÿåœ¨æ§åˆ¶å™¨ç±»ä¸­å®šä¹‰å¼‚å¸¸å¤„ç†æ–¹æ³•ï¼Œè¿™æ ·å½“æ§åˆ¶å™¨æ–¹æ³•æŠ›å‡ºæŒ‡å®šç±»å‹çš„å¼‚å¸¸æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™äº›å¤„ç†æ–¹æ³•ã€‚</p>
<h4 id="ç¤ºä¾‹ä»£ç -3"><a href="#ç¤ºä¾‹ä»£ç -3" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æµ‹è¯•å¼‚å¸¸"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(RuntimeException.class)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">handleRuntimeException</span><span class="params">(RuntimeException e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å¤„ç†è¿è¡Œæ—¶å¼‚å¸¸: "</span> + e.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä»£ç è§£é‡Š-2"><a href="#ä»£ç è§£é‡Š-2" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ul>
<li><code>@RequestMapping(&quot;/test&quot;)</code> æ–¹æ³•åœ¨è¢«è°ƒç”¨æ—¶ä¼šæŠ›å‡º <code>RuntimeException</code>ã€‚</li>
<li><code>@ExceptionHandler(RuntimeException.class)</code> æ³¨è§£çš„ <code>handleRuntimeException</code> æ–¹æ³•ä¼šå¤„ç† <code>RuntimeException</code> ç±»å‹çš„å¼‚å¸¸ï¼Œå¹¶ä¸”è¿”å›åŒ…å«å¼‚å¸¸ä¿¡æ¯çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<h3 id="ControllerAdvice"><a href="#ControllerAdvice" class="headerlink" title="@ControllerAdvice"></a><code>@ControllerAdvice</code></h3><p><code>@ControllerAdvice</code> æ³¨è§£å¯ç”¨äºå®šä¹‰å…¨å±€çš„å¼‚å¸¸å¤„ç†ç±»ï¼Œè¿™ä¸ªç±»é‡Œçš„ <code>@ExceptionHandler</code> æ–¹æ³•èƒ½å¤„ç†æ‰€æœ‰æ§åˆ¶å™¨æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p>
<h4 id="ç¤ºä¾‹ä»£ç -4"><a href="#ç¤ºä¾‹ä»£ç -4" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(RuntimeException.class)</span><br><span class="line">    <span class="meta">@ResponseStatus</span>(HttpStatus.INTERNAL_SERVER_ERROR)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">handleRuntimeException</span><span class="params">(RuntimeException e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å…¨å±€å¤„ç†è¿è¡Œæ—¶å¼‚å¸¸: "</span> + e.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä»£ç è§£é‡Š-3"><a href="#ä»£ç è§£é‡Š-3" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ul>
<li><code>@RestControllerAdvice</code> è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå…¨å±€çš„å¼‚å¸¸å¤„ç†ç±»ã€‚</li>
<li><code>@ExceptionHandler(RuntimeException.class)</code> æ³¨è§£çš„ <code>handleRuntimeException</code> æ–¹æ³•ä¼šå¤„ç†æ‰€æœ‰æ§åˆ¶å™¨æŠ›å‡ºçš„ <code>RuntimeException</code> ç±»å‹çš„å¼‚å¸¸ã€‚</li>
<li><code>@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)</code> æŠŠå“åº”çŠ¶æ€ç è®¾ä¸º 500ã€‚</li>
</ul>
<h3 id="ç»“åˆä½¿ç”¨"><a href="#ç»“åˆä½¿ç”¨" class="headerlink" title="ç»“åˆä½¿ç”¨"></a>ç»“åˆä½¿ç”¨</h3><p>é€šå¸¸ä¼šæŠŠ <code>@ExceptionHandler</code> å’Œ <code>@ControllerAdvice</code> ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œä»¥æ­¤å®ç°å…¨å±€çš„å¼‚å¸¸å¤„ç†ã€‚</p>
<h4 id="ç¤ºä¾‹ä»£ç -5"><a href="#ç¤ºä¾‹ä»£ç -5" class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(Exception.class)</span><br><span class="line">    <span class="meta">@ResponseStatus</span>(HttpStatus.INTERNAL_SERVER_ERROR)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">handleException</span><span class="params">(Exception e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å…¨å±€å¤„ç†å¼‚å¸¸: "</span> + e.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä»£ç è§£é‡Š-4"><a href="#ä»£ç è§£é‡Š-4" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ul>
<li><code>@RestControllerAdvice</code> æ³¨è§£çš„ <code>GlobalExceptionHandler</code> ç±»æ˜¯å…¨å±€å¼‚å¸¸å¤„ç†ç±»ã€‚</li>
<li><code>@ExceptionHandler(Exception.class)</code> æ³¨è§£çš„ <code>handleException</code> æ–¹æ³•ä¼šå¤„ç†æ‰€æœ‰æ§åˆ¶å™¨æŠ›å‡ºçš„ <code>Exception</code> ç±»å‹çš„å¼‚å¸¸ã€‚</li>
<li><code>@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)</code> æŠŠå“åº”çŠ¶æ€ç è®¾ä¸º 500ã€‚</li>
</ul>
<p>é€šè¿‡ä¸Šè¿°çš„ä»‹ç»ï¼Œä½ å¯ä»¥åœ¨ Spring åº”ç”¨ä¸­è¿ç”¨ <code>@ExceptionHandler</code> å’Œ <code>@ControllerAdvice</code> æ³¨è§£æ¥å¤„ç†å¼‚å¸¸ï¼Œä»è€Œæå‡åº”ç”¨çš„å¥å£®æ€§ä¸ç”¨æˆ·ä½“éªŒã€‚ </p>
<h1 id="spring-çš„beanæ˜¯å•¥æ„æ€"><a href="#spring-çš„beanæ˜¯å•¥æ„æ€" class="headerlink" title="spring çš„beanæ˜¯å•¥æ„æ€"></a>spring çš„beanæ˜¯å•¥æ„æ€</h1><p>åœ¨ Spring æ¡†æ¶ä¸­ï¼Œâ€œBeanâ€ æ˜¯ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæ˜¯è¢« Spring å®¹å™¨ç®¡ç†çš„å¯¹è±¡ã€‚ä¸‹é¢ä»å¤šä¸ªæ–¹é¢è¯¦ç»†è§£é‡Š Spring çš„ Bean æ˜¯ä»€ä¹ˆï¼š</p>
<h2 id="å®šä¹‰ä¸æœ¬è´¨"><a href="#å®šä¹‰ä¸æœ¬è´¨" class="headerlink" title="å®šä¹‰ä¸æœ¬è´¨"></a>å®šä¹‰ä¸æœ¬è´¨</h2><p>åœ¨ Spring é‡Œï¼ŒBean æœ¬è´¨ä¸Šå°±æ˜¯ç”± Spring å®¹å™¨å®ä¾‹åŒ–ã€ç»„è£…å’Œç®¡ç†çš„æ™®é€š Java å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œé”€æ¯ï¼‰éƒ½ç”± Spring å®¹å™¨æ¥æ§åˆ¶ï¼Œè€Œä¸æ˜¯ç”±ç¨‹åºå‘˜åœ¨ä»£ç ä¸­æ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿ Java å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ <code>new</code> å…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br></pre></td></tr></table></figure></p>
<p>ä½†åœ¨ Spring æ¡†æ¶ä¸­ï¼ŒSpring å®¹å™¨ä¼šè´Ÿè´£åˆ›å»º <code>UserService</code> å¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å®¹å™¨ä¸­è·å–è¿™ä¸ªå¯¹è±¡å³å¯ä½¿ç”¨ã€‚</p>
<h2 id="Bean-çš„åˆ›å»ºæ–¹å¼"><a href="#Bean-çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="Bean çš„åˆ›å»ºæ–¹å¼"></a>Bean çš„åˆ›å»ºæ–¹å¼</h2><p>Spring å®¹å™¨åˆ›å»º Bean æœ‰å¤šç§æ–¹å¼ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>åŸºäº XML é…ç½®</strong>ï¼šåœ¨ Spring çš„ XML é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>&lt;bean&gt;</code> æ ‡ç­¾æ¥å®šä¹‰ Beanã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userService"</span> <span class="attr">class</span>=<span class="string">"com.example.service.UserServiceImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿™é‡Œçš„ <code>id</code> æ˜¯ Bean çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œ<code>class</code> æ˜¯ Bean å¯¹åº”çš„ Java ç±»çš„å…¨é™å®šåã€‚Spring å®¹å™¨ä¼šæ ¹æ®è¿™ä¸ªé…ç½®ä¿¡æ¯åˆ›å»º <code>UserServiceImpl</code> ç±»çš„å®ä¾‹ã€‚</p>
<ul>
<li><strong>åŸºäºæ³¨è§£</strong>ï¼šä½¿ç”¨ Spring çš„æ³¨è§£å¯ä»¥æ›´æ–¹ä¾¿åœ°å®šä¹‰ Beanã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>@Component</code>ã€<code>@Service</code>ã€<code>@Repository</code> å’Œ <code>@Controller</code> ç­‰æ³¨è§£ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»çš„å…·ä½“å®ç°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>@Service</code> æ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœåŠ¡å±‚çš„ Beanï¼ŒSpring ä¼šè‡ªåŠ¨æ‰«æå¸¦æœ‰è¿™äº›æ³¨è§£çš„ç±»ï¼Œå¹¶å°†å®ƒä»¬æ³¨å†Œä¸º Beanã€‚</p>
<ul>
<li><strong>åŸºäº Java é…ç½®ç±»</strong>ï¼šä½¿ç”¨ Java é…ç½®ç±»å’Œ <code>@Bean</code> æ³¨è§£æ¥å®šä¹‰ Beanã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserService <span class="title">userService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>@Configuration</code> æ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œ<code>@Bean</code> æ³¨è§£ç”¨äºå®šä¹‰ä¸€ä¸ª Beanï¼Œæ–¹æ³•å <code>userService</code> å°±æ˜¯ Bean çš„åç§°ã€‚</p>
<h2 id="Bean-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Bean-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Bean çš„ç”Ÿå‘½å‘¨æœŸ"></a>Bean çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>Spring å®¹å™¨ç®¡ç†çš„ Bean æœ‰å…¶å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šSpring å®¹å™¨æ ¹æ®é…ç½®ä¿¡æ¯åˆ›å»º Bean çš„å®ä¾‹ã€‚</li>
<li><strong>å±æ€§æ³¨å…¥</strong>ï¼šå¦‚æœ Bean æœ‰ä¾èµ–çš„å±æ€§ï¼ŒSpring å®¹å™¨ä¼šå°†è¿™äº›ä¾èµ–æ³¨å…¥åˆ° Bean ä¸­ã€‚</li>
<li><strong>åˆå§‹åŒ–</strong>ï¼šåœ¨ Bean å®ä¾‹åˆ›å»ºå¹¶å®Œæˆå±æ€§æ³¨å…¥åï¼ŒSpring å®¹å™¨ä¼šè°ƒç”¨ Bean çš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>InitializingBean</code> æ¥å£çš„ <code>afterPropertiesSet()</code> æ–¹æ³•æˆ–ä½¿ç”¨ <code>@PostConstruct</code> æ³¨è§£æ¥å®šä¹‰åˆå§‹åŒ–é€»è¾‘ã€‚</li>
<li><strong>ä½¿ç”¨</strong>ï¼šBean åˆå§‹åŒ–å®Œæˆåï¼Œå°±å¯ä»¥è¢«åº”ç”¨ç¨‹åºä½¿ç”¨äº†ã€‚</li>
<li><strong>é”€æ¯</strong>ï¼šå½“ Spring å®¹å™¨å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨ Bean çš„é”€æ¯æ–¹æ³•ï¼ˆå¦‚æœæœ‰å®šä¹‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>DisposableBean</code> æ¥å£çš„ <code>destroy()</code> æ–¹æ³•æˆ–ä½¿ç”¨ <code>@PreDestroy</code> æ³¨è§£æ¥å®šä¹‰é”€æ¯é€»è¾‘ã€‚</li>
</ol>
<h2 id="Bean-çš„ä½œç”¨åŸŸ"><a href="#Bean-çš„ä½œç”¨åŸŸ" class="headerlink" title="Bean çš„ä½œç”¨åŸŸ"></a>Bean çš„ä½œç”¨åŸŸ</h2><p>Spring æ”¯æŒå¤šç§ Bean çš„ä½œç”¨åŸŸï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>å•ä¾‹ï¼ˆSingletonï¼‰</strong>ï¼šé»˜è®¤çš„ä½œç”¨åŸŸï¼ŒSpring å®¹å™¨åªä¼šåˆ›å»ºä¸€ä¸ª Bean å®ä¾‹ï¼Œæ‰€æœ‰å¯¹è¯¥ Bean çš„è¯·æ±‚éƒ½ä¼šè¿”å›åŒä¸€ä¸ªå®ä¾‹ã€‚</li>
<li><strong>åŸå‹ï¼ˆPrototypeï¼‰</strong>ï¼šæ¯æ¬¡è¯·æ±‚è¯¥ Bean æ—¶ï¼ŒSpring å®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</li>
<li><strong>è¯·æ±‚ï¼ˆRequestï¼‰</strong>ï¼šåœ¨ Web åº”ç”¨ä¸­ï¼Œæ¯ä¸ª HTTP è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Bean å®ä¾‹ã€‚</li>
<li><strong>ä¼šè¯ï¼ˆSessionï¼‰</strong>ï¼šåœ¨ Web åº”ç”¨ä¸­ï¼Œæ¯ä¸ª HTTP ä¼šè¯ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Bean å®ä¾‹ã€‚</li>
</ul>
<h2 id="Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿"><a href="#Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿" class="headerlink" title="Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿"></a>Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿</h2><ul>
<li><strong>è§£è€¦å’Œå¯ç»´æŠ¤æ€§</strong>ï¼šé€šè¿‡å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™ Spring å®¹å™¨ï¼Œé™ä½äº†ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šæ–¹ä¾¿å®ç°ä¾èµ–æ³¨å…¥ï¼Œæé«˜äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œçµæ´»æ€§ã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šSpring å®¹å™¨å¯¹ Bean çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ï¼Œç¡®ä¿ Bean åœ¨åˆé€‚çš„æ—¶æœºè¢«åˆ›å»ºã€åˆå§‹åŒ–å’Œé”€æ¯ã€‚ </li>
</ul>
<h1 id="spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«"><a href="#spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«" class="headerlink" title="spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«"></a>spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«</h1><p>Spring Coreã€Spring Bootã€Spring JPAã€Spring REST å’Œ Spring Security éƒ½æ˜¯ Spring ç”Ÿæ€ç³»ç»Ÿä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä»¬å„è‡ªæ‰¿æ‹…ç€ä¸åŒçš„èŒè´£ï¼Œä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<h2 id="Spring-Core"><a href="#Spring-Core" class="headerlink" title="Spring Core"></a>Spring Core</h2><ul>
<li><strong>æ ¸å¿ƒåœ°ä½</strong>ï¼šSpring Core æ˜¯æ•´ä¸ª Spring æ¡†æ¶çš„åŸºç¡€ï¼Œæä¾›äº†æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œæ˜¯å…¶ä»– Spring æ¨¡å—æ„å»ºçš„åŸºçŸ³ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>IoCï¼ˆæ§åˆ¶åè½¬ï¼‰å’Œ DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰</strong>ï¼šé€šè¿‡ IoC å®¹å™¨ç®¡ç†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»ï¼Œé™ä½ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>ApplicationContext</code> æ¥è·å–å’Œç®¡ç† Bean å¯¹è±¡ã€‚</li>
<li><strong>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</strong>ï¼šå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ä¸Šï¼Œå¯¹ç¨‹åºè¿›è¡Œå¢å¼ºï¼Œå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ç­‰ã€‚</li>
<li><strong>èµ„æºç®¡ç†</strong>ï¼šæä¾›äº†ç»Ÿä¸€çš„èµ„æºåŠ è½½æœºåˆ¶ï¼Œæ–¹ä¾¿å¤„ç†æ–‡ä»¶ã€ç±»è·¯å¾„èµ„æºç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ˜¯æ‰€æœ‰ä½¿ç”¨ Spring æ¡†æ¶çš„é¡¹ç›®çš„åŸºç¡€ï¼Œæ— è®ºé¡¹ç›®è§„æ¨¡å¤§å°å’Œç±»å‹å¦‚ä½•ï¼Œéƒ½ç¦»ä¸å¼€ Spring Core æä¾›çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</li>
</ul>
<h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><ul>
<li><strong>å¼€å‘ç†å¿µ</strong>ï¼šSpring Boot çš„è®¾è®¡ç›®æ ‡æ˜¯ç®€åŒ– Spring åº”ç”¨çš„å¼€å‘è¿‡ç¨‹ï¼Œé€šè¿‡è‡ªåŠ¨é…ç½®å’Œçº¦å®šå¤§äºé…ç½®çš„åŸåˆ™ï¼Œå‡å°‘å¼€å‘è€…çš„é…ç½®å·¥ä½œé‡ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>è‡ªåŠ¨é…ç½®</strong>ï¼šæ ¹æ®é¡¹ç›®ä¸­å¼•å…¥çš„ä¾èµ–ï¼Œè‡ªåŠ¨è¿›è¡Œç›¸å…³çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¼•å…¥ Spring Data JPA å’Œ MySQL é©±åŠ¨åï¼ŒSpring Boot ä¼šè‡ªåŠ¨é…ç½®æ•°æ®æºå’Œ JPA ç›¸å…³çš„ Beanã€‚</li>
<li><strong>åµŒå…¥å¼æœåŠ¡å™¨</strong>ï¼šå†…ç½®äº† Tomcatã€Jetty ç­‰åµŒå…¥å¼æœåŠ¡å™¨ï¼Œæ— éœ€æ‰‹åŠ¨éƒ¨ç½²åˆ°å¤–éƒ¨æœåŠ¡å™¨ï¼Œç›´æ¥è¿è¡Œåº”ç”¨ç¨‹åºå³å¯å¯åŠ¨ Web æœåŠ¡ã€‚</li>
<li><strong>Actuator</strong>ï¼šæä¾›äº†åº”ç”¨ç¨‹åºçš„ç›‘æ§å’Œç®¡ç†åŠŸèƒ½ï¼Œå¦‚å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡ç»Ÿè®¡ç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚åˆå¿«é€Ÿæ­å»º Spring åº”ç”¨ï¼Œå°¤å…¶æ˜¯å¾®æœåŠ¡æ¶æ„ä¸‹çš„åº”ç”¨å¼€å‘ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2 id="Spring-JPA"><a href="#Spring-JPA" class="headerlink" title="Spring JPA"></a>Spring JPA</h2><ul>
<li><strong>åŠŸèƒ½å®šä½</strong>ï¼šSpring JPAï¼ˆJava Persistence APIï¼‰æ˜¯ Spring å¯¹ JPA è§„èŒƒçš„é›†æˆå’Œæ‰©å±•ï¼Œç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®å±‚çš„å¼€å‘ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰</strong>ï¼šé€šè¿‡æ³¨è§£æˆ– XML é…ç½®ï¼Œå°† Java å¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨ï¼Œå®ç°å¯¹è±¡å’Œæ•°æ®åº“è®°å½•ä¹‹é—´çš„è½¬æ¢ã€‚</li>
<li><strong>Repository æ¥å£</strong>ï¼šæä¾›äº†ä¸€ç³»åˆ—çš„ Repository æ¥å£ï¼Œå¦‚ <code>CrudRepository</code>ã€<code>JpaRepository</code> ç­‰ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å®šä¹‰æ¥å£æ–¹æ³•æ¥å®ç°å¸¸è§çš„æ•°æ®åº“æ“ä½œï¼Œæ— éœ€ç¼–å†™å…·ä½“çš„ SQL è¯­å¥ã€‚</li>
<li><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šæ”¯æŒå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œé€šè¿‡æ³¨è§£ï¼ˆå¦‚ <code>@Transactional</code>ï¼‰å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†æ•°æ®åº“äº‹åŠ¡ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºéœ€è¦ä¸å…³ç³»å‹æ•°æ®åº“è¿›è¡Œäº¤äº’çš„é¡¹ç›®ï¼Œèƒ½å¤Ÿå‡å°‘æ•°æ®åº“è®¿é—®å±‚çš„ä»£ç é‡ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2 id="Spring-REST"><a href="#Spring-REST" class="headerlink" title="Spring REST"></a>Spring REST</h2><ul>
<li><strong>åŠŸèƒ½ç”¨é€”</strong>ï¼šSpring REST ä¸»è¦ç”¨äºæ„å»º RESTful é£æ ¼çš„ Web æœåŠ¡ï¼Œéµå¾ª RESTï¼ˆRepresentational State Transferï¼‰æ¶æ„é£æ ¼ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>æ§åˆ¶å™¨æ³¨è§£</strong>ï¼šä½¿ç”¨ <code>@RestController</code> å’Œ <code>@RequestMapping</code> ç­‰æ³¨è§£æ¥å®šä¹‰ RESTful æ¥å£ï¼Œå¤„ç† HTTP è¯·æ±‚å’Œå“åº”ã€‚</li>
<li><strong>æ•°æ®ç»‘å®šå’Œåºåˆ—åŒ–</strong>ï¼šè‡ªåŠ¨å°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ° Java å¯¹è±¡ï¼Œå¹¶å°† Java å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æˆ– XML æ ¼å¼çš„å“åº”æ•°æ®ã€‚</li>
<li><strong>HATEOASï¼ˆHypermedia as the Engine of Application Stateï¼‰</strong>ï¼šæ”¯æŒ HATEOAS åŸåˆ™ï¼Œåœ¨å“åº”æ•°æ®ä¸­åŒ…å«é“¾æ¥ä¿¡æ¯ï¼Œæé«˜ API çš„å¯å‘ç°æ€§å’Œå¯å¯¼èˆªæ€§ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€‚åˆæ„å»ºå‰åç«¯åˆ†ç¦»çš„ Web åº”ç”¨ï¼Œä¸ºå‰ç«¯æä¾›æ•°æ®æ¥å£ï¼Œä¹Ÿå¯ç”¨äºæ„å»ºå¾®æœåŠ¡æ¶æ„ä¸­çš„æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ¥å£ã€‚</li>
</ul>
<h2 id="Spring-Security"><a href="#Spring-Security" class="headerlink" title="Spring Security"></a>Spring Security</h2><ul>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šSpring Security æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èº«ä»½éªŒè¯å’Œæˆæƒæ¡†æ¶ï¼Œç”¨äºä¿æŠ¤ Spring åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong><ul>
<li><strong>èº«ä»½éªŒè¯</strong>ï¼šæ”¯æŒå¤šç§èº«ä»½éªŒè¯æ–¹å¼ï¼Œå¦‚è¡¨å•ç™»å½•ã€HTTP åŸºæœ¬è®¤è¯ã€OAuth2 ç­‰ï¼ŒéªŒè¯ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ã€‚</li>
<li><strong>æˆæƒç®¡ç†</strong>ï¼šå¯ä»¥åŸºäºè§’è‰²ã€æƒé™ç­‰å¯¹ç”¨æˆ·è¿›è¡Œæˆæƒï¼Œæ§åˆ¶ç”¨æˆ·å¯¹èµ„æºçš„è®¿é—®æƒé™ã€‚</li>
<li><strong>é˜²æ­¢æ”»å‡»</strong>ï¼šæä¾›äº†é˜²æ­¢å¸¸è§ Web æ”»å‡»çš„åŠŸèƒ½ï¼Œå¦‚ CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ã€XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ç­‰ã€‚</li>
</ul>
</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šä»»ä½•éœ€è¦ä¿æŠ¤ç”¨æˆ·æ•°æ®å’Œèµ„æºå®‰å…¨çš„ Spring åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨ Spring Securityï¼Œå°¤å…¶æ˜¯æ¶‰åŠç”¨æˆ·ç™»å½•ã€æ•æ„Ÿæ•°æ®è®¿é—®ç­‰åœºæ™¯ã€‚</li>
</ul>
<h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Spring Core æ˜¯ Spring æ¡†æ¶çš„æ ¸å¿ƒåŸºç¡€ï¼ŒSpring Boot ç®€åŒ–äº† Spring åº”ç”¨çš„å¼€å‘è¿‡ç¨‹ï¼ŒSpring JPA ç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ï¼ŒSpring REST ç”¨äºæ„å»º RESTful æœåŠ¡ï¼ŒSpring Security ç”¨äºä¿éšœåº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šæ ¹æ®é¡¹ç›®çš„éœ€æ±‚ç»¼åˆä½¿ç”¨è¿™äº›æ¨¡å—ã€‚ </p>
<h1 id="the-relationship-between-Servlet-and-TomCat"><a href="#the-relationship-between-Servlet-and-TomCat" class="headerlink" title="the relationship between Servlet and TomCat"></a>the relationship between Servlet and TomCat</h1><p>Servlet is a specification and technology in Java for developing web applications, while Tomcat is an open - source Servlet container. The relationship between them is as follows:</p>
<h2 id="Specification-and-implementation-relationship"><a href="#Specification-and-implementation-relationship" class="headerlink" title="Specification and implementation relationship"></a>Specification and implementation relationship</h2><ul>
<li><strong>Servlet specification</strong>: Servlet is a set of standard specifications developed by Sun Microsystems (now Oracle). It defines how Servlet classes should be written and how to interact with client requests and servers. In simple terms, the Servlet specification is an abstract design that stipulates the interfaces and methods for handling requests and responses in web application development. For example, the Servlet specification defines the <code>javax.servlet.Servlet</code> interface, and the Servlet classes written by developers need to implement this interface or inherit abstract classes such as <code>HttpServlet</code>.</li>
<li><strong>Tomcat implementation</strong>: Tomcat is a specific implementation of the Servlet specification. It implements various interfaces and methods defined in the Servlet specification, enabling the code written by developers that conforms to the Servlet specification to run on the Tomcat server. Tomcat provides a running environment for Servlets, allowing them to handle client requests and return responses.</li>
</ul>
<h2 id="Running-carrier-relationship"><a href="#Running-carrier-relationship" class="headerlink" title="Running carrier relationship"></a>Running carrier relationship</h2><ul>
<li><strong>Servletâ€™s running dependency</strong>: A Servlet itself is just a piece of Java code and cannot run independently. It requires a running environment, namely a Servlet container. The Servlet code needs to be deployed in a Servlet container, which is responsible for loading, instantiating, and managing the lifecycle of the Servlet.</li>
<li><strong>Tomcat as the carrier</strong>: Tomcat is such a Servlet container that can provide a running environment for Servlets. After developers write a Servlet class, they package it into a WAR (Web Application Archive) file and deploy it to Tomcat. Tomcat will be responsible for loading these Servlet classes, creating Servlet instances, and calling their methods to handle client requests. For example, when a client sends an HTTP request to the Tomcat server, Tomcat will find the corresponding Servlet according to the URL of the request and call the <code>service()</code> method of the Servlet for processing.</li>
</ul>
<h2 id="Interaction-and-collaboration-relationship"><a href="#Interaction-and-collaboration-relationship" class="headerlink" title="Interaction and collaboration relationship"></a>Interaction and collaboration relationship</h2><ul>
<li><strong>Request processing flow</strong>: A client (such as a browser) sends an HTTP request to the Tomcat server. After receiving the request, Tomcat finds the corresponding Servlet according to information such as the URL of the request. Then, Tomcat creates <code>ServletRequest</code> and <code>ServletResponse</code> objects to encapsulate the clientâ€™s request information and response information respectively, and passes these two objects to the corresponding methods (such as <code>doGet()</code> or <code>doPost()</code>) of the Servlet. The Servlet processes the business logic according to the request information, generates the response content, and writes it into the <code>ServletResponse</code> object. Finally, Tomcat retrieves the response content from the <code>ServletResponse</code> object and returns it to the client.</li>
<li><strong>Lifecycle management</strong>: Tomcat is responsible for managing the lifecycle of Servlets. After a Servlet is deployed to Tomcat, Tomcat will instantiate and initialize the Servlet (call the <code>init()</code> method) at an appropriate time. When a request arrives, it calls the service method of the Servlet to handle the request. When Tomcat is shut down or the Servlet is unloaded, Tomcat will call the <code>destroy()</code> method of the Servlet to release resources.</li>
</ul>
<h2 id="Development-and-deployment-relationship"><a href="#Development-and-deployment-relationship" class="headerlink" title="Development and deployment relationship"></a>Development and deployment relationship</h2><ul>
<li><strong>Development aspect</strong>: When developers develop Servlets, they only need to write Java code following the Servlet specification to implement the corresponding business logic, without having to worry about how the Servlet runs on the server. They can use various Java development tools (such as Eclipse, IntelliJ IDEA, etc.) to write and debug Servlet code.</li>
<li><strong>Deployment aspect</strong>: After development, the Servlet code is packaged into a WAR file and then deployed to the Tomcat server. Tomcat will automatically decompress the WAR file, load the Servlet classes in it into memory, and make them capable of handling client requests. This separated development and deployment method allows developers to focus on the implementation of business logic, while server administrators are responsible for server configuration and management. </li>
</ul>
<h1 id="J2EE-vs-Spring"><a href="#J2EE-vs-Spring" class="headerlink" title="J2EE vs Spring"></a>J2EE vs Spring</h1><blockquote>
<p>ç°åœ¨å·²ç»åŸºæœ¬æ²¡äººç”¨J2EEäº†, éƒ½æ˜¯ç”¨spring.</p>
</blockquote>
<p>å¦‚ä¸Šæ‰€è¿°ï¼ŒJ2EEæ˜¯ä¸€å¥—æ ‡å‡†ï¼Œå®ƒå¯¹ä¸€ç³»åˆ—æ¥å£è¿›è¡Œäº†çº¦å®šï¼Œç„¶åç”±ä¼—å¤šå‚å•†å›´ç»•è¿™ä¸ªæ ‡å‡†åšå®ç°ã€‚Springæ¡†æ¶å°±æ˜¯ä¸€ä¸ªå¼€æºçš„J2EEåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚ï¼ˆæäº†åŠå¤©ï¼ŒåŸæ¥Springä¹Ÿç®—æ˜¯J2EEä¸€åˆ†å­ï¼‰<br>æ—©æœŸçš„Springå®šä½äºè§£å†³J2EEåœ¨å®é™…ä½¿ç”¨ä¸Šçš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œå› ä¸ºJ2EEçš„APIå®åœ¨æ˜¯å¤ªéš¾ç”¨äº†ã€‚Springæ¡†æ¶çš„å‘èµ·äººRodä¼°è®¡æ˜¯è¶Ÿäº†ä¸å°‘å¤§å‘ï¼Œäºæ˜¯æ€»ç»“äº†ä¸€å¥—æœ€ä½³å®è·µï¼Œå¹¶æ€»ç»“åˆ°äº†ä¸€å¥—æ¡†æ¶é‡Œã€‚å…¶ä¸­æœ€é‡è¦çš„ï¼Œå°±æ˜¯æ‰€è°“IoCï¼ˆæ§åˆ¶åè½¬ï¼‰ã€‚<br>Springå¤§é‡ä½¿ç”¨æˆ–è€…å®ç°äº†J2EEæ ‡å‡†ã€‚æ¯”å¦‚spring-mvcæ˜¯åœ¨servletåŸºç¡€ä¹‹ä¸Šçš„å°è£…ï¼›springæœ¬èº«å¹¶ä¸æä¾›å®¹å™¨ï¼Œè€Œæ˜¯æ”¯æŒä½¿ç”¨ä»»ä½•æ”¯æŒservletæ ‡å‡†çš„å®¹å™¨ï¼ˆå¦‚tomcatï¼Œjettyç­‰ï¼‰ï¼›spring-dataä¹Ÿå®ç°äº†JPAï¼Œé€šè¿‡æ ‡å‡†æ¥å£å¯¹è¿›è¡ŒCRUDç­‰ã€‚å½’æ ¹åˆ°åº•Springåªæ˜¯æƒ³æ›´å¥½çš„è§£å†³å®é™…é—®é¢˜ã€‚J2EEçš„å®ç°åšå¾—å¥½çš„å°±ç”¨ï¼Œåšå¾—ä¸å¥½çš„ï¼Œç”¨æ¯”è¾ƒæ°å½“çš„æ–¹å¼ç‹¬ç«‹å®ç°æˆ–è€…å°è£…ã€‚<br>éšç€æ—¶é—´çš„å‘å±•ï¼ŒJ2EEå·²ç»è¶Šæ¥è¶Šè½åï¼Œè¿™æ˜¯ç”±äºå®ƒçš„ä½“åˆ¶é€ æˆçš„ã€‚J2EEçš„åˆ¶å®šæ˜¯ç”±å‡ å¤§å·¨å¤´å®šæœŸå¼€ä¼šåå•†é€šè¿‡ï¼Œå‘å¸ƒã€‚ç„¶åç”±å¤§å®¹å™¨å®ç°å‚å•†è·Ÿè¿›ã€‚ä½†è¿™æ ·å¤ªæ…¢äº†ã€‚äº’è”ç½‘çš„å‘å±•é€Ÿåº¦å·²ç»è¿œä¸æ˜¯è¿™æ ·ä¸€ä¸ªåƒµåŒ–çš„ä½“åˆ¶èƒ½å¤Ÿé€‚åº”çš„ã€‚åè§‚Springç›¸å¯¹å°±å¿«é€Ÿçš„å¤šã€‚Springè‡ªå·±å°±æ˜¯ä¸€å®¶å…¬å¸ï¼Œè§‰å¾—æ•´ä¸ªç¤¾åŒºä»€ä¹ˆä¸œè¥¿æœ€å‰æ²¿ï¼Œæœ€æ€¥ç¼ºå°±ç«‹åˆ»å“åº”å»åšäº†ã€‚æ¯”å¦‚ï¼ŒRestfulåˆšæµè¡Œï¼Œä½ æ˜¯æ„¿æ„ç­‰ä¸€å¹´åŠè½½å‡ºJAX-RSæ ‡å‡†ï¼Œç„¶åå†å‡ºJerseyï¼Œæ‰èƒ½ç”¨ï¼›è¿˜æ˜¯é€‰æ‹©ç›´æ¥ç”¨Spring MVCç›´æ¥å°±æŠŠäº‹åŠäº†ï¼Ÿç»“æœä¸è¨€è€Œå–»ã€‚å¯¹è§£å†³é—®é¢˜çš„æ€åº¦æ˜¯äºŒè€…ç›®å‰å¢ƒé‡ä¸åŒçš„ä¸»è¦åŸå› ã€‚æœ€æ—©æœŸJ2EEæ˜¯é¢†å¯¼è€…ï¼Œæ‰€æœ‰çš„æŠ€æœ¯å‚å•†è¦æƒ³åœ¨è¿™ä¸ªåœˆå­é‡Œæ··ï¼Œå¿…é¡»è·Ÿç€æ ‡å‡†èµ°ã€‚è€ŒSpringé€æ¸å æ®é¢†å¯¼åœ°ä½ä¹‹åï¼ŒJ2EEçš„ä¸€äº›æ ‡å‡†åè€Œè¦è·Ÿç€Springèµ°ã€‚</p>
<p>ä½œè€…ï¼šleftfist<br>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6945982696183054349" target="_blank" rel="noopener">https://juejin.cn/post/6945982696183054349</a><br>æ¥æºï¼šç¨€åœŸæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="Spring-JPAå’ŒMyBatisåŒºåˆ«"><a href="#Spring-JPAå’ŒMyBatisåŒºåˆ«" class="headerlink" title="Spring JPAå’ŒMyBatisåŒºåˆ«"></a>Spring JPAå’ŒMyBatisåŒºåˆ«</h1><blockquote>
<p>ç°å®é‡Œï¼Œä¸­å›½å¤§é™†mybatisç”¨çš„ç¡®å®å¤šä¸€äº›, åŒ—ç¾ä¸æ™“å¾—</p>
</blockquote>
<p>ä»–ä»¬éƒ½æ˜¯åœ¨Javaå¼€å‘ä¸­ç”¨äºå¤„ç†æ•°æ®åº“äº¤äº’çš„æŠ€æœ¯ï¼Œå®ƒä»¬æœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œä»¥ä¸‹ä»å¤šä¸ªæ–¹é¢ä»‹ç»å®ƒä»¬çš„åŒºåˆ«ï¼š</p>
<h2 id="1-è®¾è®¡ç†å¿µ"><a href="#1-è®¾è®¡ç†å¿µ" class="headerlink" title="1. è®¾è®¡ç†å¿µ"></a>1. è®¾è®¡ç†å¿µ</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>Spring JPA æ˜¯ Spring å¯¹ JPAï¼ˆJava Persistence APIï¼‰è§„èŒƒçš„é›†æˆå’Œæ‰©å±•ï¼Œå®ƒåŸºäº ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ€æƒ³ï¼Œæ—¨åœ¨å°† Java å¯¹è±¡ä¸æ•°æ®åº“è¡¨è¿›è¡Œæ˜ å°„ï¼Œè®©å¼€å‘è€…å¯ä»¥é€šè¿‡æ“ä½œ Java å¯¹è±¡æ¥é—´æ¥æ“ä½œæ•°æ®åº“ï¼Œæ— éœ€ç¼–å†™å¤§é‡çš„ SQL è¯­å¥ï¼Œæ³¨é‡å¯¹è±¡åŒ–çš„æ“ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis æ˜¯ä¸€æ¬¾åŠè‡ªåŠ¨åŒ–çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒåŒæ ·æ”¯æŒ ORMï¼Œä½†æ›´ä¾§é‡äº SQL çš„çµæ´»ä½¿ç”¨ã€‚MyBatis ä¸ä¼šåƒ JPA é‚£æ ·å®Œå…¨éšè— SQLï¼Œè€Œæ˜¯å…è®¸å¼€å‘è€…è‡ªå·±ç¼–å†™ SQL è¯­å¥ï¼Œå¯¹ SQL æœ‰æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œåœ¨æ€§èƒ½ä¼˜åŒ–å’Œå¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘æ—¶å…·æœ‰ä¼˜åŠ¿ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-SQL-æ§åˆ¶ç¨‹åº¦"><a href="#2-SQL-æ§åˆ¶ç¨‹åº¦" class="headerlink" title="2. SQL æ§åˆ¶ç¨‹åº¦"></a>2. SQL æ§åˆ¶ç¨‹åº¦</h2><ul>
<li><p><strong>Spring JPA</strong></p>
<ul>
<li><p>å¯¹äºç®€å•çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼ŒSpring JPA å¯ä»¥æ ¹æ®æ–¹æ³•åè‡ªåŠ¨ç”Ÿæˆ SQL è¯­å¥ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨ç¼–å†™ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª <code>JpaRepository</code> çš„æ¥å£ï¼Œé€šè¿‡å‘½åè§„èŒƒå®šä¹‰æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°åŸºæœ¬çš„æ•°æ®åº“æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">User <span class="title">findByUsername</span><span class="params">(String username)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½†å¯¹äºå¤æ‚çš„ SQL æŸ¥è¯¢ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>@Query</code> æ³¨è§£æ‰‹åŠ¨ç¼–å†™ SQLï¼Œä½†ç›¸æ¯”ä¹‹ä¸‹ä¸å¤Ÿçµæ´»ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œå¯èƒ½ä¼šæ¯”è¾ƒç¹çã€‚</p>
</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™ SQL è¯­å¥ï¼Œå¯ä»¥å°† SQL è¯­å¥å†™åœ¨ XML æ–‡ä»¶æˆ–ä½¿ç”¨æ³¨è§£æ–¹å¼é…ç½®åœ¨ Java ä»£ç ä¸­ã€‚è¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®åº“ç‰¹æ€§ï¼Œç¼–å†™é«˜æ•ˆã€å¤æ‚çš„ SQL è¯­å¥ï¼Œå¯¹ SQL çš„æ§åˆ¶éå¸¸çµæ´»ã€‚<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findUserByUsername"</span> <span class="attr">parameterType</span>=<span class="string">"String"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">    SELECT * FROM users WHERE username = #&#123;username&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="3-å­¦ä¹ æˆæœ¬"><a href="#3-å­¦ä¹ æˆæœ¬" class="headerlink" title="3. å­¦ä¹ æˆæœ¬"></a>3. å­¦ä¹ æˆæœ¬</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>å¯¹äºç†Ÿæ‚‰é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œ JPA è§„èŒƒçš„å¼€å‘è€…æ¥è¯´ï¼ŒSpring JPA çš„å­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚å› ä¸ºå®ƒæä¾›äº†ç®€å•çš„ API å’Œè‡ªåŠ¨ç”Ÿæˆ SQL çš„åŠŸèƒ½ï¼Œå¼€å‘è€…åªéœ€è¦å®šä¹‰æ¥å£å’Œæ–¹æ³•ï¼Œå°±å¯ä»¥å®ŒæˆåŸºæœ¬çš„æ•°æ®åº“æ“ä½œã€‚</li>
<li>ç„¶è€Œï¼Œè¦æ·±å…¥æŒæ¡ Spring JPA çš„é«˜çº§ç‰¹æ€§ï¼Œå¦‚è‡ªå®šä¹‰æŸ¥è¯¢ã€æ€§èƒ½ä¼˜åŒ–ç­‰ï¼Œä»ç„¶éœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>MyBatis çš„å­¦ä¹ æ›²çº¿ç›¸å¯¹è¾ƒé™¡ï¼Œå°¤å…¶æ˜¯å¯¹äºæ²¡æœ‰ SQL åŸºç¡€çš„å¼€å‘è€…æ¥è¯´ã€‚å› ä¸ºéœ€è¦æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥ï¼Œæ‰€ä»¥éœ€è¦æŒæ¡ä¸€å®šçš„ SQL çŸ¥è¯†å’Œæ•°æ®åº“æ“ä½œæŠ€èƒ½ã€‚</li>
<li>åŒæ—¶ï¼Œè¿˜éœ€è¦äº†è§£ MyBatis çš„é…ç½®æ–‡ä»¶ã€æ˜ å°„è§„åˆ™ç­‰ï¼Œå­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒé«˜ã€‚</li>
</ul>
</li>
</ul>
<h2 id="4-æ€§èƒ½è¡¨ç°"><a href="#4-æ€§èƒ½è¡¨ç°" class="headerlink" title="4. æ€§èƒ½è¡¨ç°"></a>4. æ€§èƒ½è¡¨ç°</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>åœ¨å¤„ç†ç®€å•çš„æ•°æ®åº“æ“ä½œæ—¶ï¼ŒSpring JPA ç”±äºè‡ªåŠ¨ç”Ÿæˆ SQLï¼Œæ€§èƒ½è¡¨ç°è‰¯å¥½ã€‚ä½†åœ¨å¤„ç†å¤æ‚çš„æŸ¥è¯¢æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ SQL å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œéœ€è¦å¼€å‘è€…è¿›è¡Œæ‰‹åŠ¨ä¼˜åŒ–ã€‚</li>
<li>å¦å¤–ï¼ŒJPA çš„ç¼“å­˜æœºåˆ¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†å¦‚æœä½¿ç”¨ä¸å½“ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>ç”±äºå¼€å‘è€…å¯ä»¥æ‰‹åŠ¨ç¼–å†™ SQLï¼Œèƒ½å¤Ÿé’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’Œæ•°æ®åº“è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢å’Œå¤§æ•°æ®é‡æ“ä½œæ—¶ï¼ŒMyBatis çš„æ€§èƒ½é€šå¸¸æ›´æœ‰ä¼˜åŠ¿ã€‚</li>
<li>åŒæ—¶ï¼ŒMyBatis çš„ç¼“å­˜æœºåˆ¶ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œé…ç½®ã€‚</li>
</ul>
</li>
</ul>
<h2 id="5-é€‚ç”¨åœºæ™¯"><a href="#5-é€‚ç”¨åœºæ™¯" class="headerlink" title="5. é€‚ç”¨åœºæ™¯"></a>5. é€‚ç”¨åœºæ™¯</h2><ul>
<li><strong>Spring JPA</strong><ul>
<li>é€‚ç”¨äºå¿«é€Ÿå¼€å‘é¡¹ç›®ï¼Œå°¤å…¶æ˜¯å¯¹æ•°æ®åº“æ“ä½œè¦æ±‚ä¸å¤æ‚ï¼Œæ³¨é‡å¼€å‘æ•ˆç‡å’Œä»£ç ç®€æ´æ€§çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å°å‹çš„ Web åº”ç”¨ã€åŸå‹é¡¹ç›®ç­‰ã€‚</li>
<li>å¯¹äºå›¢é˜Ÿä¸­ SQL èƒ½åŠ›ç›¸å¯¹è¾ƒå¼±çš„å¼€å‘è€…ï¼ŒSpring JPA å¯ä»¥é™ä½å¼€å‘éš¾åº¦ã€‚</li>
</ul>
</li>
<li><strong>MyBatis</strong><ul>
<li>é€‚ç”¨äºå¯¹ SQL æ€§èƒ½è¦æ±‚è¾ƒé«˜ã€ä¸šåŠ¡é€»è¾‘å¤æ‚çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¼ä¸šçº§åº”ç”¨ã€æ•°æ®å¤„ç†ç³»ç»Ÿç­‰ï¼Œéœ€è¦å¯¹ SQL è¿›è¡Œç²¾ç»†ä¼˜åŒ–å’Œå¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢ã€‚</li>
<li>å½“é¡¹ç›®éœ€è¦ä¸ä¸åŒçš„æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”éœ€è¦æ ¹æ®ä¸åŒæ•°æ®åº“çš„ç‰¹æ€§ç¼–å†™ä¸åŒçš„ SQL æ—¶ï¼ŒMyBatis æ›´å…·ä¼˜åŠ¿ã€‚ </li>
</ul>
</li>
</ul>
<h1 id="æš´åŠ›åå°„æ˜¯å•¥"><a href="#æš´åŠ›åå°„æ˜¯å•¥" class="headerlink" title="æš´åŠ›åå°„æ˜¯å•¥"></a>æš´åŠ›åå°„æ˜¯å•¥</h1><p>æš´åŠ›åå°„æŒ‡çš„æ˜¯åˆ©ç”¨ Java çš„åå°„æœºåˆ¶ï¼Œçªç ´ Java è¯­è¨€åŸæœ¬çš„è®¿é—®æ§åˆ¶é™åˆ¶ï¼ˆå¦‚ç§æœ‰è®¿é—®ä¿®é¥°ç¬¦ privateï¼‰ï¼Œå¼ºè¡Œè®¿é—®ã€ä¿®æ”¹å¯¹è±¡çš„ç§æœ‰å±æ€§æˆ–è°ƒç”¨ç§æœ‰æ–¹æ³•ã€‚ä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»æš´åŠ›åå°„çš„åŸç†ã€ä½¿ç”¨åœºæ™¯ã€ç¤ºä¾‹ä»£ç åŠæ³¨æ„äº‹é¡¹ã€‚</p>
<h1 id="Beanå’Œ-ComponentåŒºåˆ«"><a href="#Beanå’Œ-ComponentåŒºåˆ«" class="headerlink" title="@Beanå’Œ@ComponentåŒºåˆ«"></a>@Beanå’Œ@ComponentåŒºåˆ«</h1><p>åœ¨ Spring æ¡†æ¶é‡Œï¼Œ<code>@Bean</code> å’Œ <code>@Component</code> éƒ½å’Œ Bean çš„å®šä¹‰ç›¸å…³ï¼Œä½†å®ƒä»¬åœ¨ä½¿ç”¨åœºæ™¯ã€ä½¿ç”¨æ–¹å¼ç­‰æ–¹é¢å­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»ï¼š</p>
<h2 id="ä½œç”¨å±‚é¢"><a href="#ä½œç”¨å±‚é¢" class="headerlink" title="ä½œç”¨å±‚é¢"></a>ä½œç”¨å±‚é¢</h2><ul>
<li><strong><code>@Component</code></strong><ul>
<li>è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„ç»„ä»¶æ³¨è§£ï¼Œå±äºç±»çº§åˆ«çš„æ³¨è§£ã€‚å½“ä½ åœ¨ä¸€ä¸ªç±»ä¸Šä½¿ç”¨ <code>@Component</code> æ³¨è§£æ—¶ï¼Œå°±è¡¨æ˜è¿™ä¸ªç±»æ˜¯ Spring ç®¡ç†çš„ä¸€ä¸ªç»„ä»¶ã€‚Spring ä¼šåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰«æå¸¦æœ‰ <code>@Component</code> æ³¨è§£çš„ç±»ï¼Œå¹¶å°†å…¶æ³¨å†Œä¸º Beanã€‚</li>
<li>é™¤äº† <code>@Component</code> å¤–ï¼ŒSpring è¿˜æä¾›äº†å‡ ä¸ªè¯­ä¹‰æ›´æ˜ç¡®çš„è¡ç”Ÿæ³¨è§£ï¼Œå¦‚ <code>@Service</code>ï¼ˆç”¨äºæœåŠ¡å±‚ç»„ä»¶ï¼‰ã€<code>@Repository</code>ï¼ˆç”¨äºæ•°æ®è®¿é—®å±‚ç»„ä»¶ï¼‰ã€<code>@Controller</code>ï¼ˆç”¨äºè¡¨ç°å±‚æ§åˆ¶å™¨ï¼‰ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šå’Œ <code>@Component</code> ä¸€æ ·ï¼Œåªæ˜¯ä¸ºäº†è®©ä»£ç çš„è¯­ä¹‰æ›´æ¸…æ™°ã€‚</li>
</ul>
</li>
<li><strong><code>@Bean</code></strong><ul>
<li>å®ƒæ˜¯æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œé€šå¸¸åœ¨é…ç½®ç±»ï¼ˆä½¿ç”¨ <code>@Configuration</code> æ³¨è§£çš„ç±»ï¼‰ä¸­ä½¿ç”¨ã€‚<code>@Bean</code> æ³¨è§£çš„ä½œç”¨æ˜¯å‘Šè¯‰ Springï¼Œç”±è¯¥æ³¨è§£æ ‡æ³¨çš„æ–¹æ³•å°†è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šè¢«æ³¨å†Œä¸º Spring å®¹å™¨ä¸­çš„ Beanã€‚</li>
</ul>
</li>
</ul>
<h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><ul>
<li><strong><code>@Component</code></strong><br>ä½¿ç”¨æ—¶ç›´æ¥å°†å…¶æ·»åŠ åˆ°ç±»çš„å®šä¹‰ä¸Šï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åŒæ—¶ï¼Œè¦ç¡®ä¿ Spring çš„ç»„ä»¶æ‰«æåŠŸèƒ½å¼€å¯ï¼Œä¸€èˆ¬åœ¨é…ç½®ç±»ä¸Šæ·»åŠ  <code>@ComponentScan</code> æ³¨è§£ï¼š<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"com.example"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é…ç½®ç±»çš„å…¶ä»–å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><strong><code>@Bean</code></strong><br>åœ¨é…ç½®ç±»ä¸­ä½¿ç”¨ <code>@Bean</code> æ³¨è§£æ ‡æ³¨ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyBean <span class="title">myBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="çµæ´»æ€§"><a href="#çµæ´»æ€§" class="headerlink" title="çµæ´»æ€§"></a>çµæ´»æ€§</h2><ul>
<li><strong><code>@Component</code></strong><br>ä¸»è¦ç”¨äºæ ‡æ³¨è‡ªå®šä¹‰çš„ç±»ï¼Œè®© Spring è‡ªåŠ¨å‘ç°å¹¶æ³¨å†Œä¸º Beanã€‚è¿™ç§æ–¹å¼é€‚åˆé‚£äº›ä½ è‡ªå·±ç¼–å†™çš„ã€ç¬¦åˆç»„ä»¶è§„èŒƒçš„ç±»ã€‚ä½†å®ƒçš„å±€é™æ€§åœ¨äºï¼Œå¯¹äºä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»ï¼Œä½ æ— æ³•ç›´æ¥åœ¨å…¶ç±»å®šä¹‰ä¸Šæ·»åŠ  <code>@Component</code> æ³¨è§£ã€‚</li>
<li><strong><code>@Bean</code></strong><br>éå¸¸çµæ´»ï¼Œå¯ä»¥ç”¨äºä»»ä½•ç±»çš„ Bean å®šä¹‰ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»ã€‚ä½ å¯ä»¥åœ¨é…ç½®ç±»ä¸­åˆ›å»ºå¹¶é…ç½®è¿™äº›ç±»çš„å®ä¾‹ï¼Œç„¶åå°†å…¶æ³¨å†Œä¸º Beanã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å¯¹ Bean çš„åˆ›å»ºè¿‡ç¨‹è¿›è¡Œæ›´å¤šçš„æ§åˆ¶ï¼Œå¦‚ä¼ å…¥å‚æ•°ã€è¿›è¡Œåˆå§‹åŒ–æ“ä½œç­‰ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ThirdPartyLibraryClass <span class="title">thirdPartyBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ThirdPartyLibraryClass bean = <span class="keyword">new</span> ThirdPartyLibraryClass();</span><br><span class="line">        bean.setSomeProperty(<span class="string">"Some value"</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>ç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><ul>
<li><strong><code>@Component</code></strong><br>Spring ä¼šè‡ªåŠ¨ç®¡ç†ä½¿ç”¨ <code>@Component</code> æ³¨è§£çš„ç±»çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬å®ä¾‹åŒ–ã€ä¾èµ–æ³¨å…¥ã€åˆå§‹åŒ–å’Œé”€æ¯ç­‰è¿‡ç¨‹ã€‚è¿™äº›è¿‡ç¨‹é€šå¸¸éµå¾ª Spring çš„é»˜è®¤è§„åˆ™ã€‚</li>
<li><strong><code>@Bean</code></strong><br>ä½¿ç”¨ <code>@Bean</code> æ³¨è§£æ—¶ï¼Œä½ å¯ä»¥å¯¹ Bean çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡ <code>@Bean</code> æ³¨è§£çš„ <code>initMethod</code> å’Œ <code>destroyMethod</code> å±æ€§æŒ‡å®š Bean çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span>(initMethod = <span class="string">"init"</span>, destroyMethod = <span class="string">"destroy"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyBean <span class="title">myBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is initializing..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is doing something..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"MyBean is destroying..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>@Component</code> é€‚ç”¨äºè‡ªåŠ¨æ‰«æå’Œæ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶ï¼Œè€Œ <code>@Bean</code> æ›´ä¾§é‡äºæ‰‹åŠ¨é…ç½®å’Œç®¡ç† Beanï¼Œå°¤å…¶æ˜¯å¯¹äºç¬¬ä¸‰æ–¹åº“çš„ç±»æˆ–éœ€è¦ç²¾ç»†æ§åˆ¶ Bean åˆ›å»ºè¿‡ç¨‹çš„åœºæ™¯ã€‚ </p>
<h1 id="æ³¨è§£å¼€å‘æ€»ç»“"><a href="#æ³¨è§£å¼€å‘æ€»ç»“" class="headerlink" title="æ³¨è§£å¼€å‘æ€»ç»“"></a>æ³¨è§£å¼€å‘æ€»ç»“</h1><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/na_springboot_notes/image.png" alt="alt text"></p>
<h1 id="jdbcæ˜¯å•¥"><a href="#jdbcæ˜¯å•¥" class="headerlink" title="jdbcæ˜¯å•¥"></a>jdbcæ˜¯å•¥</h1><p>JDBC å³ Java Database Connectivityï¼ˆJava æ•°æ®åº“è¿æ¥ï¼‰ï¼Œå®ƒæ˜¯ Java ç¼–ç¨‹è¯­è¨€ç”¨äºä¸å„ç§å…³ç³»å‹æ•°æ®åº“è¿›è¡Œäº¤äº’çš„æ ‡å‡† APIã€‚ä»¥ä¸‹ä»æ¦‚å¿µã€å·¥ä½œåŸç†ã€æ ¸å¿ƒç»„ä»¶ã€ä½¿ç”¨æ­¥éª¤ã€ä¼˜ç¼ºç‚¹å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼š</p>
<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>JDBC ç”±ä¸€ç»„ç”¨ Java è¯­è¨€ç¼–å†™çš„ç±»å’Œæ¥å£ç»„æˆï¼Œä¸º Java å¼€å‘äººå‘˜æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥è®¿é—®ä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œå¦‚ MySQLã€Oracleã€SQL Server ç­‰ï¼Œè€Œæ— éœ€å…³å¿ƒå…·ä½“æ•°æ®åº“çš„å®ç°ç»†èŠ‚ã€‚é€šè¿‡ JDBCï¼Œå¼€å‘äººå‘˜å¯ä»¥æ‰§è¡Œ SQL è¯­å¥ï¼Œå®ç°å¯¹æ•°æ®åº“çš„æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œã€‚</p>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>JDBC é‡‡ç”¨äº†ä¸€ç§åˆ†å±‚çš„æ¶æ„ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼šåº”ç”¨ç¨‹åºå±‚å’Œé©±åŠ¨ç¨‹åºå±‚ã€‚</p>
<ul>
<li><strong>åº”ç”¨ç¨‹åºå±‚</strong>ï¼šå¼€å‘äººå‘˜ç¼–å†™çš„ Java ä»£ç ï¼Œé€šè¿‡è°ƒç”¨ JDBC API æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚</li>
<li><strong>é©±åŠ¨ç¨‹åºå±‚</strong>ï¼šè´Ÿè´£ä¸å…·ä½“çš„æ•°æ®åº“è¿›è¡Œé€šä¿¡ï¼Œå°† JDBC API è°ƒç”¨è½¬æ¢ä¸ºæ•°æ®åº“èƒ½å¤Ÿç†è§£çš„æŒ‡ä»¤ã€‚ä¸åŒçš„æ•°æ®åº“éœ€è¦ä¸åŒçš„ JDBC é©±åŠ¨ç¨‹åºï¼Œä¾‹å¦‚ MySQL æœ‰ MySQL Connector/J é©±åŠ¨ï¼ŒOracle æœ‰ Oracle JDBC é©±åŠ¨ç­‰ã€‚</li>
</ul>
<h2 id="æ ¸å¿ƒç»„ä»¶"><a href="#æ ¸å¿ƒç»„ä»¶" class="headerlink" title="æ ¸å¿ƒç»„ä»¶"></a>æ ¸å¿ƒç»„ä»¶</h2><p>JDBC çš„æ ¸å¿ƒç»„ä»¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¥å£å’Œç±»ï¼š</p>
<ul>
<li><strong>DriverManager</strong>ï¼šè¿™æ˜¯ JDBC çš„ç®¡ç†å±‚ï¼Œè´Ÿè´£åŠ è½½ JDBC é©±åŠ¨ç¨‹åºå¹¶å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ã€‚å®ƒä¼šæ ¹æ®ä¸åŒçš„æ•°æ®åº“ URL æ¥é€‰æ‹©åˆé€‚çš„é©±åŠ¨ç¨‹åºï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>Connection</code> å¯¹è±¡ã€‚</li>
<li><strong>Connection</strong>ï¼šä»£è¡¨ä¸æ•°æ®åº“çš„ä¸€ä¸ªè¿æ¥ä¼šè¯ï¼Œé€šè¿‡ <code>DriverManager.getConnection()</code> æ–¹æ³•è·å–ã€‚ä¸€ä¸ª <code>Connection</code> å¯¹è±¡å¯ä»¥åˆ›å»ºå¤šä¸ª <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œ SQL è¯­å¥ã€‚</li>
<li><strong>Statement</strong>ï¼šç”¨äºæ‰§è¡Œé™æ€ SQL è¯­å¥ï¼Œå®ƒå¯ä»¥æ‰§è¡ŒæŸ¥è¯¢ã€æ›´æ–°ç­‰æ“ä½œã€‚ä½†ç”±äºå­˜åœ¨ SQL æ³¨å…¥çš„é£é™©ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘ã€‚</li>
<li><strong>PreparedStatement</strong>ï¼šæ˜¯ <code>Statement</code> çš„å­æ¥å£ï¼Œç”¨äºæ‰§è¡Œé¢„ç¼–è¯‘çš„ SQL è¯­å¥ã€‚å®ƒå¯ä»¥æœ‰æ•ˆé˜²æ­¢ SQL æ³¨å…¥æ”»å‡»ï¼Œå¹¶ä¸”å¯¹äºéœ€è¦å¤šæ¬¡æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œæ€§èƒ½æ›´é«˜ã€‚</li>
<li><strong>ResultSet</strong>ï¼šç”¨äºå­˜å‚¨ SQL æŸ¥è¯¢çš„ç»“æœé›†ã€‚å½“æ‰§è¡ŒæŸ¥è¯¢è¯­å¥åï¼Œä¼šè¿”å›ä¸€ä¸ª <code>ResultSet</code> å¯¹è±¡ï¼Œé€šè¿‡å®ƒå¯ä»¥éå†æŸ¥è¯¢ç»“æœï¼Œè·å–æ¯ä¸€è¡Œçš„æ•°æ®ã€‚</li>
</ul>
<h2 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h2><p>ä½¿ç”¨ JDBC è¿›è¡Œæ•°æ®åº“æ“ä½œä¸€èˆ¬éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><p><strong>åŠ è½½ JDBC é©±åŠ¨ç¨‹åº</strong>ï¼šé€šè¿‡ <code>Class.forName()</code> æ–¹æ³•åŠ è½½ç›¸åº”çš„ JDBC é©±åŠ¨ç±»ã€‚ä¾‹å¦‚ï¼ŒåŠ è½½ MySQL é©±åŠ¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å»ºç«‹æ•°æ®åº“è¿æ¥</strong>ï¼šä½¿ç”¨ <code>DriverManager.getConnection()</code> æ–¹æ³•å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œéœ€è¦æä¾›æ•°æ®åº“çš„ URLã€ç”¨æˆ·åå’Œå¯†ç ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/mydb"</span>;</span><br><span class="line">String username = <span class="string">"root"</span>;</span><br><span class="line">String password = <span class="string">"password"</span>;</span><br><span class="line">Connection connection = DriverManager.getConnection(url, username, password);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åˆ›å»º <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡</strong>ï¼šæ ¹æ®éœ€è¦æ‰§è¡Œçš„ SQL è¯­å¥ç±»å‹ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ›å»º <code>PreparedStatement</code> å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql = <span class="string">"SELECT * FROM users WHERE id = ?"</span>;</span><br><span class="line">PreparedStatement preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">preparedStatement.setInt(<span class="number">1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰§è¡Œ SQL è¯­å¥</strong>ï¼šè°ƒç”¨ <code>Statement</code> æˆ– <code>PreparedStatement</code> å¯¹è±¡çš„ <code>executeQuery()</code> æ–¹æ³•æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œæˆ– <code>executeUpdate()</code> æ–¹æ³•æ‰§è¡Œæ›´æ–°è¯­å¥ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ResultSet resultSet = preparedStatement.executeQuery();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¤„ç†æŸ¥è¯¢ç»“æœ</strong>ï¼šå¦‚æœæ‰§è¡Œçš„æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œéœ€è¦éå† <code>ResultSet</code> å¯¹è±¡è·å–æŸ¥è¯¢ç»“æœã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">    <span class="keyword">int</span> id = resultSet.getInt(<span class="string">"id"</span>);</span><br><span class="line">    String name = resultSet.getString(<span class="string">"name"</span>);</span><br><span class="line">    System.out.println(<span class="string">"ID: "</span> + id + <span class="string">", Name: "</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å…³é—­èµ„æº</strong>ï¼šæ“ä½œå®Œæˆåï¼Œéœ€è¦ä¾æ¬¡å…³é—­ <code>ResultSet</code>ã€<code>Statement</code> å’Œ <code>Connection</code> å¯¹è±¡ï¼Œä»¥é‡Šæ”¾èµ„æºã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.close();</span><br><span class="line">preparedStatement.close();</span><br><span class="line">connection.close();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><ul>
<li><strong>ä¼˜ç‚¹</strong><ul>
<li><strong>é€šç”¨æ€§</strong>ï¼šæä¾›äº†ç»Ÿä¸€çš„ APIï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ä»£ç ç»“æ„æ¥è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Œæé«˜äº†ä»£ç çš„å¯ç§»æ¤æ€§ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥æ‰§è¡Œä»»æ„çš„ SQL è¯­å¥ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œå„ç§æ“ä½œï¼Œæ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šå¯¹äºç®€å•çš„æ•°æ®åº“æ“ä½œï¼ŒJDBC å…·æœ‰è¾ƒé«˜çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒç›´æ¥ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œæ²¡æœ‰è¿‡å¤šçš„ä¸­é—´å±‚ã€‚</li>
</ul>
</li>
<li><strong>ç¼ºç‚¹</strong><ul>
<li><strong>ä»£ç ç¹ç</strong>ï¼šä½¿ç”¨ JDBC è¿›è¡Œæ•°æ®åº“æ“ä½œéœ€è¦ç¼–å†™å¤§é‡çš„æ ·æ¿ä»£ç ï¼Œå¦‚åŠ è½½é©±åŠ¨ã€å»ºç«‹è¿æ¥ã€å…³é—­èµ„æºç­‰ï¼Œå¢åŠ äº†å¼€å‘çš„å·¥ä½œé‡ã€‚</li>
<li><strong>ç¼ºä¹é«˜çº§ç‰¹æ€§</strong>ï¼šJDBC æœ¬èº«ä¸æä¾›å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰ç­‰é«˜çº§ç‰¹æ€§ï¼Œå¯¹äºå¤æ‚çš„æ•°æ®åº“æ“ä½œï¼Œå¼€å‘äººå‘˜éœ€è¦æ‰‹åŠ¨ç¼–å†™å¤§é‡çš„ SQL è¯­å¥å’Œæ•°æ®è½¬æ¢ä»£ç ã€‚ </li>
</ul>
</li>
</ul>

      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
            
              <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
            
              <a href="/tags/NA/" rel="tag"><i class="fa fa-tag"></i> NA</a>
            
              <a href="/tags/SpringBoot/" rel="tag"><i class="fa fa-tag"></i> SpringBoot</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/na_word_list/" rel="next" title="IT Word List">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    IT Word List
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/ssr_server/" rel="prev" title="SSR server">
                <p class="post-nav-pre-next-title">
                    SSR server
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒé“¾æ¥"><span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#real-questions"><span class="nav-text">real questions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-Restful-APIçœŸé¢˜"><span class="nav-text">Spring Restful APIçœŸé¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#write-a-rest-controller"><span class="nav-text">write a rest controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#write-a-Transactional-example"><span class="nav-text">write a @Transactional example</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸»è¦ä½œç”¨"><span class="nav-text">ä¸»è¦ä½œç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¸ç”¨å±æ€§"><span class="nav-text">å¸¸ç”¨å±æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç "><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é»˜è®¤å›æ»šè§„åˆ™"><span class="nav-text">é»˜è®¤å›æ»šè§„åˆ™</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¤ºä¾‹è¯´æ˜"><span class="nav-text">ç¤ºä¾‹è¯´æ˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŒ‡å®š-rollbackFor-çš„æƒ…å†µ"><span class="nav-text">æŒ‡å®š rollbackFor çš„æƒ…å†µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ€»ç»“"><span class="nav-text">æ€»ç»“</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-interceptoræ‹¦æˆªå™¨"><span class="nav-text">Spring interceptoræ‹¦æˆªå™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å®ç°åŸç†"><span class="nav-text">å®ç°åŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç -1"><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-å®ç°æ‹¦æˆªå™¨"><span class="nav-text">1. å®ç°æ‹¦æˆªå™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-é…ç½®æ‹¦æˆªå™¨"><span class="nav-text">2. é…ç½®æ‹¦æˆªå™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-åˆ›å»ºæ§åˆ¶å™¨"><span class="nav-text">3. åˆ›å»ºæ§åˆ¶å™¨</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»£ç è§£é‡Š"><span class="nav-text">ä»£ç è§£é‡Š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¿è¡Œç¤ºä¾‹"><span class="nav-text">è¿è¡Œç¤ºä¾‹</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-Annotations"><span class="nav-text">Spring Annotations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Controller-vs-RestController"><span class="nav-text">@Controller vs @RestController</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Controller-Example-Returning-a-View"><span class="nav-text">1. @Controller Example (Returning a View)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-RestController-Example-Returning-JSON"><span class="nav-text">2. @RestController Example (Returning JSON)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-When-to-Use-Controller-vs-RestController"><span class="nav-text">3. When to Use @Controller vs @RestController?</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring"><span class="nav-text">Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Different-ways-of-DI"><span class="nav-text">Different ways of DI</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Constructor-Injection"><span class="nav-text">1. Constructor Injection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Setter-Injection"><span class="nav-text">2. Setter Injection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Interface-Injection"><span class="nav-text">3. Interface Injection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Field-Injection"><span class="nav-text">4. Field Injection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparison"><span class="nav-text">Comparison</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#how-to-solve-Circular-Dependency"><span class="nav-text">how to solve Circular Dependency</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Use-Setter-Injection-Instead-of-Constructor-Injection"><span class="nav-text">2. Use Setter Injection Instead of Constructor Injection</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Use-a-Factory-Pattern"><span class="nav-text">3. Use a Factory Pattern</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Use-Lazy-Initialization"><span class="nav-text">4. Use Lazy Initialization</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scopeæœ‰å“ªäº›ç±»å‹"><span class="nav-text">scopeæœ‰å“ªäº›ç±»å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Spring-ä¸­-scope-çš„ç±»å‹"><span class="nav-text">1. Spring ä¸­ scope çš„ç±»å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ1ï¼‰singletonï¼ˆå•ä¾‹ï¼‰"><span class="nav-text">ï¼ˆ1ï¼‰singletonï¼ˆå•ä¾‹ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ2ï¼‰prototypeï¼ˆåŸå‹ï¼‰"><span class="nav-text">ï¼ˆ2ï¼‰prototypeï¼ˆåŸå‹ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ3ï¼‰requestï¼ˆè¯·æ±‚ï¼‰"><span class="nav-text">ï¼ˆ3ï¼‰requestï¼ˆè¯·æ±‚ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ4ï¼‰sessionï¼ˆä¼šè¯ï¼‰"><span class="nav-text">ï¼ˆ4ï¼‰sessionï¼ˆä¼šè¯ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ5ï¼‰applicationï¼ˆåº”ç”¨ï¼‰"><span class="nav-text">ï¼ˆ5ï¼‰applicationï¼ˆåº”ç”¨ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ6ï¼‰websocketï¼ˆWebSocketï¼‰"><span class="nav-text">ï¼ˆ6ï¼‰websocketï¼ˆWebSocketï¼‰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-å°†-prototype-Bean-æ³¨å…¥åˆ°-singleton-Bean-ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ"><span class="nav-text">2. å°† prototype Bean æ³¨å…¥åˆ° singleton Bean ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º"><span class="nav-text">ï¼ˆ1ï¼‰é»˜è®¤è¡Œä¸º</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç "><span class="nav-text">ï¼ˆ2ï¼‰ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ3ï¼‰ä»£ç è§£é‡Š"><span class="nav-text">ï¼ˆ3ï¼‰ä»£ç è§£é‡Š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ"><span class="nav-text">ï¼ˆ4ï¼‰è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP"><span class="nav-text">AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç›¸å…³æ¦‚å¿µ"><span class="nav-text">ç›¸å…³æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç -2"><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç è§£é‡Š-1"><span class="nav-text">ä»£ç è§£é‡Š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿è¡Œç»“æœ"><span class="nav-text">è¿è¡Œç»“æœ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸"><span class="nav-text">æ€ä¹ˆå¤„ç†Controllerçš„å¼‚å¸¸</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ExceptionHandler"><span class="nav-text">@ExceptionHandler</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç -3"><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»£ç è§£é‡Š-2"><span class="nav-text">ä»£ç è§£é‡Š</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ControllerAdvice"><span class="nav-text">@ControllerAdvice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç -4"><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»£ç è§£é‡Š-3"><span class="nav-text">ä»£ç è§£é‡Š</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»“åˆä½¿ç”¨"><span class="nav-text">ç»“åˆä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¤ºä¾‹ä»£ç -5"><span class="nav-text">ç¤ºä¾‹ä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»£ç è§£é‡Š-4"><span class="nav-text">ä»£ç è§£é‡Š</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring-çš„beanæ˜¯å•¥æ„æ€"><span class="nav-text">spring çš„beanæ˜¯å•¥æ„æ€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å®šä¹‰ä¸æœ¬è´¨"><span class="nav-text">å®šä¹‰ä¸æœ¬è´¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„åˆ›å»ºæ–¹å¼"><span class="nav-text">Bean çš„åˆ›å»ºæ–¹å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„ç”Ÿå‘½å‘¨æœŸ"><span class="nav-text">Bean çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„ä½œç”¨åŸŸ"><span class="nav-text">Bean çš„ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean-çš„æ„ä¹‰å’Œä¼˜åŠ¿"><span class="nav-text">Bean çš„æ„ä¹‰å’Œä¼˜åŠ¿</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring-coreå’Œspringbootå’Œspring-jpaå’Œspring-restå’Œspring-security-çš„åŒºåˆ«"><span class="nav-text">spring coreå’Œspringbootå’Œspring jpaå’Œspring restå’Œspring security çš„åŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Core"><span class="nav-text">Spring Core</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Boot"><span class="nav-text">Spring Boot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-JPA"><span class="nav-text">Spring JPA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-REST"><span class="nav-text">Spring REST</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Security"><span class="nav-text">Spring Security</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€»ç»“-1"><span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-relationship-between-Servlet-and-TomCat"><span class="nav-text">the relationship between Servlet and TomCat</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Specification-and-implementation-relationship"><span class="nav-text">Specification and implementation relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Running-carrier-relationship"><span class="nav-text">Running carrier relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interaction-and-collaboration-relationship"><span class="nav-text">Interaction and collaboration relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Development-and-deployment-relationship"><span class="nav-text">Development and deployment relationship</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#J2EE-vs-Spring"><span class="nav-text">J2EE vs Spring</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-JPAå’ŒMyBatisåŒºåˆ«"><span class="nav-text">Spring JPAå’ŒMyBatisåŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-è®¾è®¡ç†å¿µ"><span class="nav-text">1. è®¾è®¡ç†å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-SQL-æ§åˆ¶ç¨‹åº¦"><span class="nav-text">2. SQL æ§åˆ¶ç¨‹åº¦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-å­¦ä¹ æˆæœ¬"><span class="nav-text">3. å­¦ä¹ æˆæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-æ€§èƒ½è¡¨ç°"><span class="nav-text">4. æ€§èƒ½è¡¨ç°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-é€‚ç”¨åœºæ™¯"><span class="nav-text">5. é€‚ç”¨åœºæ™¯</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æš´åŠ›åå°„æ˜¯å•¥"><span class="nav-text">æš´åŠ›åå°„æ˜¯å•¥</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Beanå’Œ-ComponentåŒºåˆ«"><span class="nav-text">@Beanå’Œ@ComponentåŒºåˆ«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½œç”¨å±‚é¢"><span class="nav-text">ä½œç”¨å±‚é¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨æ–¹å¼"><span class="nav-text">ä½¿ç”¨æ–¹å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çµæ´»æ€§"><span class="nav-text">çµæ´»æ€§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”Ÿå‘½å‘¨æœŸç®¡ç†"><span class="nav-text">ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ³¨è§£å¼€å‘æ€»ç»“"><span class="nav-text">æ³¨è§£å¼€å‘æ€»ç»“</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jdbcæ˜¯å•¥"><span class="nav-text">jdbcæ˜¯å•¥</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¦‚å¿µ"><span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å·¥ä½œåŸç†"><span class="nav-text">å·¥ä½œåŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ ¸å¿ƒç»„ä»¶"><span class="nav-text">æ ¸å¿ƒç»„ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨æ­¥éª¤"><span class="nav-text">ä½¿ç”¨æ­¥éª¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¼˜ç¼ºç‚¹"><span class="nav-text">ä¼˜ç¼ºç‚¹</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
