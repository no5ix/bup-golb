<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = '' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:type" content="website">
<meta property="og:title" content="ğŸš™">
<meta property="og:url" content="https://hulinhong.com/page/34/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ğŸš™">
<meta name="twitter:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>ğŸš™ - ğŸ’¨ ğŸ’¨ ğŸ’¨</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/MySQLå…¥é—¨ä¸€ä¹‹å¢åˆ æŸ¥æ”¹ä¸å…³è”/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/MySQLå…¥é—¨ä¸€ä¹‹å¢åˆ æŸ¥æ”¹ä¸å…³è”/" itemprop="url">MySQLå…¥é—¨ä¸€ä¹‹å¢åˆ æŸ¥æ”¹ä¸å…³è”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-27T22:51:11+00:00">
                02-27-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DB/" itemprop="url" rel="index">
                    <span itemprop="name">DB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="å¢åˆ æ”¹æŸ¥"><a href="#å¢åˆ æ”¹æŸ¥" class="headerlink" title="å¢åˆ æ”¹æŸ¥"></a>å¢åˆ æ”¹æŸ¥</h1><ul>
<li><p>INSERT INTO table_name (åˆ—1, åˆ—2,â€¦) VALUES (å€¼1, å€¼2,â€¦.)</p>
</li>
<li><p>DELETE FROM è¡¨åç§° WHERE åˆ—åç§° = å€¼</p>
</li>
<li><p>UPDATE è¡¨åç§° SET åˆ—åç§° = æ–°å€¼ WHERE åˆ—åç§° = æŸå€¼</p>
</li>
<li><p>SELECT åˆ—åç§° FROM è¡¨åç§°</p>
</li>
</ul>
<h1 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h1><p>SQL join ç”¨äºæ ¹æ®ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­çš„åˆ—ä¹‹é—´çš„å…³ç³»ï¼Œä»è¿™äº›è¡¨ä¸­æŸ¥è¯¢æ•°æ®ã€‚</p>
<h2 id="Joinå’ŒKeyæ¦‚ç»"><a href="#Joinå’ŒKeyæ¦‚ç»" class="headerlink" title="Joinå’ŒKeyæ¦‚ç»"></a>Joinå’ŒKeyæ¦‚ç»</h2><p>æœ‰æ—¶ä¸ºäº†å¾—åˆ°å®Œæ•´çš„ç»“æœï¼Œæˆ‘ä»¬éœ€è¦ä»ä¸¤ä¸ªæˆ–æ›´å¤šçš„è¡¨ä¸­è·å–ç»“æœã€‚æˆ‘ä»¬å°±éœ€è¦æ‰§è¡Œ joinã€‚<br>æ•°æ®åº“ä¸­çš„è¡¨å¯é€šè¿‡é”®å°†å½¼æ­¤è”ç³»èµ·æ¥ã€‚ä¸»é”®ï¼ˆPrimary Keyï¼‰æ˜¯ä¸€ä¸ªåˆ—ï¼Œåœ¨è¿™ä¸ªåˆ—ä¸­çš„æ¯ä¸€è¡Œçš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚åœ¨è¡¨ä¸­ï¼Œæ¯ä¸ªä¸»é”®çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯åœ¨ä¸é‡å¤æ¯ä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®çš„æƒ…å†µä¸‹ï¼ŒæŠŠè¡¨é—´çš„æ•°æ®äº¤å‰æ†ç»‘åœ¨ä¸€èµ·ã€‚<br>è¯·çœ‹ â€œPersonsâ€ è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>Id_P</th>
<th>LastName</th>
<th>FirstName</th>
<th>Address</th>
<th>City</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Adams</td>
<td>John</td>
<td>Oxford Street</td>
<td>London</td>
</tr>
<tr>
<td>2</td>
<td>Bush</td>
<td>George</td>
<td>Fifth Avenue</td>
<td>New York</td>
</tr>
<tr>
<td>3</td>
<td>Carter</td>
<td>Thomas</td>
<td>Changan Street</td>
<td>Beijing</td>
</tr>
</tbody>
</table>
<p>è¯·æ³¨æ„ï¼Œâ€Id_Pâ€ åˆ—æ˜¯ Persons è¡¨ä¸­çš„çš„ä¸»é”®ã€‚è¿™æ„å‘³ç€æ²¡æœ‰ä¸¤è¡Œèƒ½å¤Ÿæ‹¥æœ‰ç›¸åŒçš„ Id_Pã€‚å³ä½¿ä¸¤ä¸ªäººçš„å§“åå®Œå…¨ç›¸åŒï¼ŒId_P ä¹Ÿå¯ä»¥åŒºåˆ†ä»–ä»¬ã€‚<br>æ¥ä¸‹æ¥è¯·çœ‹ â€œOrdersâ€ è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>Id_O</th>
<th>OrderNo</th>
<th>Id_P</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>77895</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>44678</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>22456</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>24562</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>34764</td>
<td>65</td>
</tr>
</tbody>
</table>
<p>è¯·æ³¨æ„ï¼Œâ€Id_Oâ€ åˆ—æ˜¯ Orders è¡¨ä¸­çš„çš„ä¸»é”®ï¼ŒåŒæ—¶ï¼Œâ€Ordersâ€ è¡¨ä¸­çš„ â€œId_Pâ€ åˆ—ç”¨äºå¼•ç”¨ â€œPersonsâ€ è¡¨ä¸­çš„äººï¼Œè€Œæ— éœ€ä½¿ç”¨ä»–ä»¬çš„ç¡®åˆ‡å§“åã€‚<br>è¯·ç•™æ„ï¼Œâ€Id_Pâ€ åˆ—æŠŠä¸Šé¢çš„ä¸¤ä¸ªè¡¨è”ç³»äº†èµ·æ¥ã€‚</p>
<p>ä¸‹é¢åˆ—å‡ºäº†æ‚¨å¯ä»¥ä½¿ç”¨çš„ JOIN ç±»å‹ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<ul>
<li>JOIN(INNER JOIN): å¦‚æœå·¦å³è¡¨ä¸­éƒ½æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ</li>
<li>LEFT JOIN: å³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å·¦è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ</li>
<li>RIGHT JOIN: å³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å³è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ</li>
<li>FULL JOIN: åªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œå°±è¿”å›è¡Œ</li>
</ul>
<p><strong>æ³¨</strong> : JOINä½¿ç”¨onçš„, è€Œä¸æ˜¯where.</p>
<h2 id="ä½¿ç”¨Join-INNER-JOIN"><a href="#ä½¿ç”¨Join-INNER-JOIN" class="headerlink" title="ä½¿ç”¨Join(INNER JOIN)"></a>ä½¿ç”¨Join(INNER JOIN)</h2><p>é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å…³é”®è¯ JOIN æ¥ä»ä¸¤ä¸ªè¡¨ä¸­è·å–æ•°æ®ã€‚<br>å¦‚æœæˆ‘ä»¬å¸Œæœ›åˆ—å‡ºæ‰€æœ‰äººçš„å®šè´­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">INNER JOIN Orders</span><br><span class="line">ON Persons.Id_P = Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName</span><br></pre></td></tr></table></figure></p>
<p>ç»“æœé›†ï¼š</p>
<table>
<thead>
<tr>
<th>LastName</th>
<th>FirstName</th>
<th>OrderNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adams</td>
<td>John</td>
<td>22456</td>
</tr>
<tr>
<td>Adams</td>
<td>John</td>
<td>24562</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>77895</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>44678</td>
</tr>
</tbody>
</table>
<h2 id="ä½¿ç”¨Left-Join"><a href="#ä½¿ç”¨Left-Join" class="headerlink" title="ä½¿ç”¨Left Join"></a>ä½¿ç”¨Left Join</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ—å‡ºæ‰€æœ‰çš„äººï¼Œä»¥åŠä»–ä»¬çš„å®šè´­ - å¦‚æœæœ‰çš„è¯ã€‚<br>æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">LEFT JOIN Orders</span><br><span class="line">ON Persons.Id_P=Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName</span><br></pre></td></tr></table></figure></p>
<p>ç»“æœé›†ï¼š</p>
<table>
<thead>
<tr>
<th>LastName</th>
<th>FirstName</th>
<th>OrderNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adams</td>
<td>John</td>
<td>22456</td>
</tr>
<tr>
<td>Adams</td>
<td>John</td>
<td>24562</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>77895</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>44678</td>
</tr>
<tr>
<td>Bush</td>
<td>George</td>
<td>- - - -</td>
</tr>
</tbody>
</table>
<p>LEFT JOIN å…³é”®å­—ä¼šä»å·¦è¡¨ (Persons) é‚£é‡Œè¿”å›æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿åœ¨å³è¡¨ (Orders) ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œã€‚</p>
<h2 id="ä½¿ç”¨Right-Join"><a href="#ä½¿ç”¨Right-Join" class="headerlink" title="ä½¿ç”¨Right Join"></a>ä½¿ç”¨Right Join</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ—å‡ºæ‰€æœ‰çš„å®šå•ï¼Œä»¥åŠå®šè´­å®ƒä»¬çš„äºº - å¦‚æœæœ‰çš„è¯ã€‚<br>æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">RIGHT JOIN Orders</span><br><span class="line">ON Persons.Id_P=Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName</span><br></pre></td></tr></table></figure></p>
<p>ç»“æœé›†ï¼š</p>
<table>
<thead>
<tr>
<th>LastName</th>
<th>FirstName</th>
<th>OrderNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adams</td>
<td>John</td>
<td>22456</td>
</tr>
<tr>
<td>Adams</td>
<td>John</td>
<td>24562</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>77895</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>44678</td>
</tr>
<tr>
<td></td>
<td></td>
<td>34764</td>
</tr>
</tbody>
</table>
<p>RIGHT JOIN å…³é”®å­—ä¼šä»å³è¡¨ (Orders) é‚£é‡Œè¿”å›æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿åœ¨å·¦è¡¨ (Persons) ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œã€‚</p>
<h2 id="ä½¿ç”¨Full-Join"><a href="#ä½¿ç”¨Full-Join" class="headerlink" title="ä½¿ç”¨Full Join"></a>ä½¿ç”¨Full Join</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ—å‡ºæ‰€æœ‰çš„äººï¼Œä»¥åŠä»–ä»¬çš„å®šå•ï¼Œä»¥åŠæ‰€æœ‰çš„å®šå•ï¼Œä»¥åŠå®šè´­å®ƒä»¬çš„äººã€‚<br>æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">FULL JOIN Orders</span><br><span class="line">ON Persons.Id_P=Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName</span><br></pre></td></tr></table></figure></p>
<p>ç»“æœé›†ï¼š</p>
<table>
<thead>
<tr>
<th>LastName</th>
<th>FirstName</th>
<th>OrderNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adams</td>
<td>John</td>
<td>22456</td>
</tr>
<tr>
<td>Adams</td>
<td>John</td>
<td>24562</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>77895</td>
</tr>
<tr>
<td>Carter</td>
<td>Thomas</td>
<td>44678</td>
</tr>
<tr>
<td>Bush</td>
<td>George</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>34764</td>
</tr>
</tbody>
</table>
<p>FULL JOIN å…³é”®å­—ä¼šä»å·¦è¡¨ (Persons) å’Œå³è¡¨ (Orders) é‚£é‡Œè¿”å›æ‰€æœ‰çš„è¡Œã€‚å¦‚æœ â€œPersonsâ€ ä¸­çš„è¡Œåœ¨è¡¨ â€œOrdersâ€ ä¸­æ²¡æœ‰åŒ¹é…ï¼Œæˆ–è€…å¦‚æœ â€œOrdersâ€ ä¸­çš„è¡Œåœ¨è¡¨ â€œPersonsâ€ ä¸­æ²¡æœ‰åŒ¹é…ï¼Œè¿™äº›è¡ŒåŒæ ·ä¼šåˆ—å‡ºã€‚</p>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/protobuf_tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/protobuf_tutorial/" itemprop="url">ProtoBufçš„å®‰è£…ä¸ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-23T12:06:56+00:00">
                02-23-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>ä¸ JSON ç›¸æ¯”ï¼Œ Protobuf çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„é€Ÿåº¦æ›´å¿«ï¼Œè€Œä¸”ä¼ è¾“çš„æ•°æ®ä¼šå…ˆå‹ç¼©ï¼Œ<br>ä½¿å¾—ä¼ è¾“çš„æ•ˆç‡æ›´é«˜äº› ã€‚<br>Protobuf ï¼Œ å…¨ç§° Protocol Buffer ï¼Œ æ˜¯ Google å…¬å¸å†…éƒ¨çš„æ··åˆè¯­è¨€æ•°æ®æ ‡å‡†ï¼Œæ˜¯ä¸€ç§è½»ä¾¿<br>é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¯ä»¥ç”¨äºç»“æ„åŒ–æ•°æ®ä¸²è¡ŒåŒ–ï¼Œæˆ–è€…è¯´åºåˆ—åŒ–ã€‚ å®ƒå¾ˆé€‚åˆåšæ•°æ®<br>å­˜å‚¨æˆ– RPC æ•°æ®äº¤æ¢æ ¼å¼ ã€‚ Protobufæ˜¯å¯ç”¨äºé€šä¿¡åè®®ã€æ•°æ®å­˜å‚¨ç­‰é¢†åŸŸçš„è¯­è¨€æ— å…³ã€å¹³å°<br>æ— å…³ã€å¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„æ•°æ®æ ¼å¼ ã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>è°·æ­Œçš„ä¸œè¥¿è¦æƒ³åœ¨å¤§é™†å®‰è£…èµ·æ¥æ€»æ˜¯æœ‰ç‚¹é‚£å•¥, ä½ æ‡‚çš„.</p>
<h2 id="éœ€è¦çš„ä¾èµ–"><a href="#éœ€è¦çš„ä¾èµ–" class="headerlink" title="éœ€è¦çš„ä¾èµ–"></a>éœ€è¦çš„ä¾èµ–</h2><pre><code>sudo apt-get install curl

sudo apt-get install autoconf autogen

sudo apt-get install libtool
</code></pre><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><p>ä¸‹è½½è‡ªgithubçš„ä»£ç éœ€è¦é¦–å…ˆæ‰§è¡Œ $ ./autogen.sh ç”Ÿæˆconfigureæ–‡ä»¶ </p>
<p>æ³¨æ„autogen.sh éœ€è¦gteståŒ…ï¼Œé»˜è®¤æ˜¯ä» googletest.googlecode.comä¸‹è½½ï¼Œå›½å†…éœ€è¦ç¿»å¢™æ‰èƒ½è®¿é—®ï¼Œå¾ˆå¤šäººé—®autogen.shè¿è¡Œå¤±è´¥ï¼Œè¿™é‡Œæˆ‘è¡¥å……ä¸€ä¸‹ </p>
<p>ä¿®æ”¹ä¸€ä¸‹autogen.sh , å°†è¿™æ®µ:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;Google Test not present.  Fetching gtest-1.5.0 from the web...&quot;</span><br><span class="line">curl http://googletest.googlecode.com/files/gtest-1.5.0.tar.bz2 | tar jx</span><br><span class="line">mv gtest-1.5.0 gtest</span><br></pre></td></tr></table></figure></p>
<p>ä¿®æ”¹ä¸º:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https://github.com/google/googletest/archive/release-1.5.0.tar.gz</span><br><span class="line">tar xzvf release-1.5.0.tar.gz</span><br><span class="line">mv googletest-release-1.5.0 gtest</span><br></pre></td></tr></table></figure></p>
<p>å†æ‰§è¡Œ autogen.shï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†</p>
<pre><code>$ ./configure
$ make
$ make check
$ make install
</code></pre><p>é»˜è®¤æ˜¯è£…åœ¨</p>
<pre><code>usr/local/bin
usr/local/lib,
usr/local/include 
</code></pre><h2 id="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</h2><pre><code>protoc --version
</code></pre><p>å¦‚æœå®‰è£…æˆåŠŸ,ä¼šå‡ºç°ç‰ˆæœ¬å· å¦‚</p>
<pre><code>libprotoc 2.6.1
</code></pre><p>å¦‚æœæœ‰é—®é¢˜ï¼Œä¼šè¾“å‡ºé”™è¯¯å†…å®¹, æœ€åæˆ‘å®‰è£…å®Œæˆ,ç”¨ä¸Šè¿°å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬å·æ—¶å‡ºç°å¦‚ä¸‹é—®é¢˜</p>
<pre><code>protoc: error while loading shared libraries: libprotocbuf.so.9: cannot open shared
</code></pre><p>é”™è¯¯åŸå› </p>
<p>protobufçš„é»˜è®¤å®‰è£…è·¯å¾„æ˜¯/usr/local/lib,è€Œ/usr/local/libä¸åœ¨ubuntuä½“ç³»é»˜è®¤çš„LD_LIBRARY_PATHé‡Œ,æ‰€ä»¥å°±æ‰¾ä¸åˆ°lib</p>
<p>è§£å†³åŠæ³• : </p>
<p>1 - åœ¨ /etc/ld.so.conf.d/ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ bprotobuf.confæ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<p><code>/usr/local/lib</code></p>
<p>2 - è¾“å…¥å‘½ä»¤</p>
<pre><code>sudo ldconfig
</code></pre><p>è¿™æ—¶,å†è¾“å…¥<code>protoc --version</code>å°±å¯ä»¥æ­£å¸¸çœ‹åˆ°ç‰ˆæœ¬å·äº†</p>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight c++"><figcaption><span>Writer.cpp</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Mymessage.pb.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Im::Content msg1;</span><br><span class="line">	msg1.set_id(<span class="number">101</span>);</span><br><span class="line">	msg1.set_str(<span class="string">"ggsmd"</span>);</span><br><span class="line">	<span class="function">fstream <span class="title">output</span><span class="params">(<span class="string">"./log"</span>, ios::out | ios::trunc | ios::binary)</span></span>; </span><br><span class="line">	<span class="keyword">if</span> (!msg1.SerializeToOstream(&amp;output)) &#123;</span><br><span class="line">		<span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to write msg."</span> &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><figcaption><span>Reader.cpp</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Mymessage.pb.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ListMsg</span><span class="params">(<span class="keyword">const</span> Im::Content &amp; msg)</span></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; msg.id() &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; msg.str() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">	Im::Content msg1;</span><br><span class="line">	<span class="function">fstream <span class="title">input</span><span class="params">(<span class="string">"./log"</span>, ios::in | ios::binary)</span></span>;</span><br><span class="line">	<span class="keyword">if</span> (!msg1.ParseFromIstream(&amp;input)) &#123;</span><br><span class="line">		<span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to parse address book."</span> &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125; </span><br><span class="line">	ListMsg(msg1);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><figcaption><span>makefile</span></figcaption><table><tr><td class="code"><pre><span class="line">INC=/usr/local/include</span><br><span class="line">LIB=/usr/local/lib</span><br><span class="line">lib=protobuf</span><br><span class="line"></span><br><span class="line">all:Writer Reader</span><br><span class="line"></span><br><span class="line">Writer.o:Writer.cpp</span><br><span class="line">	g++ -g -c Writer.cpp -I$(INC) -L$(LIB) -l$(lib)</span><br><span class="line">Reader.o:Reader.cpp</span><br><span class="line">	g++ -g -c Reader.cpp -I$(INC) -L$(LIB) -l$(lib)	</span><br><span class="line"></span><br><span class="line">Writer:Writer.o Mymessage.pb.o </span><br><span class="line">	g++ -g -o Writer Writer.o Mymessage.pb.o -I$(INC) -L$(LIB) -l$(lib)</span><br><span class="line">Reader:Reader.o Mymessage.pb.o </span><br><span class="line">	g++ -g -o Reader Reader.o Mymessage.pb.o -I$(INC) -L$(LIB) -l$(lib)</span><br><span class="line">Mymessage.pb.o:Mymessage.pb.cc</span><br><span class="line">	g++ -g -c Mymessage.pb.cc -I$(INC) -L$(LIB) -l$(lib)	</span><br><span class="line"></span><br><span class="line">clean:Writer Reader Writer.o Reader.o Mymessage.pb.o</span><br><span class="line">	rm Writer Reader Writer.o Reader.o Mymessage.pb.o</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><figcaption><span>Mymessage.proto</span></figcaption><table><tr><td class="code"><pre><span class="line">package Im; </span><br><span class="line">message Content </span><br><span class="line">&#123; </span><br><span class="line">    required int32   id = <span class="number">1</span>;  <span class="comment">// ID </span></span><br><span class="line">    required <span class="built_in">string</span>  str = <span class="number">2</span>;  <span class="comment">// str </span></span><br><span class="line">    optional int32   opt = <span class="number">3</span>;  <span class="comment">//optional field </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰“å°ç»“æœ"><a href="#æ‰“å°ç»“æœ" class="headerlink" title="æ‰“å°ç»“æœ"></a>æ‰“å°ç»“æœ</h2><p>æ‰§è¡Œ<br><code>protoc -I=./ --cpp_out=./ Mymessage.proto</code><br> å‘½ä»¤åï¼Œä¼šç”Ÿæˆ Mymessage.pb.h å’Œ Mymessage.pb.cc æ–‡ä»¶ã€‚ å†æ‰§è¡Œ <code>make</code> å‘½ä»¤ï¼Œç”Ÿæˆ<br>Writer å’Œ Reader æ–‡ä»¶ ã€‚ æ‰§è¡Œ <code>./Writer</code> å‘½ä»¤åï¼Œå†æ‰§è¡Œ<code>./Reader</code> å‘½ä»¤ï¼Œç»ˆç«¯ä¸Šè¾“å‡ºï¼š</p>
<pre><code>b@b-VirtualBox:~/tc$ protoc -I=./ --cpp_out=./ Mymessage.proto
b@b-VirtualBox:~/tc$ ll
total 44
drwxrwxr-x 2 b b  4096  5æœˆ 19 22:43 ./
drwxr-xr-x 4 b b  4096  5æœˆ 19 22:35 ../
-rw-rw-r-- 1 b b   647  5æœˆ 19 22:36 makefile
-rw-rw-r-- 1 b b 12214  5æœˆ 19 22:43 Mymessage.pb.cc
-rw-rw-r-- 1 b b  7762  5æœˆ 19 22:43 Mymessage.pb.h
-rw-rw-r-- 1 b b   161  5æœˆ 19 22:36 Mymessage.proto
-rw-rw-r-- 1 b b   421  5æœˆ 19 22:36 Reader.cpp
-rw-rw-r-- 1 b b   340  5æœˆ 19 22:35 Writer.cpp

b@b-VirtualBox:~/tc$ make
g++ -g -c Writer.cpp -I/home/sharexu/charpter13/1302/include -L/home/sharexu/charpter13/1302/lib -lprotobuf
g++ -g -c Mymessage.pb.cc -I/home/sharexu/charpter13/1302/include -L/home/sharexu/charpter13/1302/lib -lprotobuf    
g++ -g -o Writer Writer.o Mymessage.pb.o -I/home/sharexu/charpter13/1302/include -L/home/sharexu/charpter13/1302/lib -lprotobuf
g++ -g -c Reader.cpp -I/home/sharexu/charpter13/1302/include -L/home/sharexu/charpter13/1302/lib -lprotobuf    
g++ -g -o Reader Reader.o Mymessage.pb.o -I/home/sharexu/charpter13/1302/include -L/home/sharexu/charpter13/1302/lib -lprotobuf

b@b-VirtualBox:~/tc$ ll
total 772
drwxrwxr-x 2 b b   4096  5æœˆ 19 22:43 ./
drwxr-xr-x 4 b b   4096  5æœˆ 19 22:35 ../
-rw-rw-r-- 1 b b    647  5æœˆ 19 22:36 makefile
-rw-rw-r-- 1 b b  12214  5æœˆ 19 22:43 Mymessage.pb.cc
-rw-rw-r-- 1 b b   7762  5æœˆ 19 22:43 Mymessage.pb.h
-rw-rw-r-- 1 b b 244112  5æœˆ 19 22:43 Mymessage.pb.o
-rw-rw-r-- 1 b b    161  5æœˆ 19 22:36 Mymessage.proto
-rwxrwxr-x 1 b b 188430  5æœˆ 19 22:43 Reader*
-rw-rw-r-- 1 b b    421  5æœˆ 19 22:36 Reader.cpp
-rw-rw-r-- 1 b b  57656  5æœˆ 19 22:43 Reader.o
-rwxrwxr-x 1 b b 184244  5æœˆ 19 22:43 Writer*
-rw-rw-r-- 1 b b    340  5æœˆ 19 22:35 Writer.cpp
-rw-rw-r-- 1 b b  59232  5æœˆ 19 22:43 Writer.o

b@b-VirtualBox:~/tc$ ./Writer    

b@b-VirtualBox:~/tc$ ./Reader 
101
ggsmd
</code></pre>
          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/cpp_object_model_conclusion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/cpp_object_model_conclusion/" itemprop="url">C++å¯¹è±¡æ¨¡å‹ä¹‹è™šå‡½æ•°å®ä¾‹è®²è§£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-21T17:49:01+00:00">
                02-21-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>å› ä¸ºc++åªè§„å®šäº† è™šç»§æ‰¿/ è™šå‡½æ•°/ å¤šç»§æ‰¿/ çš„è¡Œä¸º, ä½†å°†å®ç°æ–¹æ³•ç•™ç»™ç¼–è¯‘å™¨ä½œè€…. æ‰€ä»¥å„ä¸ªå¹³å°çš„å®ç°å¹¶ä¸ç›¸åŒ, å¾—å‡ºçš„ç»“æœä¹Ÿä¸å°½ç›¸åŒ.</p>
<p><a href="#æµ‹è¯•å¸¸ç”¨å¹³å°çš„ä¸åŒ">ç»æµ‹è¯•</a>, vså’Œgccç›®å‰æ¯”è¾ƒç»Ÿä¸€çš„æƒ…å†µåªæœ‰2ç§ :</p>
<ul>
<li>æ— ç»§æ‰¿+æ— è™šå‡½æ•°</li>
<li>æ— ç»§æ‰¿+è™šå‡½æ•°</li>
</ul>
<p><strong>æ•…æœ¬æ–‡åªè®¨è®ºè¿™2ç§, ä»¥åŠäº†è§£è™šå‡½æ•°å’Œè™šç»§æ‰¿çš„å«ä¹‰.</strong></p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/pythonä¸­çš„__name__å’Œ__main()__/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/pythonä¸­çš„__name__å’Œ__main()__/" itemprop="url">pythonä¸­çš„__name__å’Œ__main()__</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-10T22:19:29+00:00">
                02-10-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#hello.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">()</span>:</span></span><br><span class="line">    str=<span class="string">"hello"</span></span><br><span class="line">    print(str);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'This is main of module "hello.py"'</span>)</span><br><span class="line">    sayHello()</span><br></pre></td></tr></table></figure>
<p>pythonä½œä¸ºä¸€ç§è„šæœ¬è¯­è¨€ï¼Œæˆ‘ä»¬ç”¨pythonå†™çš„å„ä¸ªmoduleéƒ½å¯ä»¥åŒ…å«ä»¥ä¸Šé‚£ä¹ˆä¸€ä¸ªç´¯æ­»cä¸­çš„mainå‡½æ•°ï¼Œåªä¸è¿‡pythonä¸­çš„è¿™ç§<code>__main__</code>ä¸cä¸­æœ‰ä¸€äº›åŒºåˆ«ï¼Œç±»ä¼¼äºphpçš„é­”æœ¯é‚£ä¸€å¥—, ä¸»è¦ä½“ç°åœ¨ï¼š</p>
<p>1ã€å½“å•ç‹¬æ‰§è¡Œè¯¥moduleæ—¶ï¼Œæ¯”å¦‚å•ç‹¬æ‰§è¡Œä»¥ä¸Šhello.pyï¼š python hello.pyï¼Œåˆ™è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This is main of module &quot;hello.py&quot;</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç†è§£ä¸º<code>&quot;if __name__==&quot;__main__&quot;:&quot;</code>è¿™ä¸€å¥ä¸cä¸­çš„main()å‡½æ•°æ‰€è¡¨è¿°çš„æ˜¯ä¸€è‡´çš„ï¼Œå³ä½œä¸ºå…¥å£ï¼›</p>
<p>2ã€å½“è¯¥moduleè¢«å…¶å®ƒmodule å¼•å…¥ä½¿ç”¨æ—¶ï¼Œå…¶ä¸­çš„<code>&quot;if __name__==&quot;__main__&quot;:&quot;</code></p>
<p>æ‰€è¡¨ç¤ºçš„Blockä¸ä¼šè¢«æ‰§è¡Œ,</p>
<p>è¿™æ˜¯å› ä¸ºæ­¤æ—¶moduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œ</p>
<p>å…¶<code>__name__</code>çš„å€¼å°†å‘ç”Ÿå˜åŒ–ï¼Œ<code>__name__</code>çš„å€¼å°†ä¼šæ˜¯moduleçš„åå­—ã€‚</p>
<p>æ¯”å¦‚åœ¨python shellä¸­import helloåï¼ŒæŸ¥çœ‹<code>hello.__name__</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> hello</span><br><span class="line">hello.__name__</span><br><span class="line"><span class="string">'hello'</span></span><br></pre></td></tr></table></figure>
<p>3ã€å› æ­¤ï¼Œåœ¨pythonä¸­ï¼Œå½“ä¸€ä¸ªmoduleä½œä¸ºæ•´ä½“è¢«æ‰§è¡Œæ—¶,moduel.<strong>name</strong>çš„å€¼å°†æ˜¯<code>&quot;__main__&quot;ï¼›</code></p>
<p>è€Œå½“ä¸€ä¸ªmoduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œ<code>module.__name__</code>å°†æ˜¯moduleè‡ªå·±çš„åå­—ï¼Œ</p>
<p>å½“ç„¶ä¸€ä¸ªmoduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œå…¶æœ¬èº«å¹¶ä¸éœ€è¦ä¸€ä¸ªå¯æ‰§è¡Œçš„å…¥å£mainäº†ã€‚</p>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ä¹‹ifå’Œifdefå’Œifdefinedä¹‹é—´çš„åŒºåˆ«/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ä¹‹ifå’Œifdefå’Œifdefinedä¹‹é—´çš„åŒºåˆ«/" itemprop="url">æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ä¹‹#ifå’Œ#ifdefå’Œ#if definedä¹‹é—´çš„åŒºåˆ«</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-09T17:24:19+00:00">
                02-09-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="ifçš„ä½¿ç”¨è¯´æ˜"><a href="#ifçš„ä½¿ç”¨è¯´æ˜" class="headerlink" title="#ifçš„ä½¿ç”¨è¯´æ˜"></a>#ifçš„ä½¿ç”¨è¯´æ˜</h1><p>#ifçš„åé¢æ¥çš„æ˜¯è¡¨è¾¾å¼ : </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> (MAX==10)||(MAX==20)</span></span><br><span class="line"> code...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>å®ƒçš„ä½œç”¨æ˜¯ï¼šå¦‚æœ(MAX==10)||(MAX==20)æˆç«‹ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæŠŠå…¶ä¸­çš„#if ä¸ #endifä¹‹é—´çš„ä»£ç ç¼–è¯‘è¿›å»ï¼ˆæ³¨æ„ï¼šæ˜¯ç¼–è¯‘è¿›å»ï¼Œä¸æ˜¯æ‰§è¡Œï¼ï¼ï¼‰</p>
<h1 id="if-definedçš„ä½¿ç”¨"><a href="#if-definedçš„ä½¿ç”¨" class="headerlink" title="#if definedçš„ä½¿ç”¨"></a>#if definedçš„ä½¿ç”¨</h1><p>#ifåé¢æ¥çš„æ˜¯ä¸€ä¸ªå®, è€Œ#if define(x)çš„ä½¿ç”¨å¦‚ä¸‹ : </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined (x)</span></span><br><span class="line">    ...code...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ª#if definedå®ƒä¸ç®¡é‡Œé¢çš„â€œxâ€çš„é€»è¾‘æ˜¯â€œçœŸâ€è¿˜æ˜¯â€œå‡â€å®ƒåªç®¡è¿™ä¸ªç¨‹åºçš„å‰é¢çš„å®å®šä¹‰é‡Œé¢æœ‰æ²¡æœ‰å®šä¹‰â€œxâ€è¿™ä¸ªå®ï¼Œå¦‚æœå®šä¹‰äº†xè¿™ä¸ªå®ï¼Œé‚£ä¹ˆï¼Œç¼–è¯‘å™¨ä¼šç¼–è¯‘ä¸­é—´çš„â€¦codeâ€¦å¦åˆ™ä¸ç›´æ¥å¿½è§†ä¸­é—´çš„â€¦codeâ€¦ä»£ç ã€‚<br>å¦å¤– #if defined(x)ä¹Ÿå¯ä»¥å–åï¼Œä¹Ÿå°±ç”¨ #if !defined(x)</p>
<h1 id="ifdefçš„ä½¿ç”¨"><a href="#ifdefçš„ä½¿ç”¨" class="headerlink" title="#ifdefçš„ä½¿ç”¨"></a>#ifdefçš„ä½¿ç”¨</h1><ul>
<li>#ifdefçš„ä½¿ç”¨å’Œ#if defined()çš„ç”¨æ³•ä¸€è‡´</li>
<li>#ifndefåˆå’Œ#if !defined()çš„ç”¨æ³•ä¸€è‡´ã€‚</li>
</ul>
<p>æœ€åå¼ºè°ƒä¸¤ç‚¹ï¼š</p>
<ul>
<li>è¿™å‡ ä¸ªå®å®šä¹‰åªæ˜¯å†³å®šä»£ç å—æ˜¯å¦è¢«ç¼–è¯‘ï¼</li>
<li>åˆ«å¿˜äº†#endif</li>
</ul>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/lua_special_part/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/lua_special_part/" itemprop="url">Luaç‰¹åˆ«ä¹‹å¤„ç¬”è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-03T18:12:15+00:00">
                02-03-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="2-2-Booleans"><a href="#2-2-Booleans" class="headerlink" title="2.2 Booleans"></a>2.2 Booleans</h1><p>ä¸¤ä¸ªå–å€¼ false å’Œ trueã€‚ä½†è¦æ³¨æ„ Lua ä¸­æ‰€æœ‰çš„å€¼éƒ½å¯ä»¥ä½œä¸ºæ¡ä»¶ã€‚åœ¨æ§åˆ¶ç»“æ„çš„æ¡<br>ä»¶ä¸­é™¤äº† false å’Œ nil ä¸ºå‡ï¼Œå…¶ä»–å€¼éƒ½ä¸ºçœŸã€‚æ‰€ä»¥ Lua è®¤ä¸º 0 å’Œç©ºä¸²éƒ½æ˜¯çœŸã€‚</p>
<h1 id="2-5-table"><a href="#2-5-table" class="headerlink" title="2.5 table"></a>2.5 table</h1><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªç–‘é—®æ¥å¼•å…¥tableçš„ä»‹ç»</p>
<h2 id="ä¼ çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨"><a href="#ä¼ çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨" class="headerlink" title="ä¼ çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨?"></a>ä¼ çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨?</h2><p>luaçš„å‡½æ•°è°ƒç”¨ä¼ çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨?</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/gdb_tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/gdb_tutorial/" itemprop="url">GDBåŸºç¡€æ•™ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-02T12:18:54+00:00">
                02-02-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="GDB-æ“ä½œæç¤º"><a href="#GDB-æ“ä½œæç¤º" class="headerlink" title="GDB æ“ä½œæç¤º"></a>GDB æ“ä½œæç¤º</h1><p>åœ¨ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶æ—¶éœ€è¦ç»™ gcc åŠ ä¸Š â€œ-gâ€ é€‰é¡¹ï¼Œè¿™æ ·å®ƒæ‰ä¼šä¸ºç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥é¢å¤–çš„è°ƒè¯•ä¿¡æ¯ã€‚<br>ä¸è¦ä½¿ç”¨ç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹ï¼Œæ¯”å¦‚ï¼š â€œ-Oâ€ï¼Œâ€-O2â€ã€‚å› ä¸ºç¼–è¯‘å™¨ä¼šä¸ºäº†ä¼˜åŒ–è€Œæ”¹å˜ç¨‹åºæµç¨‹ï¼Œé‚£æ ·ä¸åˆ©äºè°ƒè¯•ã€‚<br>åœ¨ GDB ä¸­æ‰§è¡Œ shell å‘½ä»¤å¯ä»¥ä½¿ç”¨ï¼šshell command<br>GDB å‘½ä»¤å¯ä»¥ä½¿ç”¨ TAB é”®æ¥è¡¥å…¨ã€‚æŒ‰ä¸¤æ¬¡ TAB é”®å¯ä»¥çœ‹åˆ°æ‰€æœ‰å¯èƒ½çš„åŒ¹é…ã€‚<br>GDB å‘½ä»¤ç¼©å†™ï¼šä¾‹å¦‚ info bre ä¸­çš„ bre ç›¸å½“äº breakpointsã€‚</p>
<h1 id="å¯åŠ¨GDB"><a href="#å¯åŠ¨GDB" class="headerlink" title="å¯åŠ¨GDB"></a>å¯åŠ¨GDB</h1><ul>
<li>gdb executable</li>
<li>gdb -e executable -c core-file</li>
<li>gdb executable -pid process-id ï¼ˆä½¿ç”¨psç›¸å…³å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿›ç¨‹çš„ pidï¼‰</li>
</ul>
<h1 id="GDBå¸¸ç”¨å‘½ä»¤"><a href="#GDBå¸¸ç”¨å‘½ä»¤" class="headerlink" title="GDBå¸¸ç”¨å‘½ä»¤"></a>GDBå¸¸ç”¨å‘½ä»¤</h1><ul>
<li>help                        åˆ—å‡º gdb å¸®åŠ©ä¿¡æ¯ã€‚</li>
<li>info+subcommand , æ¯”å¦‚ :<ul>
<li>info breakpoints    : åˆ—å‡ºæ–­ç‚¹ã€‚</li>
<li>info watchpoints    : åˆ—å‡ºè§‚å¯Ÿç‚¹ã€‚</li>
<li>info threads        : åˆ—å‡ºå½“å‰çš„çº¿ç¨‹ã€‚</li>
<li>info locals        : åˆ—å‡ºLocal variables of current stack frame</li>
<li></li>
</ul>
</li>
<li>step(ç®€å†™ä¸€ä¸ªsä¹Ÿå¯)         è¿›å…¥ä¸‹ä¸€è¡Œä»£ç çš„æ‰§è¡Œï¼Œä¼šè¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</li>
<li>next(ç®€å†™ä¸€ä¸ªnä¹Ÿå¯)         æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ã€‚ä½†ä¸ä¼šè¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</li>
<li>finish                     è·³å‡ºå½“å‰ä»£ç ï¼ˆä¹‹å‰è·³å…¥è°ƒè¯•ï¼‰</li>
<li>continue(c)                ç»§ç»­æ‰§è¡Œç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–è§‚å¯Ÿç‚¹ã€‚</li>
<li>b                          æ–­ç‚¹</li>
<li>kill                        åœæ­¢ç¨‹åºæ‰§è¡Œã€‚</li>
<li>quit(q)                    é€€å‡º GDBè°ƒè¯•å™¨</li>
<li>run(r)                    ä»å¤´å¼€å§‹æ‰§è¡Œç¨‹åºï¼Œä¹Ÿå…è®¸è¿›è¡Œé‡å®šå‘ã€‚</li>
<li>print(p) variable            æ‰“å°æŒ‡å®šå˜é‡çš„å€¼ã€‚<ul>
<li>p variable</li>
<li>p file::variable</li>
<li>p â€˜fileâ€™::variables</li>
<li></li>
</ul>
</li>
<li>backtrace(ç®€å†™bt), æ˜¾ç¤ºå‡½æ•°è°ƒç”¨æ ˆ<ul>
<li>bt :                        æ˜¾ç¤ºæ‰€æœ‰å‡½æ•°è°ƒç”¨æ ˆ</li>
<li>bt n :             æ˜¾ç¤ºç¨‹åºçš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œåªæ˜¾ç¤ºæ ˆé¡¶næ¡¢(frame)</li>
<li>bt -n :             æ˜¾ç¤ºç¨‹åºçš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œåªæ˜¾ç¤ºæ ˆåº•éƒ¨næ¡¢(frame)</li>
<li>set backtrace limit n :     è®¾ç½®btæ˜¾ç¤ºçš„æœ€å¤§æ¡¢å±‚æ•°</li>
<li>where å’Œ info stack ï¼š        éƒ½æ˜¯btçš„åˆ«åï¼ŒåŠŸèƒ½ä¸€æ ·</li>
</ul>
</li>
</ul>
<h1 id="ç»†è¯´æ–­ç‚¹"><a href="#ç»†è¯´æ–­ç‚¹" class="headerlink" title="ç»†è¯´æ–­ç‚¹"></a>ç»†è¯´æ–­ç‚¹</h1><p>ç»™ test.c çš„ç¬¬10è¡Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ : </p>
<pre><code>b test.c:10 
</code></pre><h2 id="æ–­ç‚¹åˆ é™¤"><a href="#æ–­ç‚¹åˆ é™¤" class="headerlink" title="æ–­ç‚¹åˆ é™¤"></a>æ–­ç‚¹åˆ é™¤</h2><p>æ–­ç‚¹çš„åˆ é™¤ä¸æ–­ç‚¹çš„è®¾ç½®åŒæ ·çš„é‡è¦ã€‚åˆ é™¤æ–­ç‚¹çš„å‘½ä»¤æœ‰ä¸¤ä¸ª:</p>
<ul>
<li><a href="#delete">delete</a></li>
<li><a href="#clear">clear</a></li>
</ul>
<h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><p>ç”¨æ³•ï¼šdelete [breakpoints num] [rangeâ€¦]<br>deleteå¯åˆ é™¤å•ä¸ªæ–­ç‚¹ï¼Œä¹Ÿå¯åˆ é™¤ä¸€ä¸ªæ–­ç‚¹çš„é›†åˆï¼Œè¿™ä¸ªé›†åˆç”¨è¿ç»­çš„æ–­ç‚¹å·æ¥æè¿°ã€‚<br>ä¾‹å¦‚ï¼š</p>
<pre><code>delete 5
delete 1-10
</code></pre><h3 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h3><p>ç”¨æ³•:</p>
<ul>
<li>clear åˆ é™¤æ‰€é€‰å®šçš„ç¯å¢ƒä¸­æ‰€æœ‰çš„æ–­ç‚¹</li>
<li>clear location locationæè¿°å…·ä½“çš„æ–­ç‚¹ã€‚</li>
</ul>
<p>clear åˆ é™¤æ–­ç‚¹æ˜¯åŸºäºè¡Œçš„ï¼Œä¸æ˜¯æŠŠæ‰€æœ‰çš„æ–­ç‚¹éƒ½åˆ é™¤ã€‚<br>ä¾‹å¦‚ï¼š</p>
<pre><code>clear list_insert         //åˆ é™¤å‡½æ•°çš„æ‰€æœ‰æ–­ç‚¹
clear list.c:list_delet   //åˆ é™¤æ–‡ä»¶ï¼šå‡½æ•°çš„æ‰€æœ‰æ–­ç‚¹
clear 12                  //åˆ é™¤è¡Œå·çš„æ‰€æœ‰æ–­ç‚¹
clear list.c:12           //åˆ é™¤æ–‡ä»¶ï¼šè¡Œå·çš„æ‰€æœ‰æ–­ç‚¹
</code></pre><h2 id="æ–­ç‚¹çš„ä½¿èƒ½å’Œç¦æ­¢"><a href="#æ–­ç‚¹çš„ä½¿èƒ½å’Œç¦æ­¢" class="headerlink" title="æ–­ç‚¹çš„ä½¿èƒ½å’Œç¦æ­¢"></a>æ–­ç‚¹çš„ä½¿èƒ½å’Œç¦æ­¢</h2><p>å¯¹æ–­ç‚¹çš„æ§åˆ¶é™¤äº†å»ºç«‹å’Œåˆ é™¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä½¿èƒ½å’Œç¦æ­¢æ¥æ§åˆ¶ï¼Œåä¸€ç§æ–¹æ³•æ›´çµæ´»ã€‚</p>
<p>æ–­ç‚¹çš„å››ç§ä½¿èƒ½æ“ä½œï¼š</p>
<ul>
<li>enable [breakpoints] [rangeâ€¦] å®Œå…¨ä½¿èƒ½</li>
<li>enable                //æ¿€æ´»æ‰€æœ‰æ–­ç‚¹</li>
<li>enable 4            //æ¿€æ´»4æ–­ç‚¹</li>
<li>enable 5-6            //æ¿€æ´»5ï½6æ–­ç‚¹</li>
<li>disable [breakpoints] [rangeâ€¦] ç¦æ­¢</li>
<li>enable once [breakpoints] [rangeâ€¦] ä½¿èƒ½ä¸€æ¬¡ï¼Œè§¦å‘åç¦æ­¢</li>
<li>enable delete [breakpoints] [rangeâ€¦]ä½¿èƒ½ä¸€æ¬¡ï¼Œè§¦å‘ååˆ é™¤</li>
</ul>
<p>ç”¨æ³•ä¸¾ä¾‹ï¼š</p>
<pre><code>diable                //ç¦æ­¢æ‰€æœ‰æ–­ç‚¹
disble 2            //ç¦æ­¢ç¬¬äºŒä¸ªæ–­ç‚¹
disable 1-5            //ç¦æ­¢ç¬¬1åˆ°ç¬¬5ä¸ªæ–­ç‚¹
</code></pre><h1 id="GDBå¸®åŠ©"><a href="#GDBå¸®åŠ©" class="headerlink" title="GDBå¸®åŠ©"></a>GDBå¸®åŠ©</h1><p>GDBçš„å‘½ä»¤å¾ˆå¤š, æœ‰äº›ç”¨å¾—å°‘çš„å‘½ä»¤è®°ä¸ä½çš„è¯, å¯ä»¥åœ¨è¿›å…¥GDBä¹‹åæ•² â€œhelpâ€, ç„¶åå†æ•² â€œhelp + command_classâ€,<br>æ¯”å¦‚ :</p>
<p><strong>(gdb) help</strong><br>List of classes of commands:</p>
<p>aliases â€“ Aliases of other commands<br>breakpoints â€“ Making program stop at certain points<br>data â€“ Examining data<br>files â€“ Specifying and examining files<br>internals â€“ Maintenance commands<br>obscure â€“ Obscure features<br>running â€“ Running the program<br>stack â€“ Examining the stack<br>status â€“ Status inquiries<br>support â€“ Support facilities<br>tracepoints â€“ Tracing of program execution without stopping the program<br>user-defined â€“ User-defined commands</p>
<p>Type â€œhelpâ€ followed by a class name for a list of commands in that class.<br>Type â€œhelp allâ€ for the list of all commands.<br>Type â€œhelpâ€ followed by command name for full documentation.<br>Type â€œapropos wordâ€ to search for commands related to â€œwordâ€.<br>Command name abbreviations are allowed if unambiguous.</p>
<p><strong>(gdb) help running </strong><br>Running the program.</p>
<p>List of commands:</p>
<p>advance â€“ Continue the program up to the given location (same form as args for break command)<br>attach â€“ Attach to a process or file outside of GDB<br>continue â€“ Continue program being debugged<br>detach â€“ Detach a process or file previously attached<br>detach checkpoint â€“ Detach from a checkpoint (experimental)<br>detach inferiors â€“ Detach from inferior ID (or list of IDS)<br>disconnect â€“ Disconnect from a target<br>finish â€“ Execute until selected stack frame returns<br>handle â€“ Specify how to handle signals<br>inferior â€“ Use this command to switch between inferiors<br>interrupt â€“ Interrupt the execution of the debugged program<br>jump â€“ Continue program being debugged at specified line or address<br>kill â€“ Kill execution of program being debugged<br>kill inferiors â€“ Kill inferior ID (or list of IDs)<br>next â€“ Step program<br>nexti â€“ Step one instruction<br>reverse-continue â€“ Continue program being debugged but run it in reverse<br>reverse-finish â€“ Execute backward until just before selected stack frame is called<br>reverse-next â€“ Step program backward<br>reverse-nexti â€“ Step backward one instruction<br>reverse-step â€“ Step program backward until it reaches the beginning of another source line<br>reverse-stepi â€“ Step backward exactly one instruction<br>run â€“ Start debugged program<br>â€¦</p>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/singleton_pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/singleton_pattern/" itemprop="url">å•ä¾‹æ¨¡å¼çš„ææ„é—®é¢˜å’Œçº¿ç¨‹å®‰å…¨é—®é¢˜</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-02-02T12:18:54+00:00">
                02-02-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p>åœ¨æŸäº›åº”ç”¨ç¯å¢ƒä¸‹é¢ï¼Œä¸€ä¸ªç±»åªå…è®¸æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè¿™å°±æ˜¯è‘—åçš„å•ä¾‹æ¨¡å¼ã€‚<br>å•ä¾‹æ¨¡å¼åˆ†ä¸º</p>
<ul>
<li>æ‡’æ±‰æ¨¡å¼</li>
<li>é¥¿æ±‰æ¨¡å¼</li>
</ul>
<h1 id="é¥¿æ±‰æ¨¡å¼"><a href="#é¥¿æ±‰æ¨¡å¼" class="headerlink" title="é¥¿æ±‰æ¨¡å¼"></a>é¥¿æ±‰æ¨¡å¼</h1><p>åœ¨å®ä¾‹åŒ– <code>m_instance</code> å˜é‡æ—¶ï¼Œç›´æ¥è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ã€‚é¡¾åæ€ä¹‰ï¼Œåœ¨è¿˜æœªä½¿ç”¨å˜é‡æ—¶ï¼Œå·²ç»å¯¹ <code>m_instance</code> è¿›è¡Œèµ‹å€¼ï¼Œå°±åƒå¾ˆé¥¥é¥¿çš„æ„Ÿè§‰ã€‚<br>åœ¨mainå¼€å§‹å‰å°±åˆå§‹åŒ–å¥½äº†ï¼Œ æ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<h2 id="æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç "><a href="#æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç " class="headerlink" title="æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç "></a>æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç </h2><p>é¦–å…ˆç»™å‡ºæ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜çš„é¥¿æ±‰æ¨¡å¼çš„å®ç°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	singleton() &#123;&#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	singleton(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	singleton&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	<span class="keyword">static</span> singleton* m_instance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">static</span> singleton* <span class="title">GetInstance</span><span class="params">()</span></span>;</span><br><span class="line">	~singleton()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Singleton destruction\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">singleton* singleton::GetInstance()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">singleton* singleton::m_instance = <span class="keyword">new</span> singleton;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	singleton *ct = singleton::GetInstance();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é¥¿æ±‰æ¨¡å¼çš„ä¼˜ç‚¹"><a href="#é¥¿æ±‰æ¨¡å¼çš„ä¼˜ç‚¹" class="headerlink" title="é¥¿æ±‰æ¨¡å¼çš„ä¼˜ç‚¹"></a>é¥¿æ±‰æ¨¡å¼çš„ä¼˜ç‚¹</h2><ul>
<li>çº¿ç¨‹å®‰å…¨ </li>
<li>å®ç°ç®€å•ï¼Œå®¹æ˜“ç»´æŠ¤</li>
</ul>
<h2 id="é¥¿æ±‰æ¨¡å¼çš„ç¼ºç‚¹"><a href="#é¥¿æ±‰æ¨¡å¼çš„ç¼ºç‚¹" class="headerlink" title="é¥¿æ±‰æ¨¡å¼çš„ç¼ºç‚¹"></a>é¥¿æ±‰æ¨¡å¼çš„ç¼ºç‚¹</h2><ul>
<li>ä¸é€‚åˆéƒ¨åˆ†åœºæ™¯ã€‚å¦‚ï¼šå› ä¸ºæ€§èƒ½é—®é¢˜ï¼Œå¸Œæœ›æ‡’åŠ è½½ï¼›éœ€è¦è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼Œæ˜¯å¦ç”Ÿæˆå®ä¾‹ </li>
<li>ç”±äºåœ¨mainå¼€å§‹å‰å°±å¿…é¡»åˆå§‹åŒ–ï¼Œå‡ ä¹ä¸å¯èƒ½ç»™ç±»ä¼ å…¥ä»»ä½•å‚æ•°ã€‚</li>
</ul>
<h1 id="æ‡’æ±‰æ¨¡å¼"><a href="#æ‡’æ±‰æ¨¡å¼" class="headerlink" title="æ‡’æ±‰æ¨¡å¼"></a>æ‡’æ±‰æ¨¡å¼</h1><p>æ‡’æ±‰æ¨¡å¼ä¸‹ï¼Œåœ¨å®šä¹‰m_instanceå˜é‡æ—¶å…ˆç­‰äºNULLï¼Œåœ¨è°ƒç”¨GetInstance()æ–¹æ³•æ—¶ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦è¦èµ‹å€¼ã€‚è¿™ç§æ¨¡å¼ï¼Œå¹¶éæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨GetInstance()æ–¹æ³•ï¼Œå°±å¯èƒ½å¯¼è‡´æœ‰äº§ç”Ÿå¤šä¸ªå®ä¾‹ã€‚</p>
<h2 id="æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç "><a href="#æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç " class="headerlink" title="æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç "></a>æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç </h2><p>ä¸‹é¢æ˜¯æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä»¥åŠææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ä»£ç å®ç°</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	singleton() &#123;&#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	singleton(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	singleton&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	<span class="keyword">static</span> singleton* m_instance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">static</span> singleton* <span class="title">GetInstance</span><span class="params">()</span></span>;</span><br><span class="line">	~singleton()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Singleton destruction\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">singleton* singleton::GetInstance()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (m_instance == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		m_instance = <span class="keyword">new</span> singleton;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">singleton* singleton::m_instance = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	singleton *ct = singleton::GetInstance();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³æ‡’æ±‰æ¨¡å¼çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å‡ ç§æ–¹æ³•"><a href="#è§£å†³æ‡’æ±‰æ¨¡å¼çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å‡ ç§æ–¹æ³•" class="headerlink" title="è§£å†³æ‡’æ±‰æ¨¡å¼çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å‡ ç§æ–¹æ³•"></a>è§£å†³æ‡’æ±‰æ¨¡å¼çº¿ç¨‹å®‰å…¨é—®é¢˜çš„å‡ ç§æ–¹æ³•</h2><p>æœ‰ä¸‹é¢å‡ ç§æ–¹æ³• :</p>
<ul>
<li><a href="#ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡">ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡</a></li>
<li><a href="#åŠ é”">åŠ é”</a></li>
<li><a href="#pthread-once">pthread_once</a></li>
<li><a href="#DCL">DCL</a></li>
</ul>
<h3 id="ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡"><a href="#ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡" class="headerlink" title="ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡"></a>ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡</h3><p>ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡ã€‚<br>å±€éƒ¨é™æ€å˜é‡çš„åˆå§‹åŒ–æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™ä¸€ç‚¹ç”±ç¼–è¯‘å™¨ä¿è¯.ï¼ˆ<a href="http://gcc.gnu.org/ml/gcc-patches/2004-09/msg00265.html" target="_blank" rel="noopener">http://gcc.gnu.org/ml/gcc-patches/2004-09/msg00265.html</a>ï¼Œè¿™æ˜¯ä¸€ä¸ª GCC çš„ patchï¼Œä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼‰ã€‚ä¼šåœ¨ç¨‹åºé€€å‡ºçš„æ—¶å€™è‡ªåŠ¨é”€æ¯ã€‚<br><a href="http://stackoverflow.com/questions/270947/can-any-one-provide-me-a-sample-of-singleton-in-c/271104#271104" target="_blank" rel="noopener">è§æ­¤å¤„</a></p>
<p>è¿™ä¸ªæ–¹æ³•é€‚åˆ C++11ï¼ŒC++11ä¿è¯é™æ€å±€éƒ¨å˜é‡çš„åˆå§‹åŒ–æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br>å¦‚æœæ˜¯ C++98 å°±ä¸èƒ½ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<figure class="highlight c++"><figcaption><span>éæ‘¸æ¿ç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">S</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">static</span> S&amp; <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">static</span> S    instance;</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        S() &#123;&#125;</span><br><span class="line">        S(S <span class="keyword">const</span>&amp;);              <span class="comment">// Don't Implement.</span></span><br><span class="line">        <span class="keyword">void</span> <span class="keyword">operator</span>=(S <span class="keyword">const</span>&amp;); <span class="comment">// Don't implement</span></span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…<br><figure class="highlight cpp"><figcaption><span>æ¨¡æ¿ç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> T&amp; <span class="title">GetInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">static</span> T instance;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Singleton(T&amp;&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Singleton(<span class="keyword">const</span> T&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="keyword">operator</span>= (<span class="keyword">const</span> T&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    Singleton() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~Singleton() = <span class="keyword">default</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="åŠ é”"><a href="#åŠ é”" class="headerlink" title="åŠ é”"></a>åŠ é”</h3><p>çº¿ç¨‹å®‰å…¨ï¼Œä½†æ¯æ¬¡éƒ½æœ‰å¼€é”€ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// singleton.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">static</span> Singleton *<span class="title">GetInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            lock();</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                p = <span class="keyword">new</span> Singleton;</span><br><span class="line">            &#125;</span><br><span class="line">			unlock();</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> Singleon *p;</span><br><span class="line">    Singleton() &#123;&#125;</span><br><span class="line">    Singleton(<span class="keyword">const</span> Singleton &amp;);</span><br><span class="line">    Singleton&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> Singleton &amp;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// singleton.cc</span></span><br><span class="line">Singleton *Singleton::p = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<h3 id="pthread-once"><a href="#pthread-once" class="headerlink" title="pthread_once"></a>pthread_once</h3><p>é™ˆç¡•æ¨èçš„åšæ³•</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">static</span> Singleton *<span class="title">GetInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            pthread_once(&amp;ponce_, &amp;Singleton::init);</span><br><span class="line">            <span class="keyword">return</span> value_;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">private</span>:</span><br><span class="line">        Singleton() &#123;&#125;</span><br><span class="line">        Singleton(<span class="keyword">const</span> Singleton &amp;);</span><br><span class="line">        Singleton&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> Singleton &amp;);</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            value_ = <span class="keyword">new</span> T();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">pthread_once_t</span> ponce_;</span><br><span class="line">        <span class="keyword">static</span> Singleton *value_;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">pthread_once_t</span> SIngleton::ponce_ = PTHREAD_ONCE_INIT;</span><br><span class="line">Singleton* Singleton::value_ = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<h3 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h3><p>double check locking. åªèƒ½ç”¨å†…å­˜å±éšœï¼Œå…¶ä»–åšæ³•éƒ½æ˜¯æœ‰é—®é¢˜çš„ã€‚<br>å‚è§è®ºæ–‡ï¼š <a href="http://www.aristeia.com/Papers/DDJ_Jul_Aug_2004_revised.pdf" target="_blank" rel="noopener">http://www.aristeia.com/Papers/DDJ_Jul_Aug_2004_revised.pdf</a><br>æ™®é€šçš„ double check ä¹‹æ‰€ä»¥é”™ï¼Œæ˜¯å› ä¸ºä¹±åºæ‰§è¡Œå’Œå¤šå¤„ç†å™¨ä¸‹ï¼Œä¸åŒ CPU ä¸­é—´ cache åˆ·å¾€å†…å­˜å¹¶å¯¹å…¶ä»– CPU å¯è§çš„é¡ºåºæ— æ³•ä¿éšœï¼ˆcache coherency problemï¼‰ã€‚<br><code>Singleton&lt;T&gt; *p = new Singleton&lt;T&gt;;</code>, é‚£ä¹ˆå®é™…æœ‰ 3 æ­¥ï¼š</p>
<ol>
<li>åˆ†é…å†…å­˜</li>
<li>æ„é€ </li>
<li>èµ‹å€¼ç»™ p</li>
</ol>
<p>2 å’Œ 3 çš„é¡ºåºæ˜¯æœªå®šçš„ï¼ˆä¹±åºæ‰§è¡Œï¼ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœç›´æ¥èµ‹å€¼ç»™ p é‚£ä¹ˆå¾ˆå¯èƒ½æ„é€ è¿˜æ²¡å®Œæˆã€‚æ­¤æ—¶å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ GetInstanceï¼Œåœ¨ lock å¤–é¢ check äº†ä¸€ä¸‹ï¼Œå‘ç° p!=NULLï¼Œäºæ˜¯ç›´æ¥è¿”å› pï¼Œä½¿ç”¨äº†æœªåˆå§‹åŒ–å®Œæˆçš„å®ä¾‹ï¼Œè·ªäº†ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœç”¨ä¸­é—´å˜é‡è½¬ä¸€ä¸‹å‘¢ï¼Ÿç”¨ tmp_p è½¬äº†ä¸‹ä»¥åï¼Œtmp_p èµ‹å€¼ç»™ p çš„æ—¶å€™ï¼Œæ˜¾ç„¶ p æŒ‡å‘çš„å®ä¾‹æ˜¯æ„é€ å®Œæˆäº†çš„ã€‚ç„¶è€Œï¼Œè¿™ä¸ª tmp_p åœ¨ç¼–è¯‘å™¨çœ‹æ¥æ˜æ˜¾æ²¡ä»€ä¹ˆç”¨ï¼Œä¼šè¢«ä¼˜åŒ–æ‰ã€‚</p>
<h1 id="å…³äºä¸èƒ½è‡ªåŠ¨è°ƒç”¨ææ„çš„é—®é¢˜"><a href="#å…³äºä¸èƒ½è‡ªåŠ¨è°ƒç”¨ææ„çš„é—®é¢˜" class="headerlink" title="å…³äºä¸èƒ½è‡ªåŠ¨è°ƒç”¨ææ„çš„é—®é¢˜"></a>å…³äºä¸èƒ½è‡ªåŠ¨è°ƒç”¨ææ„çš„é—®é¢˜</h1><p>ä¸Šé¢çš„ä¸¤ä¸ªç¤ºä¾‹ä»£ç <br>( <a href="#æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç ">æ²¡æœ‰è€ƒè™‘ææ„é—®é¢˜é¥¿æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç </a> å’Œ <a href="#æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç ">æ²¡æœ‰è€ƒè™‘çº¿ç¨‹å®‰å…¨ä¸ææ„é—®é¢˜çš„æ‡’æ±‰æ¨¡å¼çš„ç¤ºä¾‹ä»£ç </a> ) éƒ½æœ‰ä¸èƒ½è‡ªåŠ¨è°ƒç”¨ææ„çš„é—®é¢˜.</p>
<p>å½“ä½ è¿è¡Œè¿™ä¸¤ä¸ªç¤ºä¾‹ä»£ç ä¹‹å, ä½ éƒ½ä¼šå‘ç°å¹¶æ²¡æœ‰æ‰“å° â€œSingleton destructionâ€, ä¹Ÿå°±æ˜¯è¯´ç¨‹åºç»“æŸæ—¶å¹¶æ²¡æœ‰è°ƒç”¨ singleton ç±»çš„ææ„å‡½æ•°çš„, ä¸ºä»€ä¹ˆå‘¢?</p>
<p>å› ä¸º <code>m_instance = new singleton;</code>, newå‡ºæ¥çš„ä¸œè¥¿éœ€è¦deleteæ‰, å¦‚æœåŠ ä¸Šä¸€å¥ <code>delete ct; ct = NULL;</code>, å°±ä¼šè°ƒç”¨ææ„å‡½æ•°äº†.<br>ä½†è¿™ç§æ‰‹åŠ¨è°ƒç”¨å¾ˆå®¹æ˜“å¿˜å•Š, æ€ä¹ˆæ‰èƒ½è‡ªåŠ¨è°ƒç”¨å®ƒçš„ææ„å‘¢?</p>
<p>æˆ‘ä»¬æƒ³è¦çš„æ˜¯ : è‡ªåŠ¨åŒ–çš„æ­£å¸¸åˆ é™¤è¯¥å®ä¾‹ã€‚</p>
<p>æœ‰ä¸¤ç§æ–¹æ³•, æˆ‘ç»™ä»–åˆ’åˆ†ä¸º: </p>
<ul>
<li><a href="#ä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼">ä¸éœ€è¦åŠ GC(åƒåœ¾å›æ”¶)å†…åµŒç±»çš„å•ä¾‹æ¨¡å¼(æ¨è)</a></li>
<li><a href="#éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼">éœ€è¦åŠ GC(åƒåœ¾å›æ”¶)å†…åµŒç±»çš„å•ä¾‹æ¨¡å¼</a></li>
</ul>
<h2 id="éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼"><a href="#éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼" class="headerlink" title="éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼"></a>éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼</h2><p>æˆ‘ä»¬å…ˆçœ‹ç¬¬äºŒç§,</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œç¨‹åºåœ¨ç»“æŸçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ææ„æ‰€æœ‰çš„å…¨å±€å˜é‡ã€‚äº‹å®ä¸Šï¼Œç³»ç»Ÿä¹Ÿä¼šææ„æ‰€æœ‰çš„ç±»çš„é™æ€æˆå‘˜å˜é‡ï¼Œå°±åƒè¿™äº›é™æ€æˆå‘˜ä¹Ÿæ˜¯å…¨å±€å˜é‡ä¸€æ ·ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å•ä¾‹ç±»ä¸­å®šä¹‰ä¸€ä¸ªè¿™æ ·çš„é™æ€æˆå‘˜å˜é‡ï¼Œè€Œå®ƒçš„å”¯ä¸€å·¥ä½œå°±æ˜¯åœ¨ææ„å‡½æ•°ä¸­åˆ é™¤å•ä¾‹ç±»çš„å®ä¾‹ã€‚<br>é‚£å°±æ˜¯å®šä¹‰ä¸€ä¸ªå†…éƒ¨åƒåœ¾å›æ”¶GCç±»ï¼Œå¹¶ä¸”åœ¨ singleton ä¸­å®šä¹‰ä¸€ä¸ªæ­¤ç±»çš„é™æ€æˆå‘˜ã€‚ç¨‹åºç»“æŸæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ææ„æ­¤é™æ€æˆå‘˜ï¼Œæ­¤æ—¶ï¼Œåœ¨æ­¤ç±»çš„ææ„å‡½æ•°ä¸­ææ„ singleton å®ä¾‹ï¼Œå°±å¯ä»¥å®ç° m_instance çš„è‡ªåŠ¨é‡Šæ”¾ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	singleton() &#123;&#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	singleton(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	singleton&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	<span class="keyword">static</span> singleton* m_instance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">static</span> singleton* <span class="title">GetInstance</span><span class="params">()</span></span>;</span><br><span class="line">	~singleton()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Singleton destruction\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">GC</span></span></span><br><span class="line"><span class="class">	&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		~GC()</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"GC destruction\n"</span>);</span><br><span class="line">			<span class="keyword">if</span> (m_instance)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">delete</span> m_instance;</span><br><span class="line">				m_instance = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">static</span> GC gc_singleton;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">singleton::GC singleton::gc_singleton;</span><br><span class="line"></span><br><span class="line">singleton* singleton::GetInstance()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (m_instance == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		m_instance = <span class="keyword">new</span> singleton();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">singleton* singleton::m_instance = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	singleton *ct = singleton::GetInstance();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•.é‚£å°±æ˜¯ä¸‹é¢è¿™ä¸ªä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼.</p>
<h2 id="ä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼"><a href="#ä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼" class="headerlink" title="ä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼"></a>ä¸éœ€è¦åŠ GCå†…åµŒç±»çš„å•ä¾‹æ¨¡å¼</h2><p>åœ¨ GetInstance æ–¹æ³•é‡Œæ”¾ä¸€ä¸ª m_instance çš„å±€éƒ¨é™æ€å˜é‡, ç„¶åè¿”å›ä»–çš„åœ°å€, ä»–å°±å¯ä»¥åœ¨ç¨‹åºç»“æŸè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°.<br>è€Œä¸”è¿™ç§æ–¹æ³•åœ¨C++11ä¹Ÿèƒ½ä¿è¯çº¿ç¨‹å®‰å…¨.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	singleton() &#123;&#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	singleton(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line">	singleton&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> singleton&amp;) &#123;&#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">static</span> singleton* <span class="title">GetInstance</span><span class="params">()</span></span>;</span><br><span class="line">	~singleton()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Singleton destruction\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">singleton* singleton::GetInstance()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">static</span> singleton m_instance;</span><br><span class="line">	<span class="keyword">return</span> &amp;m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	singleton *ct = singleton::GetInstance();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ—¢è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨åˆè¦è€ƒè™‘ææ„é—®é¢˜çš„è¯, æœ‰ä¸‹é¢å‡ ç§æ–¹æ³• :</p>
<ul>
<li>é¥¿æ±‰æ¨¡å¼+GCå†…åµŒç±»</li>
<li>æ‡’æ±‰æ¨¡å¼+GCå†…åµŒç±», ç„¶ååŠ é”ï¼Œä½†æ¯ä¸ªçº¿ç¨‹ç¼“å­˜äº†è¿”å›çš„æŒ‡é’ˆï¼Œè°ƒç”¨ä¸€æ¬¡æœ‰ç”¨ç¼“å­˜çš„æŒ‡é’ˆå³å¯ã€‚</li>
<li>æ‡’æ±‰æ¨¡å¼+GCå†…åµŒç±», ç„¶å pthread_once</li>
</ul>
<p>å¦‚æœæ˜¯C++11çš„è¯, åˆ™å¯ä»¥ä½¿ç”¨å±€éƒ¨é™æ€å˜é‡, å› ä¸ºC++11ä¿è¯é™æ€å±€éƒ¨å˜é‡çš„åˆå§‹åŒ–æ˜¯çº¿ç¨‹å®‰å…¨çš„(C++98ä¸ä¿è¯), è€Œä¸”ä¹Ÿæ²¡æœ‰ææ„é—®é¢˜.</p>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/33/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><a class="page-number" href="/page/29/">29</a><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><a class="page-number" href="/page/33/">33</a><span class="page-number current">34</span><a class="page-number" href="/page/35/">35</a><a class="page-number" href="/page/36/">36</a><a class="page-number" href="/page/37/">37</a><a class="page-number" href="/page/38/">38</a><a class="extend next" rel="next" href="/page/35/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
