<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = '' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:type" content="website">
<meta property="og:title" content="ğŸš™">
<meta property="og:url" content="https://hulinhong.com/page/28/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ğŸš™">
<meta name="twitter:description" content="ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, &quot;hexo-theme-neo&quot;, click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari,">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>ğŸš™ - ğŸ’¨ ğŸ’¨ ğŸ’¨</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/stl_vector_string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/stl_vector_string/" itemprop="url">vectorå’Œstringçš„å†…å­˜åˆ†é…ä¸ä½¿ç”¨æ³¨æ„ç‚¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-17T00:52:53+00:00">
                05-17-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="å¢é•¿æ–¹å¼"><a href="#å¢é•¿æ–¹å¼" class="headerlink" title="å¢é•¿æ–¹å¼"></a>å¢é•¿æ–¹å¼</h1><p>ä¸ºäº†æ”¯æŒå¿«é€Ÿéšæœºè®¿é—® ï¼Œ vector å°†å…ƒç´ è¿ç»­å­˜å‚¨ä¸€ä¸€æ¯ä¸ªå…ƒç´ ç´§æŒ¨ç€å‰ä¸€ä¸ªå…ƒç´ å­˜<br>å‚¨ ã€‚</p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å‡å®šå®¹å™¨ä¸­å…ƒç´ æ˜¯è¿ç»­å­˜å‚¨ çš„ï¼Œ ä¸”å®¹å™¨çš„å¤§å°æ˜¯å¯å˜çš„ ï¼Œ è€ƒè™‘ å‘ vector æˆ– stringä¸­æ·»åŠ å…ƒç´ ä¼šå‘ç”Ÿä»€ä¹ˆ :<br>å¦‚æœæ²¡æœ‰ç©ºé—´å®¹çº³æ–°å…ƒç´ ï¼Œå®¹å™¨ä¸å¯èƒ½ç®€å•åœ°å°†å®ƒæ·»åŠ åˆ°å†…å­˜ä¸­å…¶ä»–ä½ç½®ä¸€ä¸€å› ä¸ºå…ƒç´ å¿…é¡»è¿ç»­å­˜å‚¨ã€‚</p>
<p>å®¹å™¨å¿…é¡»åˆ†é…æ–°çš„å†…å­˜ç©ºé—´æ¥ä¿å­˜å·±æœ‰å…ƒç´ å’Œæ–°å…ƒç´  ï¼Œ å°†å·²æœ‰å…ƒç´ ä» æ—§ä½ç½®ç§»åŠ¨åˆ°æ–°ç©º é—´ä¸­ï¼Œ ç„¶åæ·»åŠ æ–°å…ƒç´ ï¼Œé‡Šæ”¾æ—§å­˜å‚¨ç©ºé—´ ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ¯æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼Œ vector å°±æ‰§è¡Œä¸€æ¬¡è¿™æ ·çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æ“ä½œ ï¼Œæ€§èƒ½ä¼šæ…¢åˆ°ä¸å¯æ¥å— ã€‚</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/stll_set_map_tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/stll_set_map_tutorial/" itemprop="url">stlå…³è”å®¹å™¨çš„ç‰¹æ€§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-26T01:32:47+00:00">
                04-26-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="æ¦‚ç»"><a href="#æ¦‚ç»" class="headerlink" title="æ¦‚ç»"></a>æ¦‚ç»</h1><p>å…³è”å®¹å™¨å’Œé¡ºåºå®¹å™¨æœ‰ç€<strong>æ ¹æœ¬çš„ä¸åŒ</strong> : å…³è”å®¹å™¨ä¸­çš„å…ƒç´ æ˜¯æŒ‰å…³é”®å­—æ¥ä¿å­˜å’Œè®¿é—®çš„ ã€‚ä¸ä¹‹ç›¸å¯¹ï¼Œé¡ºåºå®¹å™¨ä¸­çš„å…ƒç´ æ˜¯æŒ‰å®ƒä»¬åœ¨å®¹å™¨ä¸­çš„ä½ç½®æ¥é¡ºåºä¿å­˜å’Œè®¿é—®çš„ ã€‚</p>
<p>å…³è”å®¹å™¨æ”¯æŒé«˜æ•ˆçš„å…³é”®å­—æŸ¥æ‰¾å’Œè®¿é—® ã€‚<br>ä¸¤ä¸ªä¸»è¦çš„å…³è”å®¹å™¨ç±»å‹æ˜¯ : </p>
<ul>
<li>map </li>
<li>set</li>
</ul>
<h2 id="mapæ¦‚ç»"><a href="#mapæ¦‚ç»" class="headerlink" title="mapæ¦‚ç»"></a>mapæ¦‚ç»</h2><p>map ä¸­ çš„å…ƒç´ æ˜¯ä¸€äº›å…³é”®å­—ä¸€å€¼ ( key-value )å¯¹ : å…³é”®å­—èµ·åˆ°ç´¢ å¼• çš„ä½œç”¨ï¼Œå€¼åˆ™è¡¨ç¤ºä¸ç´¢å¼•ç›¸å…³è”çš„æ•°æ® ã€‚<br>å­—å…¸åˆ™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½¿ç”¨ map çš„ä¾‹å­, å¯ä»¥å°†å•è¯ä½œä¸ºå…³é”®å­—ï¼Œå°†å•è¯é‡Šä¹‰ä½œä¸ºå€¼ ã€‚</p>
<h2 id="setæ¦‚ç»"><a href="#setæ¦‚ç»" class="headerlink" title="setæ¦‚ç»"></a>setæ¦‚ç»</h2><p>set ä¸­æ¯ä¸ªå…ƒç´ åªåŒ…å«ä¸€ä¸ªå…³é”®å­— : set æ”¯æŒé«˜æ•ˆçš„å…³é”®å­—æ£€æŸ¥ä¸€ä¸ªç»™å®šå…³é”®å­—æ˜¯å¦åœ¨ set ä¸­ ã€‚<br>ä¾‹å¦‚ï¼Œåœ¨æŸäº›æ–‡æœ¬å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª set æ¥ä¿å­˜æƒ³è¦å¿½ç•¥çš„å•è¯ã€‚</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/thread_local_storage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/thread_local_storage/" itemprop="url">çº¿ç¨‹å±€éƒ¨å­˜å‚¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-22T23:19:21+00:00">
                04-22-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <p>ä½¿ç”¨å…¨å±€å˜é‡æˆ–è€…é™æ€å˜é‡æ˜¯å¯¼è‡´å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­éçº¿ç¨‹å®‰å…¨çš„å¸¸è§åŸå› ã€‚åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œä¿éšœéçº¿ç¨‹å®‰å…¨çš„å¸¸ç”¨æ‰‹æ®µä¹‹ä¸€æ˜¯ä½¿ç”¨äº’æ–¥é”æ¥åšä¿æŠ¤ï¼Œè¿™ç§æ–¹æ³•å¸¦æ¥äº†å¹¶å‘æ€§èƒ½ä¸‹é™ï¼ŒåŒæ—¶ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹æ•°æ®è¿›è¡Œè¯»å†™ã€‚</p>
<p>å¦‚æœç¨‹åºä¸­èƒ½é¿å…ä½¿ç”¨å…¨å±€å˜é‡æˆ–é™æ€å˜é‡ï¼Œé‚£ä¹ˆè¿™äº›ç¨‹åºå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ€§èƒ½ä¹Ÿå¯ä»¥å¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚</p>
<p>å¦‚æœæœ‰äº›æ•°æ®åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ï¼Œé‚£ä¹ˆè¿™ä¸€ç±»æ•°æ®å°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹å±€éƒ¨å­˜å‚¨æœºåˆ¶æ¥å¤„ç†ï¼Œè™½ç„¶ä½¿ç”¨è¿™ç§æœºåˆ¶ä¼šç»™ç¨‹åºæ‰§è¡Œæ•ˆç‡ä¸Šå¸¦æ¥ä¸€å®šçš„å½±å“ï¼Œä½†å¯¹äºä½¿ç”¨é”æœºåˆ¶æ¥è¯´ï¼Œè¿™äº›æ€§èƒ½å½±å“å°†å¯ä»¥å¿½ç•¥ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§å¤§è‡´ç›¸å½“çš„ç¼–ç¨‹æŠ€æœ¯å°±æ˜¯ä½¿ç”¨ çº¿ç¨‹ç‰¹æœ‰æ•°æ®(æ²¡ çº¿ç¨‹å±€éƒ¨å­˜å‚¨ æ˜“ç”¨, ä¹Ÿæ²¡ çº¿ç¨‹å±€éƒ¨å­˜å‚¨ é«˜æ•ˆ) ï¼Œè¿™å°†åœ¨ <a href="/thread_specific_data/" title="çº¿ç¨‹ç‰¹æœ‰æ•°æ®">çº¿ç¨‹ç‰¹æœ‰æ•°æ®</a> ä¸­è®¨è®ºã€‚</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/thread_specific_data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/thread_specific_data/" itemprop="url">çº¿ç¨‹ç‰¹æœ‰æ•°æ®</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-17T18:51:26+00:00">
                04-17-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p>åœ¨ Linux ç³»ç»Ÿä¸­ä½¿ç”¨ C/C++ è¿›è¡Œå¤šçº¿ç¨‹ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬é‡åˆ°æœ€å¤šçš„å°±æ˜¯å¯¹åŒä¸€å˜é‡çš„å¤šçº¿ç¨‹è¯»å†™é—®é¢˜ï¼Œå¤§å¤šæƒ…å†µä¸‹é‡åˆ°è¿™ç±»é—®é¢˜éƒ½æ˜¯é€šè¿‡é”æœºåˆ¶æ¥å¤„ç†ï¼Œä½†è¿™å¯¹ç¨‹åºçš„æ€§èƒ½å¸¦æ¥äº†å¾ˆå¤§çš„å½±å“ï¼Œ</p>
<p>å½“ç„¶å¯¹äºé‚£äº›ç³»ç»ŸåŸç”Ÿæ”¯æŒåŸå­æ“ä½œçš„æ•°æ®ç±»å‹æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸå­æ“ä½œæ¥å¤„ç†ï¼Œè¿™èƒ½å¯¹ç¨‹åºçš„æ€§èƒ½ä¼šå¾—åˆ°ä¸€å®šçš„æé«˜ã€‚é‚£ä¹ˆå¯¹äºé‚£äº›ç³»ç»Ÿä¸æ”¯æŒåŸå­æ“ä½œçš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œ</p>
<p>åœ¨ä¸ä½¿ç”¨é”çš„æƒ…å†µä¸‹å¦‚ä½•åšåˆ°çº¿ç¨‹å®‰å…¨å‘¢ï¼Ÿæœ¬æ–‡å°†ä»çº¿ç¨‹ç‰¹æœ‰æ•°æ®æ–¹é¢ï¼Œç®€å•è®²è§£å¤„ç†è¿™ä¸€ç±»çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ–¹æ³•ã€‚</p>
<p>å¦‚æœæœ‰äº›æ•°æ®åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ï¼Œé‚£ä¹ˆè¿™ä¸€ç±»æ•°æ®å°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®æœºåˆ¶æ¥å¤„ç†ï¼Œè™½ç„¶ä½¿ç”¨è¿™ç§æœºåˆ¶ä¼šç»™ç¨‹åºæ‰§è¡Œæ•ˆç‡ä¸Šå¸¦æ¥ä¸€å®šçš„å½±å“ï¼Œä½†å¯¹äºä½¿ç”¨é”æœºåˆ¶æ¥è¯´ï¼Œè¿™äº›æ€§èƒ½å½±å“å°†å¯ä»¥å¿½ç•¥ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§å¤§è‡´ç›¸å½“çš„ç¼–ç¨‹æŠ€æœ¯å°±æ˜¯ä½¿ç”¨ <code>__thread</code> (æ¯” çº¿ç¨‹ç‰¹æœ‰æ•°æ® æ˜“ç”¨, ä¹Ÿæ¯” çº¿ç¨‹ç‰¹æœ‰æ•°æ® é«˜æ•ˆ), å®ƒæ˜¯ GCC å†…ç½®çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨è®¾æ–½ ï¼Œè¿™å°†åœ¨ <a href="/thread_local_storage/" title="çº¿ç¨‹å±€éƒ¨å­˜å‚¨">çº¿ç¨‹å±€éƒ¨å­˜å‚¨</a> ä¸­è®¨è®ºã€‚</p>
<h1 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h1><p>åœ¨ C/C++ ç¨‹åºä¸­å¸¸å­˜åœ¨å…¨å±€å˜é‡ã€å‡½æ•°å†…å®šä¹‰çš„é™æ€å˜é‡ä»¥åŠå±€éƒ¨å˜é‡ï¼Œå¯¹äºå±€éƒ¨å˜é‡æ¥è¯´ï¼Œå…¶ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› æ­¤ä¸åœ¨æœ¬æ–‡è®¨è®ºçš„èŒƒå›´ä¹‹å†…ã€‚</p>
<p>å…¨å±€å˜é‡å’Œå‡½æ•°å†…å®šä¹‰çš„é™æ€å˜é‡ï¼Œæ˜¯åŒä¸€è¿›ç¨‹ä¸­å„ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®çš„å…±äº«å˜é‡ï¼Œå› æ­¤å®ƒä»¬å­˜åœ¨å¤šçº¿ç¨‹è¯»å†™é—®é¢˜ã€‚</p>
<p>åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ä¿®æ”¹äº†å˜é‡ä¸­çš„å†…å®¹ï¼Œå…¶ä»–çº¿ç¨‹éƒ½èƒ½æ„ŸçŸ¥å¹¶ä¸”èƒ½è¯»å–å·²æ›´æ”¹è¿‡çš„å†…å®¹ï¼Œè¿™å¯¹æ•°æ®äº¤æ¢æ¥è¯´æ˜¯éå¸¸å¿«æ·çš„ï¼Œä½†æ˜¯ç”±äºå¤šçº¿ç¨‹çš„å­˜åœ¨ï¼Œå¯¹äºåŒä¸€ä¸ªå˜é‡å¯èƒ½å­˜åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶ä¿®æ”¹å˜é‡æ‰€åœ¨çš„å†…å­˜å†…å®¹ï¼ŒåŒæ—¶åˆå­˜åœ¨å¤šä¸ªçº¿ç¨‹åœ¨å˜é‡åœ¨ä¿®æ”¹çš„æ—¶å»è¯»å–è¯¥å†…å­˜å€¼ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ç›¸åº”çš„åŒæ­¥æœºåˆ¶æ¥ä¿æŠ¤è¯¥å†…å­˜çš„è¯ï¼Œé‚£ä¹ˆæ‰€è¯»å–åˆ°çš„æ•°æ®å°†æ˜¯ä¸å¯é¢„çŸ¥çš„ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
<p>å¦‚æœéœ€è¦åœ¨ä¸€ä¸ªçº¿ç¨‹å†…éƒ¨çš„å„ä¸ªå‡½æ•°è°ƒç”¨éƒ½èƒ½è®¿é—®ã€ä½†å…¶å®ƒçº¿ç¨‹ä¸èƒ½è®¿é—®çš„å˜é‡ï¼Œè¿™å°±éœ€è¦æ–°çš„æœºåˆ¶æ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Static memory local to a thread (çº¿ç¨‹å±€éƒ¨é™æ€å˜é‡)ï¼ŒåŒæ—¶ä¹Ÿå¯ç§°ä¹‹ä¸ºçº¿ç¨‹ç‰¹æœ‰æ•°æ®ï¼ˆTSD: Thread-Specific Dataï¼‰</p>
<p>è¿™ä¸€ç±»å‹çš„æ•°æ®ï¼Œåœ¨ç¨‹åºä¸­æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šåˆ†åˆ«ç»´æŠ¤ä¸€ä»½å˜é‡çš„å‰¯æœ¬ (copy)ï¼Œå¹¶ä¸”é•¿æœŸå­˜åœ¨äºè¯¥çº¿ç¨‹ä¸­ï¼Œå¯¹æ­¤ç±»å˜é‡çš„æ“ä½œä¸å½±å“å…¶ä»–çº¿ç¨‹ã€‚<br>å¦‚ä¸‹å›¾ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/thread_specific_data/20140521140749687.png" alt></p>
<h1 id="ä¸€æ¬¡æ€§åˆå§‹åŒ–"><a href="#ä¸€æ¬¡æ€§åˆå§‹åŒ–" class="headerlink" title="ä¸€æ¬¡æ€§åˆå§‹åŒ–"></a>ä¸€æ¬¡æ€§åˆå§‹åŒ–</h1><p>åœ¨è®²è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®ä¹‹å‰ï¼Œå…ˆè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ä¸€æ¬¡æ€§åˆå§‹åŒ–ã€‚</p>
<p>å¤šçº¿ç¨‹ç¨‹åºæœ‰æ—¶æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šä¸ç®¡åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹ï¼Œæœ‰äº›æ•°æ®çš„åˆå§‹åŒ–åªèƒ½å‘ç”Ÿä¸€æ¬¡ã€‚</p>
<p>åˆ—å¦‚ï¼šåœ¨ C++ ç¨‹åºä¸­æŸä¸ªç±»åœ¨æ•´ä¸ªè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå†…åªèƒ½å­˜åœ¨ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†èƒ½è®©è¯¥å¯¹è±¡èƒ½å¤Ÿå®‰å…¨çš„åˆå§‹åŒ–ï¼Œä¸€æ¬¡æ€§åˆå§‹åŒ–æœºåˆ¶å°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚</p>
<p>â€”â€”åœ¨è®¾è®¡æ¨¡å¼ä¸­è¿™ç§å®ç°å¸¸å¸¸è¢«ç§°ä¹‹ä¸ºå•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ã€‚<br>Linux ä¸­æä¾›äº†å¦‚ä¸‹å‡½æ•°æ¥å®ç°ä¸€æ¬¡æ€§åˆå§‹åŒ–ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns 0 on success, or a positive error number on error</span></span><br><span class="line">int pthread_once (pthread_once_t *once_control, void (*init) (void));</span><br><span class="line"><span class="comment">// åˆ©ç”¨å‚æ•°once_controlçš„çŠ¶æ€ï¼Œå‡½æ•°pthread_once()å¯ä»¥ç¡®ä¿æ— è®ºæœ‰å¤šå°‘ä¸ªçº¿ç¨‹è°ƒç”¨å¤šå°‘æ¬¡è¯¥å‡½æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">// ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡ç”±initæ‰€æŒ‡å‘çš„ç”±è°ƒç”¨è€…å®šä¹‰çš„å‡½æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// initæ‰€æŒ‡å‘çš„å‡½æ•°æ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œå½¢å¼å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span> <span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// some variables initializtion in here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œå‚æ•° once_control å¿…é¡»æ˜¯ pthread_once_t ç±»å‹å˜é‡çš„æŒ‡é’ˆï¼ŒæŒ‡å‘åˆå§‹åŒ–ä¸º PTHRAD_ONCE_INIT çš„é™æ€å˜é‡ã€‚<br>åœ¨ C++0x ä»¥åæä¾›äº†ç±»ä¼¼åŠŸèƒ½çš„å‡½æ•° std::call_once ()ï¼Œç”¨æ³•ä¸è¯¥å‡½æ•°ç±»ä¼¼ã€‚<br>ä½¿ç”¨å®ä¾‹è¯·å‚è€ƒ :<br><a href="https://github.com/ApusApp/Swift/blob/master/swift/base/singleton.hpp" target="_blank" rel="noopener">https://github.com/ApusApp/Swift/blob/master/swift/base/singleton.hpp</a><br>å®ç°ã€‚</p>
<h1 id="çº¿ç¨‹ç‰¹æœ‰æ•°æ®APIä»‹ç»"><a href="#çº¿ç¨‹ç‰¹æœ‰æ•°æ®APIä»‹ç»" class="headerlink" title="çº¿ç¨‹ç‰¹æœ‰æ•°æ®APIä»‹ç»"></a>çº¿ç¨‹ç‰¹æœ‰æ•°æ®APIä»‹ç»</h1><p>åœ¨ Linux ä¸­æä¾›äº†å¦‚ä¸‹å‡½æ•°æ¥å¯¹çº¿ç¨‹ç‰¹æœ‰æ•°æ®è¿›è¡Œæ“ä½œ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns 0 on success, or a positive error number on error</span></span><br><span class="line">int pthread_key_create (pthread_key_t *key, void (*destructor)(void *));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns 0 on success, or a positive error number on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_key_delete</span> <span class="params">(<span class="keyword">pthread_key_t</span> key)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns 0 on success, or a positive error number on error</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_setspecific</span> <span class="params">(<span class="keyword">pthread_key_t</span> key, <span class="keyword">const</span> <span class="keyword">void</span> *value)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns pointer, or NULL if no thread-specific data is associated with key</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">pthread_getspecific</span> <span class="params">(<span class="keyword">pthread_key_t</span> key)</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="pthread-key-create"><a href="#pthread-key-create" class="headerlink" title="pthread_key_create"></a>pthread_key_create</h2><pre><code>// Returns 0 on success, or a positive error number on error
int pthread_key_create (pthread_key_t *key, void (*destructor)(void *));
</code></pre><p>å‡½æ•° pthread_key_create() ä¸ºçº¿ç¨‹ç‰¹æœ‰æ•°æ®åˆ›å»ºä¸€ä¸ªæ–°é”®ï¼Œå¹¶é€šè¿‡ key æŒ‡å‘æ–°åˆ›å»ºçš„é”®ç¼“å†²åŒºã€‚</p>
<p>å› ä¸ºæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥ä½¿ç”¨è¿”å›çš„æ–°é”®ï¼Œæ‰€ä»¥å‚æ•° key å¯ä»¥æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼ˆåœ¨ C++ å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ä¸€èˆ¬ä¸ä½¿ç”¨å…¨å±€å˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨å•ç‹¬çš„ç±»å¯¹çº¿ç¨‹ç‰¹æœ‰æ•°æ®è¿›è¡Œå°è£…ï¼Œæ¯ä¸ªå˜é‡ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„ pthread_key_tï¼‰ã€‚</p>
<p>destructor æ‰€æŒ‡å‘çš„æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å‡½æ•°ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code>void Dest (void *value)
{
    // Release storage pointed to by &apos;value&apos;
}
</code></pre><p>åªè¦çº¿ç¨‹ç»ˆæ­¢æ—¶ä¸ key å…³è”çš„å€¼ä¸ä¸º NULLï¼Œåˆ™ destructor æ‰€æŒ‡çš„å‡½æ•°å°†ä¼šè‡ªåŠ¨è¢«è°ƒç”¨ã€‚</p>
<p>å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸­æœ‰å¤šä¸ªçº¿ç¨‹ç‰¹æœ‰æ•°æ®å˜é‡ï¼Œé‚£ä¹ˆå¯¹å„ä¸ªå˜é‡æ‰€å¯¹åº”çš„ destructor å‡½æ•°çš„è°ƒç”¨é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œå› æ­¤ï¼Œæ¯ä¸ªå˜é‡çš„ destructor å‡½æ•°çš„è®¾è®¡åº”è¯¥ç›¸äº’ç‹¬ç«‹ã€‚</p>
<h2 id="pthread-key-delete"><a href="#pthread-key-delete" class="headerlink" title="pthread_key_delete"></a>pthread_key_delete</h2><pre><code>// Returns 0 on success, or a positive error number on error
int pthread_key_delete (pthread_key_t key);
</code></pre><p>å‡½æ•° pthread_key_delete() å¹¶ä¸æ£€æŸ¥å½“å‰æ˜¯å¦æœ‰çº¿ç¨‹æ­£åœ¨ä½¿ç”¨è¯¥çº¿ç¨‹ç‰¹æœ‰æ•°æ®å˜é‡ï¼Œä¹Ÿä¸ä¼šè°ƒç”¨æ¸…ç†å‡½æ•° destructorï¼Œè€Œåªæ˜¯å°†å…¶é‡Šæ”¾ä»¥ä¾›ä¸‹ä¸€æ¬¡è°ƒç”¨ pthread_key_create() ä½¿ç”¨ã€‚</p>
<p>åœ¨ Linux çº¿ç¨‹ä¸­ï¼Œå®ƒè¿˜ä¼šå°†ä¸ä¹‹ç›¸å…³çš„çº¿ç¨‹æ•°æ®é¡¹è®¾ç½®ä¸º NULLã€‚</p>
<blockquote>
<p>ç”±äºç³»ç»Ÿå¯¹æ¯ä¸ªè¿›ç¨‹ä¸­ pthread_key_t ç±»å‹çš„ä¸ªæ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥è¿›ç¨‹ä¸­å¹¶ä¸èƒ½åˆ›å»ºæ— é™ä¸ªçš„ pthread_key_t å˜é‡ã€‚Linux ä¸­å¯ä»¥é€šè¿‡ PTHREAD_KEY_MAXï¼ˆå®šä¹‰äº limits.h æ–‡ä»¶ä¸­ï¼‰æˆ–è€…ç³»ç»Ÿè°ƒç”¨ sysconf(_SC_THREAD_KEYS_MAX) æ¥ç¡®å®šå½“å‰ç³»ç»Ÿæœ€å¤šæ”¯æŒå¤šå°‘ä¸ªé”®ã€‚Linux ä¸­é»˜è®¤æ˜¯ 1024 ä¸ªé”®ï¼Œè¿™å¯¹äºå¤§å¤šæ•°ç¨‹åºæ¥è¯´å·²ç»è¶³å¤Ÿäº†ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸­æœ‰å¤šä¸ªçº¿ç¨‹ç‰¹æœ‰æ•°æ®å˜é‡ï¼Œé€šå¸¸å¯ä»¥å°†è¿™äº›å˜é‡å°è£…åˆ°ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­ï¼Œç„¶åä½¿å°è£…åçš„æ•°æ®ç»“æ„ä¸ä¸€ä¸ªçº¿ç¨‹å±€éƒ¨å˜é‡ç›¸å…³è”ï¼Œè¿™æ ·å°±èƒ½å‡å°‘å¯¹é”®å€¼çš„ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="pthread-setspecific"><a href="#pthread-setspecific" class="headerlink" title="pthread_setspecific"></a>pthread_setspecific</h2><pre><code>// Returns 0 on success, or a positive error number on error
int pthread_setspecific (pthread_key_t key, const void *value);
</code></pre><p>å‡½æ•° pthread_setspecific() ç”¨äºå°† value çš„å‰¯æœ¬å­˜å‚¨äºä¸€æ•°æ®ç»“æ„ä¸­ï¼Œå¹¶å°†å…¶ä¸è°ƒç”¨çº¿ç¨‹ä»¥åŠ key ç›¸å…³è”ã€‚</p>
<p>å‚æ•° value é€šå¸¸æŒ‡å‘ç”±è°ƒç”¨è€…åˆ†é…çš„ä¸€å—å†…å­˜ï¼Œå½“çº¿ç¨‹ç»ˆæ­¢æ—¶ï¼Œä¼šå°†è¯¥æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸ key ç›¸å…³è”çš„ destructor å‡½æ•°ã€‚</p>
<h2 id="pthread-getspecific"><a href="#pthread-getspecific" class="headerlink" title="pthread_getspecific"></a>pthread_getspecific</h2><pre><code>// Returns pointer, or NULL if no thread-specific data is associated with key
void *pthread_getspecific (pthread_key_t key);
</code></pre><p>å½“çº¿ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„çº¿ç¨‹ç‰¹æœ‰æ•°æ®å˜é‡åˆå§‹åŒ–ä¸º NULLï¼Œå› æ­¤ç¬¬ä¸€æ¬¡ä½¿ç”¨æ­¤ç±»å˜é‡å‰å¿…é¡»å…ˆè°ƒç”¨ pthread_getspecific() å‡½æ•°æ¥ç¡®è®¤æ˜¯å¦å·²ç»äºå¯¹åº”çš„ key ç›¸å…³è”ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆ pthread_getspecific() ä¼šåˆ†é…ä¸€å—å†…å­˜å¹¶é€šè¿‡ pthread_setspecific() å‡½æ•°ä¿å­˜æŒ‡å‘è¯¥å†…å­˜å—çš„æŒ‡é’ˆã€‚</p>
<blockquote>
<p>å‚æ•° value çš„å€¼ä¹Ÿå¯ä»¥ä¸æ˜¯ä¸€ä¸ªæŒ‡å‘è°ƒç”¨è€…åˆ†é…çš„å†…å­˜åŒºåŸŸï¼Œè€Œæ˜¯ä»»ä½•å¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸º void * çš„å˜é‡å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…ˆå‰çš„ pthread_key<em>create() å‡½æ•°åº”å°†å‚æ•°</em> _destructor è®¾ç½®ä¸º NULL</p>
</blockquote>
<p>å‡½æ•° pthread_getspecific() æ­£å¥½ä¸ pthread_setspecific() ç›¸åï¼Œå…¶æ˜¯å°† pthread_setspecific() è®¾ç½®çš„ value å–å‡ºã€‚åœ¨ä½¿ç”¨å–å‡ºçš„å€¼å‰æœ€å¥½æ˜¯å°† void * è½¬æ¢æˆåŸå§‹æ•°æ®ç±»å‹çš„æŒ‡é’ˆã€‚</p>
<h1 id="ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®API"><a href="#ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®API" class="headerlink" title="ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®API"></a>ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®API</h1><p>æˆ‘ä»¬å…ˆè®¨è®ºä¸€ä¸‹éçº¿ç¨‹å®‰å…¨çš„ <code>stderror()</code> çš„å®ç°, æ¥ç€è¯´æ˜å¦‚ä½•ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®æ¥å®ç°è¯¥å‡½æ•°çš„çº¿ç¨‹å®‰å…¨.</p>
<h2 id="éçº¿ç¨‹å®‰å…¨çš„stderror"><a href="#éçº¿ç¨‹å®‰å…¨çš„stderror" class="headerlink" title="éçº¿ç¨‹å®‰å…¨çš„stderror()"></a>éçº¿ç¨‹å®‰å…¨çš„stderror()</h2><p>An implementation of strerror() that is not thread-safe.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************\</span></span><br><span class="line"><span class="comment">*                  Copyright (C) Michael Kerrisk, 2017.                   *</span></span><br><span class="line"><span class="comment">*                                                                         *</span></span><br><span class="line"><span class="comment">* This program is free software. You may use, modify, and redistribute it *</span></span><br><span class="line"><span class="comment">* under the terms of the GNU General Public License as published by the   *</span></span><br><span class="line"><span class="comment">* Free Software Foundation, either version 3 or (at your option) any      *</span></span><br><span class="line"><span class="comment">* later version. This program is distributed without any warranty.  See   *</span></span><br><span class="line"><span class="comment">* the file COPYING.gpl-v3 for details.                                    *</span></span><br><span class="line"><span class="comment">\*************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Listing 31-1 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* strerror.c</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   An implementation of strerror() that is not thread-safe.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _GNU_SOURCE                 <span class="comment">/* Get '_sys_nerr' and '_sys_errlist'</span></span></span><br><span class="line"><span class="meta"><span class="comment">                                       declarations from &lt;stdio.h&gt; */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;                 /* Get declaration of strerror() */</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_ERROR_LEN 256           <span class="comment">/* Maximum length of string</span></span></span><br><span class="line"><span class="meta"><span class="comment">                                       returned by strerror() */</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> buf[MAX_ERROR_LEN];     <span class="comment">/* Statically allocated return buffer */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> *</span><br><span class="line">strerror(<span class="keyword">int</span> err)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (err &lt; <span class="number">0</span> || err &gt;= _sys_nerr || _sys_errlist[err] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">snprintf</span>(buf, MAX_ERROR_LEN, <span class="string">"Unknown error %d"</span>, err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">strncpy</span>(buf, _sys_errlist[err], MAX_ERROR_LEN - <span class="number">1</span>);</span><br><span class="line">        buf[MAX_ERROR_LEN - <span class="number">1</span>] = <span class="string">'\0'</span>;          <span class="comment">/* Ensure null termination */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> buf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="çº¿ç¨‹å®‰å…¨çš„stderror"><a href="#çº¿ç¨‹å®‰å…¨çš„stderror" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„stderror()"></a>çº¿ç¨‹å®‰å…¨çš„stderror()</h2><p>è¿™æ˜¯ä½¿ç”¨çº¿ç¨‹ç‰¹æœ‰æ•°æ®æŠ€æœ¯å®ç°çš„çº¿ç¨‹å®‰å…¨çš„stderror().</p>
<p>å¦‚æœå¯¹ä½¿ç”¨çº¿ç¨‹å±€éƒ¨å­˜å‚¨æŠ€æœ¯å®ç°çš„çº¿ç¨‹å®‰å…¨çš„stderror()æ„Ÿå…´è¶£,<br>è¯·è½¬ <a href="/thread_local_storage/" title="çº¿ç¨‹å±€éƒ¨å­˜å‚¨">çº¿ç¨‹å±€éƒ¨å­˜å‚¨</a></p>
<p>An implementation of strerror() that is made thread-safe through the use of thread-specific data.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*************************************************************************\</span></span><br><span class="line"><span class="comment">*                  Copyright (C) Michael Kerrisk, 2017.                   *</span></span><br><span class="line"><span class="comment">*                                                                         *</span></span><br><span class="line"><span class="comment">* This program is free software. You may use, modify, and redistribute it *</span></span><br><span class="line"><span class="comment">* under the terms of the GNU General Public License as published by the   *</span></span><br><span class="line"><span class="comment">* Free Software Foundation, either version 3 or (at your option) any      *</span></span><br><span class="line"><span class="comment">* later version. This program is distributed without any warranty.  See   *</span></span><br><span class="line"><span class="comment">* the file COPYING.gpl-v3 for details.                                    *</span></span><br><span class="line"><span class="comment">\*************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Listing 31-3 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* strerror_tsd.c</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   An implementation of strerror() that is made thread-safe through</span></span><br><span class="line"><span class="comment">   the use of thread-specific data.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   See also strerror_tls.c.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _GNU_SOURCE                 <span class="comment">/* Get '_sys_nerr' and '_sys_errlist'</span></span></span><br><span class="line"><span class="meta"><span class="comment">                                       declarations from &lt;stdio.h&gt; */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;                 /* Get declaration of strerror() */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"tlpi_hdr.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">pthread_once_t</span> once = PTHREAD_ONCE_INIT;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">pthread_key_t</span> strerrorKey;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_ERROR_LEN 256           <span class="comment">/* Maximum length of string in per-thread</span></span></span><br><span class="line"><span class="meta"><span class="comment">                                       buffer returned by strerror() */</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span>                         <span class="comment">/* Free thread-specific data buffer */</span></span><br><span class="line">destructor(<span class="keyword">void</span> *buf)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(buf);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span>                         <span class="comment">/* One-time key creation function */</span></span><br><span class="line">createKey(<span class="keyword">void</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> s;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Allocate a unique thread-specific data key and save the address</span></span><br><span class="line"><span class="comment">       of the destructor for thread-specific data buffers */</span></span><br><span class="line"></span><br><span class="line">    s = pthread_key_create(&amp;strerrorKey, destructor);</span><br><span class="line">    <span class="keyword">if</span> (s != <span class="number">0</span>)</span><br><span class="line">        errExitEN(s, <span class="string">"pthread_key_create"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> *</span><br><span class="line">strerror(<span class="keyword">int</span> err)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> s;</span><br><span class="line">    <span class="keyword">char</span> *buf;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Make first caller allocate key for thread-specific data */</span></span><br><span class="line"></span><br><span class="line">    s = pthread_once(&amp;once, createKey);</span><br><span class="line">    <span class="keyword">if</span> (s != <span class="number">0</span>)</span><br><span class="line">        errExitEN(s, <span class="string">"pthread_once"</span>);</span><br><span class="line"></span><br><span class="line">    buf = pthread_getspecific(strerrorKey);</span><br><span class="line">    <span class="keyword">if</span> (buf == <span class="literal">NULL</span>) &#123;          <span class="comment">/* If first call from this thread, allocate</span></span><br><span class="line"><span class="comment">                                   buffer for thread, and save its location */</span></span><br><span class="line">        buf = <span class="built_in">malloc</span>(MAX_ERROR_LEN);</span><br><span class="line">        <span class="keyword">if</span> (buf == <span class="literal">NULL</span>)</span><br><span class="line">            errExit(<span class="string">"malloc"</span>);</span><br><span class="line"></span><br><span class="line">        s = pthread_setspecific(strerrorKey, buf);</span><br><span class="line">        <span class="keyword">if</span> (s != <span class="number">0</span>)</span><br><span class="line">            errExitEN(s, <span class="string">"pthread_setspecific"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (err &lt; <span class="number">0</span> || err &gt;= _sys_nerr || _sys_errlist[err] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">snprintf</span>(buf, MAX_ERROR_LEN, <span class="string">"Unknown error %d"</span>, err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">strncpy</span>(buf, _sys_errlist[err], MAX_ERROR_LEN - <span class="number">1</span>);</span><br><span class="line">        buf[MAX_ERROR_LEN - <span class="number">1</span>] = <span class="string">'\0'</span>;          <span class="comment">/* Ensure null termination */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> buf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="æ·±å…¥ç†è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®æœºåˆ¶"><a href="#æ·±å…¥ç†è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®æœºåˆ¶" class="headerlink" title="æ·±å…¥ç†è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®æœºåˆ¶"></a>æ·±å…¥ç†è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®æœºåˆ¶</h1><p><strong>æ·±å…¥ç†è§£çº¿ç¨‹ç‰¹æœ‰æ•°æ®çš„å®ç°æœ‰åŠ©äºå¯¹å…¶ API çš„ä½¿ç”¨ã€‚</strong></p>
<p>åœ¨å…¸å‹çš„å®ç°ä¸­åŒ…å«ä»¥ä¸‹æ•°ç»„ï¼š</p>
<ul>
<li><p>ä¸€ä¸ªå…¨å±€ï¼ˆè¿›ç¨‹çº§åˆ«ï¼‰çš„æ•°ç»„ï¼Œç”¨äºå­˜æ”¾çº¿ç¨‹ç‰¹æœ‰æ•°æ®çš„é”®å€¼ä¿¡æ¯<br>pthread_key_create() è¿”å›çš„ pthread_key_t ç±»å‹å€¼åªæ˜¯å¯¹å…¨å±€æ•°ç»„çš„ç´¢å¼•ï¼Œè¯¥å…¨å±€æ•°ç»„æ ‡è®°ä¸º pthread_keysï¼Œå…¶æ ¼å¼å¤§æ¦‚å¦‚ä¸‹ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/thread_specific_data/20140521141540062.png" alt></p>
<p>æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—æ®µçš„ç»“æ„ï¼Œç¬¬ä¸€ä¸ªå­—æ®µæ ‡è®°è¯¥æ•°ç»„å…ƒç´ æ˜¯å¦åœ¨ç”¨ï¼Œç¬¬äºŒä¸ªå­—æ®µç”¨äºå­˜æ”¾é’ˆå¯¹æ­¤é”®ã€çº¿ç¨‹ç‰¹æœ‰æ•°æ®å˜çš„è§£æ„å‡½æ•°çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå³ destructor å‡½æ•°ã€‚</p>
</li>
<li><p>æ¯ä¸ªçº¿ç¨‹è¿˜åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œå­˜æœ‰ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…çš„çº¿ç¨‹ç‰¹æœ‰æ•°æ®å—çš„æŒ‡é’ˆï¼ˆé€šè¿‡è°ƒç”¨ pthread_setspecific() å‡½æ•°æ¥å­˜å‚¨çš„æŒ‡é’ˆï¼Œå³å‚æ•°ä¸­çš„ valueï¼‰</p>
</li>
</ul>
<p><strong>åœ¨å¸¸è§çš„å­˜å‚¨ pthread_setspecific()å‡½æ•°å‚æ•° value çš„å®ç°ä¸­ï¼Œå¤§å¤šæ•°éƒ½ç±»ä¼¼äºä¸‹å›¾çš„å®ç°ã€‚</strong></p>
<p>å›¾ä¸­å‡è®¾ pthread_keys[1]åˆ†é…ç»™ func1()å‡½æ•°ï¼Œpthread API ä¸ºæ¯ä¸ªå‡½æ•°ç»´æŠ¤æŒ‡å‘çº¿ç¨‹ç‰¹æœ‰æ•°æ®æ•°æ®å—çš„ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œ<br>å…¶ä¸­æ¯ä¸ªæ•°ç»„å…ƒç´ éƒ½ä¸å›¾çº¿ç¨‹ç‰¹æœ‰æ•°æ®é”®çš„å®ç° (ä¸Šå›¾) ä¸­çš„å…¨å±€ pthread_keys ä¸­å…ƒç´ ä¸€ä¸€å¯¹åº”ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/thread_specific_data/20140521141742921.png" alt></p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li>[1] Linux/UNIX ç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œï¼ˆä¸Šï¼‰ </li>
<li>[2] <a href="http://www.groad.net/bbs/thread-2182-1-1.html" target="_blank" rel="noopener">http://www.groad.net/bbs/thread-2182-1-1.html</a> </li>
<li>[3] <a href="http://baike.baidu.com/view/598128.htm" target="_blank" rel="noopener">http://baike.baidu.com/view/598128.htm</a></li>
</ul>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/git_tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/git_tutorial/" itemprop="url">Git Tutorial</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-12T23:26:16+00:00">
                04-12-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <p>ä¹‹å‰æœ‰ä¸€ä»½ç§äººgitç¬”è®°è€é•¿è€é•¿äº†, ä»Šå¤©å¾—ç©º, æŠŠå®ƒæµ“ç¼©æˆ5åˆ†é’Ÿç‰ˆæœ¬.<br>æ„Ÿè§‰çº¯åŸºç¡€æ€§çš„ä¸œè¥¿æ•´ç†æˆåšå®¢å·®ä¹Ÿå·®ä¸å¤šäº†, è¿˜æœ‰å¾ˆå¤šå‡Œä¹±çš„å·¥ä½œç¬”è®°æ…¢æ…¢åœ¨ä¸€ç‚¹ä¸€ç‚¹æ•´ç†æ”¾ä¸Šæ¥å§,<br>ä¼°è®¡ä¸‹é¢å‡ ç¯‡åšå®¢å°±å¼€å§‹æ¸¸æˆæœåŠ¡å™¨çš„å¼€å‘å¿ƒå¾—ä¹‹ç±»çš„äº†.</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/template_in_cpp_file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/template_in_cpp_file/" itemprop="url">æ¨¡æ¿èƒ½æ”¾cppæ–‡ä»¶é‡Œå—ä¹‹ä¸ºä»€ä¹ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-21T02:27:48+00:00">
                03-21-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <blockquote>
<p>  <strong>ã€ŠC++ ç¼–ç¨‹æ€æƒ³ã€‹ç¬¬ 15 ç«  (ç¬¬ 300 é¡µ) è¯´æ˜äº†åŸå› </strong>ï¼š<br>   æ¨¡æ¿å®šä¹‰å¾ˆç‰¹æ®Šã€‚ç”± template&lt;â€¦&gt; å¤„ç†çš„ä»»ä½•ä¸œè¥¿éƒ½æ„å‘³ç€ç¼–è¯‘å™¨åœ¨å½“æ—¶ä¸ä¸ºå®ƒåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå®ƒä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ç›´åˆ°è¢«ä¸€ä¸ªæ¨¡æ¿å®ä¾‹å‘ŠçŸ¥ã€‚åœ¨ç¼–è¯‘å™¨å’Œè¿æ¥å™¨çš„æŸä¸€å¤„ï¼Œ<br>   æœ‰ä¸€æœºåˆ¶èƒ½å»æ‰æŒ‡å®šæ¨¡æ¿çš„å¤šé‡å®šä¹‰ã€‚æ‰€ä»¥ä¸ºäº†å®¹æ˜“ä½¿ç”¨ï¼Œå‡ ä¹æ€»æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­æ”¾ç½®å…¨éƒ¨çš„æ¨¡æ¿å£°æ˜å’Œå®šä¹‰ã€‚</p>
</blockquote>
<p>ä¸Šé¢è¿™æ®µè¯çš„æ„æ€å°±æ˜¯è¯´ï¼Œåªæœ‰æ¨¡æ¿å®ä¾‹åŒ–æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šå¾—çŸ¥ T å®å‚æ˜¯ä»€ä¹ˆã€‚ç¼–è¯‘å™¨åœ¨å¤„ç†æ¨¡æ¿å®ä¾‹åŒ–æ—¶ï¼Œä¸ä»…ä»…è¦çœ‹åˆ°æ¨¡æ¿çš„å®šä¹‰å¼ï¼Œè¿˜éœ€è¦æ¨¡ç‰ˆçš„å®ç°ä½“ã€‚</p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/latency_compensating_methods_in_client_server_in_game_protocol_design_and_optimization/" itemprop="url">C/Sæ¸¸æˆæ¶æ„ä¸­å»¶è¿Ÿè¡¥å¿çš„è®¾è®¡å’Œä¼˜åŒ–æ–¹æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-06T20:37:38+00:00">
                01-06-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="è‡ªæˆ‘æ€»ç»“"><a href="#è‡ªæˆ‘æ€»ç»“" class="headerlink" title="è‡ªæˆ‘æ€»ç»“"></a>è‡ªæˆ‘æ€»ç»“</h1><p>æ³¨ : Vç¤¾è¿™ç¯‡æ–‡ç« ç›¸å½“æœ‰ä»·å€¼, æ‰€ä»¥ä¼šæœ‰å°½å¯èƒ½è¯¦ç»†çš„æ³¨è§£ä»¥åŠå¯¹åŸè¯‘æ–‡å„ç§ç¿»è¯‘çº°æ¼çš„ä¿®æ­£.</p>
<p>å¹¿ä¹‰çš„å»¶è¿Ÿè¡¥å¿ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ :</p>
<ul>
<li><strong>A å¦‚ä½•æ˜¾ç¤ºç›®æ ‡</strong><ul>
<li><strong>a. å¯¹äºæœ¬ç©å®¶è‡ªå·±</strong><ul>
<li><strong>å®¢æˆ·ç«¯é¢„è¡¨ç°</strong>(æœ¬æ–‡ç¿»è¯‘ä¸ºâ€å®¢æˆ·ç«¯é¢„æµ‹â€) : æ¯”å¦‚å¯¹äºç©å®¶ç§»åŠ¨çš„é¢„æµ‹, å¯ä»¥æŠŠæœåŠ¡å™¨ç¡®è®¤è¿‡çš„movementä¿¡æ¯ä½œä¸ºå¼€å§‹, ç„¶åä½¿ç”¨è‡ªå·±æœ¬åœ°çš„movement inputæ¥è¿›è¡Œé¢„è¡¨ç°, æœåŠ¡å™¨è·Ÿå®¢æˆ·ç«¯å…±äº«åŒä¸€å¥—moveä»£ç , å½“æœåŠ¡å™¨çš„ç¡®è®¤ä¿¡æ¯è¿‡æ¥ä¹‹åå°±ç›´æ¥ä½¿ç”¨æœåŠ¡å™¨å‘è¿‡æ¥çš„from stateè¿›è¡Œä¿®æ­£å¹¶ä»¥from stateä¸ºåŸºç¡€æ‰§è¡Œä¹‹åçš„é¢„æµ‹.</li>
</ul>
</li>
<li><strong>b. å¯¹äºå…¶ä»–ç©å®¶</strong><ul>
<li><strong>i. å¤–æ¨æ³•</strong> : å³èˆªä½æ¨æµ‹æ³•, å¤–æ¨æ³•æŠŠå…¶å®ƒç©å®¶/ç‰©ä½“çœ‹ä½œä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹å¼€å§‹çš„ä½ç½®ã€æ–¹å‘ã€é€Ÿåº¦å·²çŸ¥ï¼Œæ²¿ç€è‡ªå·±çš„å¼¹é“å‘å‰ç§»åŠ¨ã€‚å› æ­¤ï¼Œå‡è®¾å»¶æ—¶æ˜¯100msï¼Œæœ€æ–°çš„åè®®é€šçŸ¥å®¢æˆ·ç«¯è¿™ä¸ªç©å®¶å¥”è·‘é€Ÿåº¦æ˜¯500å•ä½æ¯ç§’ï¼Œæ–¹å‘å‚ç›´äºç©å®¶è§†çº¿ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥å‡è®¾äº‹å®ä¸Šè¿™ä¸ªç©å®¶å½“å‰å®é™…çš„ä½ç½®å·²ç»å‘å‰ç§»åŠ¨äº†50ä¸ªå•ä½ã€‚å®¢æˆ·ç«¯å¯ä»¥åœ¨è¿™ä¸ªå¤–æ¨çš„ä½ç½®æ¸²æŸ“è¿™ä¸ªç©å®¶. è¿™ä¸ªæ–¹æ³•ä¸é€‚ç”¨äºFPSæ¸¸æˆ, å› ä¸ºå¤§éƒ¨åˆ†FPSæ¸¸æˆé‡‡ç”¨éç°å®çš„ç©å®¶ç³»ç»Ÿï¼Œç©å®¶å¯ä»¥éšæ—¶è½¬å¼¯ï¼Œå¯ä»¥åœ¨ä»»æ„è§’åº¦ä½œç”¨ä¸ç°å®çš„åŠ é€Ÿåº¦ï¼Œå› æ­¤å¤–æ¨æ³•å¾—åˆ°çš„ç»“æœç»å¸¸æ˜¯é”™è¯¯åœ°</li>
<li><strong>ii. å†…æ¨æ³•</strong> : å³å½±å­è·Ÿéšæ³•, è¿™ç§æ–¹æ³•æ˜¯ç”¨å»¶æ—¶æ¥æ¢å–å¹³æ»‘, å®¢æˆ·ç«¯ç‰©ä½“å®é™…ç§»åŠ¨ä½ç½®æ€»æ˜¯æ»åä¸€æ®µæ—¶é—´ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæœåŠ¡å™¨æ¯ç§’åŒæ­¥10æ¬¡ä¸–ç•Œä¿¡æ¯ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“çš„æ—¶å€™ä¼šæœ‰100msæ»åã€‚è¿™æ ·ï¼Œæ¯ä¸€å¸§æ¸²æŸ“çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡æœ€æ–°æ”¶åˆ°çš„ä½ç½®ä¿¡æ¯å’Œå‰100msçš„ä½ç½®ä¿¡æ¯ï¼ˆæˆ–è€…ä¸Šä¸€å¸§æ¸²æŸ“ä½ç½®ï¼‰è¿›è¡Œå·®å€¼å¾—åˆ°ç»“æœ.<ul>
<li><strong>å¦‚æœä¸€ä¸ªæ›´æ–°åŒ…æ²¡æœ‰æ”¶åˆ°ï¼Œæœ‰2ç§å¤„ç†æ–¹æ³•</strong> : <ul>
<li>ç”¨ä¸Šé¢ä»‹ç»çš„å¤–æ¨æ³•ï¼ˆæœ‰å¯èƒ½äº§ç”Ÿè¾ƒå¤§è¯¯å·®ï¼‰ï¼›</li>
<li>ä¿æŒç©å®¶ä½äºå½“å‰ä½ç½®ç›´åˆ°æ”¶åˆ°ä¸‹ä¸€ä¸ªæ›´æ–°åŒ…(ä¼šå¯¼è‡´ç©å®¶ç§»åŠ¨é¡¿æŒ«)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>B. å»¶è¿Ÿè¡¥å¿</strong>, æ­¥éª¤å¦‚ä¸‹ : </p>
<ol>
<li>ä¸ºç©å®¶è®¡ç®—ä¸€ä¸ªç›¸å½“ç²¾ç¡®çš„å»¶è¿Ÿæ—¶é—´</li>
<li>å¯¹æ¯ä¸ªç©å®¶ï¼Œä»æœåŠ¡å™¨å†å²ä¿¡æ¯ä¸­æ‰¾ä¸€ä¸ªå·²å‘é€ç»™è¿™ä¸ªç©å®¶å¹¶ä¸”è¿™ä¸ªç©å®¶å·²æ”¶åˆ°çš„çš„world update, è¿™ä¸ªworld updateæ˜¯åœ¨è¿™ä¸ªç©å®¶å°†è¦æ‰§è¡Œè¿™ä¸ªmovement commandä¹‹å‰çš„world update</li>
<li>å¯¹äºæ¯ä¸€ä¸ªç©å®¶ï¼Œå°†å…¶ä»ä¸Šè¿°çš„world updateå¤„æ‹‰å›åˆ°è¿™ä¸ªç©å®¶ç”Ÿæˆæ­¤user commandçš„æ›´æ–°æ—¶é—´ä¸­æ‰§è¡Œç”¨æˆ·å‘½ä»¤ã€‚è¿™ä¸ªå›é€€æ—¶é—´éœ€è¦è€ƒè™‘åˆ°å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™çš„ç½‘ç»œå»¶æ—¶å’Œæ’å€¼é‡</li>
<li>æ‰§è¡Œç©å®¶å‘½ä»¤ï¼ˆåŒ…æ‹¬æ­¦å™¨å¼€ç«ç­‰ã€‚ï¼‰</li>
<li>å°†æ‰€æœ‰ç§»åŠ¨çš„ã€é”™ä½çš„ç©å®¶ç§»åŠ¨åˆ°ä»–ä»¬å½“å‰æ­£ç¡®ä½ç½®</li>
</ol>
</li>
</ul>
<h1 id="åŸæ–‡"><a href="#åŸæ–‡" class="headerlink" title="åŸæ–‡"></a>åŸæ–‡</h1><p><a href="https://developer.valvesoftware.com/wiki/Latency_Compensating_Methods_in_Client/Server_In-game_Protocol_Design_and_Optimization" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<p>åŸæ–‡æ ‡é¢˜ : <strong>Latency Compensating Methods in Client/Server In-game Protocol Design and Optimization</strong></p>
<hr>
<div id="toc" class="toc" style="display:none"><br>    <div id="toctitle"><br>        <h2 id="Contents">Contents</h2><br>    </div><br>    <ul><br>        <li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li><br>        <li class="toclevel-1 tocsection-2"><a href="#Basic_Architecture_of_a_Client_.2F_Server_Game"><span class="tocnumber">2</span> <span class="toctext">Basic Architecture of a Client / Server Game</span></a></li><br>        <li class="toclevel-1 tocsection-3"><a href="#Contents_of_the_User_Input_messages"><span class="tocnumber">3</span> <span class="toctext">Contents of the User Input messages</span></a></li><br>        <li class="toclevel-1 tocsection-4"><a href="#Client_Side_Prediction"><span class="tocnumber">4</span> <span class="toctext">Client Side Prediction</span></a></li><br>        <li class="toclevel-1 tocsection-5"><a href="#Client-Side_Prediction_of_Weapon_Firing"><span class="tocnumber">5</span> <span class="toctext">Client-Side Prediction of Weapon Firing</span></a></li><br>        <li class="toclevel-1 tocsection-6"><a href="#Umm.2C_This_is_a_Lot_of_Work"><span class="tocnumber">6</span> <span class="toctext">Umm, This is a Lot of Work</span></a></li><br>        <li class="toclevel-1 tocsection-7"><a href="#Display_of_Targets"><span class="tocnumber">7</span> <span class="toctext">Display of Targets</span></a></li><br>        <li class="toclevel-1 tocsection-8"><a href="#Lag_Compensation"><span class="tocnumber">8</span> <span class="toctext">Lag Compensation</span></a></li><br>        <li class="toclevel-1 tocsection-9"><a href="#Game_Design_Implications_of_Lag_Compensation"><span class="tocnumber">9</span> <span class="toctext">Game Design Implications of Lag Compensation</span></a></li><br>        <li class="toclevel-1 tocsection-10"><a href="#Conclusion"><span class="tocnumber">10</span> <span class="toctext">Conclusion</span></a></li><br>        <li class="toclevel-1 tocsection-11"><a href="#Footnotes"><span class="tocnumber">11</span> <span class="toctext">Footnotes</span></a></li><br>    </ul><br></div>

<p></p><h2 id="Overview">Overview</h2><p></p>
<p>Dsigning first-person action games for Internet play is a challenging process. Having robust on-line gameplay in your action title, however, is becoming essential to the success and longevity of the title. In addition, the PC space is well known for requiring developers to support a wide variety of customer setups. Often, customers are running on less than state-of-the-art hardware. The same holds true for their network connections.<br></p><p>While broadband has been held out as a panacea for all of the current woes of on-line gaming, broadband is not a simple solution allowing developers to ignore the implications of latency and other network factors in game designs. It will be some time before broadband truly becomes adopted in the United States, and much longer before it can be assumed to exist for your clients in the rest of the world. In addition, there are a lot of poor broadband solutions, where users may occasionally have high bandwidth, but more often than not also have significant latency and packet loss in their connections.<br></p><p>Your game must behave well in this world. This discussion will give you a sense of some of the tradeoffs required to deliver a cutting-edge action experience on the Internet. The discussion will provide some background on how client / server architectures work in many on-line action games. In addition, the discussion will show how predictive modeling can be used to mask the effects of latency. Finally, the discussion will describe a specific mechanism, lag compensation, for allowing the game to compensate for connection quality.<br></p>

<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/" itemprop="url">Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-06T20:37:38+00:00">
                01-06-2016
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GS/" itemprop="url" rel="index">
                    <span itemprop="name">GS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="åŸæ–‡"><a href="#åŸæ–‡" class="headerlink" title="åŸæ–‡"></a>åŸæ–‡</h1><p><a href="https://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking" target="_blank" rel="noopener">åŸæ–‡å‡ºå¤„</a></p>
<p>åŸæ–‡æ ‡é¢˜ : <strong>Source Multiplayer Networking</strong></p>
<hr>
<p>Multiplayer games based on the <a href="/wiki/Source_Engine" title="Source Engine" class="mw-redirect">Source Engine</a> use a <a href="http://en.wikipedia.org/wiki/Client-server" class="extiw" title="wikipedia:Client-server" target="_blank" rel="noopener">Client-Server</a> networking architecture. Usually a server is a dedicated host that runs the game and is authoritative about world simulation, game rules, and player input processing. A client is a playerâ€™s computer connected to a game server. The client and server communicate with each other by sending small data packets at a high frequency (usually 20 to 30 packets per second). A client receives the current world state from the server and generates video and audio output based on these updates. The client also samples data from input devices (keyboard, mouse, microphone, etc.) and sends these input samples back to the server for further processing. Clients only communicate with the game server and not between each other (like in a peer-to-peer application). In contrast with a single player game, a multiplayer game has to deal with a variety of new problems caused by packet-based communication.<br></p><p>Network bandwidth is limited, so the server canâ€™t send a new update packet to all clients for every single world change. Instead, the server takes snapshots of the current world state at a constant rate and broadcasts these snapshots to the clients. Network packets take a certain amount of time to travel between the client and the server (i.e. half the ping time). This means that the client time is always a little bit behind the server time. Furthermore, client input packets are also delayed on their way back, so the server is processing temporally delayed user commands. In addition, each client has a different network delay which varies over time due to other background traffic and the clientâ€™s framerate. These time differences between server and client causes logical problems, becoming worse with increasing network latencies. In fast-paced action games, even a delay of a few milliseconds can cause a laggy gameplay feeling and make it hard to hit other players or interact with moving objects. Besides bandwidth limitations and network latencies, information can get lost due to network packet loss.<br></p>

<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/source_multiplayer_networking_img_1.gif">
<p>To cope with the issues introduced by network communication, the Source engine server employs techniques such as data compression and lag compensation which are invisible to the client. The client then performs prediction and interpolation to further improve the experience.<br></p><br><h2 id="Basic_networking">Basic networking</h2><br><p>The server simulates the game in discrete time steps called ticks. By default, the timestep is 15ms, so 66.666â€¦ ticks per second are simulated, but mods can specify their own <a href="/wiki/Tickrate" title="Tickrate" class="mw-redirect">tickrate</a>. During each tick, the server processes incoming user commands, runs a physical simulation step, checks the game rules, and updates all object states. After simulating a tick, the server decides if any client needs a world update and takes a snapshot of the current world state if necessary. A higher tickrate increases the simulation precision, but also requires more CPU power and available bandwidth on both server and client. The server admin may override the default tickrate with the <code>-tickrate</code> command line parameter, though tickrate changes done this way are not recommended because the mod may not work as designed if its tickrate is changed.<br></p><br><div title="Information" style="margin:0.4em 1em 0.5em;"><strong style="display:table-cell;text-align:right;white-space:nowrap;padding-right:0.3em;">Note:</strong><span style="display:table-cell;">The <code>-tickrate</code> command line parameter is not available on CSS, DoD S, TF2, L4D and L4D2 because changing tickrate causes server timing issues. The tickrate is set to 66 in CSS, DoD S and TF2, and 30 in L4D and L4D2.</span></div><br><p>Clients usually have only a limited amount of available bandwidth. In the worst case, players with a modem connection canâ€™t receive more than 5 to 7 KB/sec. If the server tried to send them updates with a higher data rate, packet loss would be unavoidable. Therefore, the client has to tell the server its incoming bandwidth capacity by setting the console variable <code>rate</code> (in bytes/second). This is the most important network variable for clients and it has to be set correctly for an optimal gameplay experience. The client can request a certain snapshot rate by changing <code>cl_updaterate</code> (default 20), but the server will never send more updates than simulated ticks or exceed the requested client <code>rate</code> limit. Server admins can limit data rate values requested by clients with <code>sv_minrate</code> and <code>sv_maxrate</code> (both in bytes/second). Also the snapshot rate can be restricted with <code>sv_minupdaterate</code> and <code>sv_maxupdaterate</code> (both in snapshots/second).<br></p><p>The client creates <i>user commands</i> from sampling input devices with the same tick rate that the server is running with. A user command is basically a snapshot of the current keyboard and mouse state. But instead of sending a new packet to the server for each user command, the client sends command packets at a certain rate of packets per second (usually 30). This means two or more user commands are transmitted within the same packet. Clients can increase the command rate with <code>cl_cmdrate</code>. This will increase responsiveness but requires more outgoing bandwidth, too.<br></p><p>Game data is compressed using <i>delta compression</i> to reduce network load. That means the server doesnâ€™t send a full world snapshot each time, but rather only changes (a delta snapshot) that happened since the last acknowledged update. With each packet sent between the client and server, acknowledge numbers are attached to keep track of their data flow. Usually full (non-delta) snapshots are only sent when a game starts or a client suffers from heavy packet loss for a couple of seconds. Clients can request a full snapshot manually with the <code>cl_fullupdate</code> command.<br></p><p>Responsiveness, or the time between user input and its visible feedback in the game world, are determined by lots of factors, including the server/client CPU load, simulation tickrate, data rate and snapshot update settings, but mostly by the network packet traveling time. The time between the client sending a user command, the server responding to it, and the client receiving the serverâ€™s response is called the <i>latency</i> or <i>ping</i> (or round trip time). Low latency is a significant advantage when playing a multiplayer online game. Techniques like prediction and lag compensation try to minimize that advantage and allow a fair game for players with slower connections. Tweaking networking setting can help to gain a better experience if the necessary bandwidth and CPU power is available. We recommend keeping the default settings, since improper changes may cause more negative side effects than actual benefits.<br></p><br><h2 id="Servers_that_Support_Tickrate">Servers that Support Tickrate</h2><br><p>The tickrate can be altered by using the <code>-tickrate</code> parameter<br></p><br><ul><br><li>Counter Strike: Global Offensive<br></li><br><li>Half-Life 2: Deathmatch<br></li><br></ul><br><p><br><br>The following servers tickrate cannot be altered as changing this causes server timing issues.<br></p><p><br><br>Tickrate 66<br></p><br><ul><br><li>Counter Strike: Source<br></li><br><li>Day of Defeat: Source<br></li><br><li>Team Fortress 2<br></li><br></ul><br><p>Tickrate 30<br></p><br><ul><br><li>Left 4 Dead<br></li><br><li>Left 4 Dead 2<br></li><br></ul><br><h2 id="Entity_interpolation">Entity interpolation</h2><br><p>By default, the client receives about 20 snapshot per second. If the objects (entities) in the world were only rendered at the positions received by the server, moving objects and animation would look choppy and jittery. Dropped packets would also cause noticeable glitches. The trick to solve this problem is to go back in time for rendering, so positions and animations can be continuously interpolated between two recently received snapshots. With 20 snapshots per second, a new update arrives about every 50 milliseconds. If the client render time is shifted back by 50 milliseconds, entities can be always interpolated between the last received snapshot and the snapshot before that.<br></p><p>Source defaults to an interpolation period (â€˜lerpâ€™) of 100-milliseconds (<code>cl_interp 0.1</code>); this way, even if one snapshot is lost, there are always two valid snapshots to interpolate between. Take a look at the following figure showing the arrival times of incoming world snapshots:<br></p>

<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/source_multiplayer_networking_img_2.gif">
<p>The last snapshot received on the client was at tick 344 or 10.30 seconds. The client time continues to increase based on this snapshot and the client frame rate. If a new video frame is rendered, the rendering time is the current client time 10.32 minus the view interpolation delay of 0.1 seconds. This would be 10.22 in our example and all entities and their animations are interpolated using the correct fraction between snapshot 340 and 342.<br></p><p>Since we have an interpolation delay of 100 milliseconds, the interpolation would even work if snapshot 342 were missing due to packet loss. Then the interpolation could use snapshots 340 and 344. If more than one snapshot in a row is dropped, interpolation canâ€™t work perfectly because it runs out of snapshots in the history buffer. In that case the renderer uses extrapolation (<code>cl_extrapolate 1</code>) and tries a simple linear extrapolation of entities based on their known history so far. The extrapolation is done only for 0.25 seconds of packet loss (<code>cl_extrapolate_amount</code>), since the prediction errors would become too big after that.<br></p><p><b>Entity interpolation causes a constant view â€œlagâ€ of 100 milliseconds by default (<code>cl_interp 0.1</code>), even if youâ€™re playing on a listenserver</b> (server and client on the same machine). This doesnâ€™t mean you have to lead your aiming when shooting at other players since the server-side lag compensation knows about client entity interpolation and corrects this error.<br></p><br><div style="margin:0.4em 1em 0.5em;"><strong style="display:table-cell;text-align:right;white-space:nowrap;padding-right:0.3em;">Tip:</strong><span style="display:table-cell;">More recent Source games have the <code>cl_interp_ratio</code> cvar. With this you can easily and safely decrease the interpolation period by setting <code>cl_interp</code> to 0, then increasing the value of <code>cl_updaterate</code> (the useful limit of which depends on server tickrate). You can check your final lerp with <code>net_graph 1</code>.</span></div><br><div title="Information" style="margin:0.4em 1em 0.5em;"><strong style="display:table-cell;text-align:right;white-space:nowrap;padding-right:0.3em;">Note:</strong><span style="display:table-cell;">If you turn on <code>sv_showhitboxes</code> (not available in Source 2009) you will see player hitboxes drawn in server time, meaning they are ahead of the rendered player model by the lerp period. This is perfectly normal!</span></div><br><h2 id="Input_prediction">Input prediction</h2><br><p>Lets assume a player has a network latency of 150 milliseconds and starts to move forward. The information that the <code>+FORWARD</code> key is pressed is stored in a user command and send to the server. There the user command is processed by the movement code and the playerâ€™s character is moved forward in the game world. This world state change is transmitted to all clients with the next snapshot update. So the player would see his own change of movement with a 150 milliseconds delay after he started walking. This delay applies to all players actions like movement, shooting weapons, etc. and becomes worse with higher latencies.<br></p><p>A delay between player input and corresponding visual feedback creates a strange, unnatural feeling and makes it hard to move or aim precisely. Client-side input prediction (<code>cl_predict 1</code>) is a way to remove this delay and let the playerâ€™s actions feel more instant. Instead of waiting for the server to update your own position, the local client just predicts the results of its own user commands. Therefore, the client runs exactly the same code and rules the server will use to process the user commands. After the prediction is finished, the local player will move instantly to the new location while the server still sees him at the old place.<br></p><p>After 150 milliseconds, the client will receive the server snapshot that contains the changes based on the user command he predicted earlier. Then the client compares the server position with his predicted position. If they are different, a prediction error has occurred. This indicates that the client didnâ€™t have the correct information about other entities and the environment when it processed the user command. Then the client has to correct its own position, since the server has final authority over client-side prediction. If <code>cl_showerror 1</code> is turned on, clients can see when prediction errors happen. Prediction error correction can be quite noticeable and may cause the clientâ€™s view to jump erratically. By gradually correcting this error over a short amount of time (<code>cl_smoothtime</code>), errors can be smoothly corrected. Prediction error smoothing can be turned off with <code>cl_smooth 0</code>.<br></p><p>Prediction is only possible for the local player and entities affected only by him, since prediction works by using the clientâ€™s keypresses to make a â€œbest guessâ€ of where the player will end up. Predicting other players would require literally predicting the future with no data, since thereâ€™s no way to instantaneously get keypresses from them.<br></p><br><h2 id="Lag_compensation">Lag compensation</h2><br><dl><br><dd><i>All source code for lag compensation and view interpolation is available in the Source SDK. See<br><br><br> for implementation details.</i><br></dd><br></dl><br><p>Letâ€™s say a player shoots at a target at client time 10.5. The firing information is packed into a user command and sent to the server. While the packet is on its way through the network, the server continues to simulate the world, and the target might have moved to a different position. The user command arrives at server time 10.6 and the server wouldnâ€™t detect the hit, even though the player has aimed exactly at the target. This error is corrected by the server-side lag compensation.<br></p><p>The lag compensation system keeps a history of all recent player positions for one second. If a user command is executed, the server estimates at what time the command was created as follows:<br></p><p><br><br>    <strong>Command Execution Time</strong> = <strong>Current Server Time</strong> - <strong>Packet Latency</strong> - <strong>Client View</strong> <a href="/wiki/Interpolation" title="Interpolation"><strong>Interpolation</strong></a><br><br></p><p>Then the server moves all other players - <i>only</i> players - back to where they were at the command execution time. The user command is executed and the hit is detected correctly. After the user command has been processed, the players revert to their original positions.<br></p><br><div title="Information" style="margin:0.4em 1em 0.5em;"><strong style="display:table-cell;text-align:right;white-space:nowrap;padding-right:0.3em;">Note:</strong><span style="display:table-cell;">Since entity interpolation is included in the equation, failing to have it on can cause undesired results.</span></div><br><p>On a listen server you can enable <code>sv_showimpacts 1</code> to see the different server and client hitboxes:<br></p>

<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/source_multiplayer_networking_img_3.jpg">
<p>This screenshot was taken on a listen server with 200 milliseconds of lag (using <code>net_fakelag</code>), right after the server confirmed the hit. The red hitbox shows the target position on the client where it was 100ms + interp period ago. Since then, the target continued to move to the left while the user command was travelling to the server. After the user command arrived, the server restored the target position (blue hitbox) based on the estimated command execution time. The server traces the shot and confirms the hit (the client sees blood effects).<br></p><p>Client and server hitboxes donâ€™t exactly match because of small precision errors in time measurement. Even a small difference of a few milliseconds can cause an error of several inches for fast-moving objects. Multiplayer hit detection is not pixel perfect and has known precision limitations based on the tickrate and the speed of moving objects.<br></p><p>The question arises, why is hit detection so complicated on the server? Doing the back tracking of player positions and dealing with precision errors while hit detection could be done client-side way easier and with pixel precision. The client would just tell the server with a â€œhitâ€ message what player has been hit and where. We canâ€™t allow that simply because a game server canâ€™t trust the clients on such important decisions. Even if the client is â€œcleanâ€ and protected by <a href="/wiki/Valve_Anti-Cheat" title="Valve Anti-Cheat">Valve Anti-Cheat</a>, the packets could be still modified on a 3rd machine while routed to the game server. These â€œcheat proxiesâ€ could inject â€œhitâ€ messages into the network packet without being detected by VAC (a â€œman-in-the-middleâ€ attack).<br></p><p>Network latencies and lag compensation can create paradoxes that seem illogical compared to the real world. For example, you can be hit by an attacker you canâ€™t even see anymore because you already took cover. What happened is that the server moved your player hitboxes back in time, where you were still exposed to your attacker. This inconsistency problem canâ€™t be solved in general because of the relatively slow packet speeds. In the real world, you donâ€™t notice this problem because light (the packets) travels so fast and you and everybody around you sees the same world as it is right now.<br></p><br><h2 id="Net_graph">Net graph</h2><br><p>The Source engine offers a couple of tools to check your client connection speed and quality. The most popular one is the net graph, which can be enabled with <code>net_graph 2</code> (or <code>+graph</code>). Incoming packets are represented by small lines moving from right to left. The height of each line reflects size of a packet. If a gap appears between lines, a packet was lost or arrived out of order. The lines are color-coded depending on what kind of data they contain.<br></p><p>Under the net graph, the first line shows your current rendered frames per second, your average latency, and the current value of <code>cl_updaterate</code>. The second line shows the size in bytes of the last incoming packet (snapshots), the average incoming bandwidth, and received packets per second. The third line shows the same data just for outgoing packets (user commands).<br></p>

<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/Sourceå¼•æ“å¤šäººæ¸¸æˆç½‘ç»œè®¾è®¡/source_multiplayer_networking_img_4.jpg">
<p></p><h2 id="Optimizations">Optimizations</h2><p></p>
<p></p><p>The default networking settings are designed for playing on dedicated server on the Internet. The settings are balanced to work well for most client/server hardware and network configurations. For Internet games the only console variable that should be adjusted on the client is â€œrateâ€, which defines your available bytes/second bandwidth of your network connection. Good values for â€œrateâ€ is 4500 for modems, 6000 for ISDN, 10000 DSL and above.<br></p><p>In an high-performance network environment, where the server and all clients have the necessary hardware resources available, itâ€™s possible to tweak bandwidth and tickrate settings to gain more gameplay precision. Increasing the server tickrate generally improves movement and shooting precision but comes with a higher CPU cost. A Source server running with tickrate 100 generates about 1.5x more CPU load than a default tickrate 66. That can cause serious calculation lags, especially when lots of people are shooting at the same time. Itâ€™s not suggested to run a game server with a higher tickrate than 66 to reserve necessary CPU resources for critical situations.<br></p><p></p>
<div title="Information" style="margin:0.4em 1em 0.5em;"><strong style="display:table-cell;text-align:right;white-space:nowrap;padding-right:0.3em;">Note:</strong><span style="display:table-cell;">It is not possible to change tickrate on CSS, DoD S TF2, L4D and L4D2 because changing tickrate causes server timing issues. The tickrate is set to 66 in CSS, DoD S and TF2, and 30 in L4D and L4D2.</span></div><br><p>If the game server is running with a higher tickrate, clients can increase their snapshot update rate (cl_updaterate) and user command rate (cl_cmdrate), if the necessary bandwidth (rate) is available. The snapshot update rate is limited by the server tickrate, a server canâ€™t send more then one update per tick. So for a tickrate 66 server, the highest client value for cl_updaterate would be 66. If you increase the snapshot rate and encounter packet loss or choke, you have to turn it down again. With an increased cl_updaterate you can also lower the view interpolation delay (cl_interp). The default interpolation delay is 0.1 seconds, which derives from the default cl_updaterate 20. View interpolation delay gives a moving player a small advantage over a stationary player since the moving player can see his target a split second earlier. This effect is unavoidable, but it can be reduced by decreasing the view interpolation delay. If both players are moving, the view lag delay is affecting both players and nobody has an advantage.<br></p><p>This is the relation between snapshot rate and view interpolation delay is the following:<br></p><p><span style="text-align:center; font-weight:bold; font-family:monospace;display:block;font-size:1.2em;">interpolation period = max( cl_interp, cl_interp_ratio / cl_updaterate )</span><br></p><p>â€œMax(x,y)â€ means â€œwhichever of these is higherâ€. You can set <code>cl_interp</code> to 0 and still have a safe amount of interp. You can then increase cl_updaterate to decrease your interp period further, but donâ€™t exceed tickrate (66) or flood your connection with more data than it can handle.<br></p><br><h3 id="Tips">Tips</h3><br><dl><br>    <dt>Donâ€™t change console settings unless you are 100% sure what you are doing</dt><br>    <code>Most &quot;high-performance&quot; setting cause exactly the opposite effect, if the server or network can&#39;t handle the load.</code><br><br>    <dt>Donâ€™t turn off view interpolation and/or lag compensation</dt><br>    <code>It will not improve movement or shooting precision.</code><br><br>    <dt>Optimized setting for one client may not work for other clients</dt><br>    <code>Do not just use settings from other clients without verifing them for your system.</code><br><br>    <dt>If you follow a player in â€œFirst-Personâ€ as a spectator in a game or <a href="/wiki/SourceTV" title="SourceTV">SourceTV</a>, you donâ€™t exactly see what the player sees</dt><br>    <code>Spectators see the game world without lag compensation.</code><br></dl><br><br><br><h1 id="è¯‘æ–‡">è¯‘æ–‡</h1><br><br><a href="http://gad.qq.com/program/translateview/7168875" target="_blank" rel="noopener">è¯‘æ–‡å‡ºå¤„</a><br><br><div class="WordSection1"> ç¿»è¯‘ï¼špluswuï¼Œå®¡æ ¡ï¼špluswu<div><span style="font-weight: normal;"><span style="font-family:å¾®è½¯é›…é»‘;font-size:medium;"><br></span></span></div><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">Source</span><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¼•æ“çš„å¤šäººæ¸¸æˆä½¿ç”¨åŸºäº<span>UDP</span>é€šä¿¡çš„<span>C/S</span>æ¶æ„ã€‚æ¸¸æˆä»¥æœåŠ¡å™¨é€»è¾‘ä½œä¸ºä¸–ç•Œæƒå¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡<span>UDP</span>åè®®<span>(20~30packet/s</span>ï¼‰é€šä¿¡ã€‚å®¢æˆ·ç«¯ä»æœåŠ¡å™¨æ¥æ”¶ä¿¡æ¯å¹¶åŸºäºå½“å‰ä¸–ç•ŒçŠ¶æ€æ¸²æŸ“ç”»é¢å’Œè¾“å‡ºéŸ³é¢‘ã€‚å®¢æˆ·ç«¯ä»¥å›ºå®šé¢‘ç‡å‘é€æ“ä½œè¾“å…¥åˆ°æœåŠ¡å™¨ã€‚å®¢æˆ·ç«¯ä»…ä¸æ¸¸æˆæœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯å½¼æ­¤ä¹‹é—´é€šä¿¡ã€‚å¤šäººæ¸¸æˆå¿…é¡»å¤„ç†åŸºäºç½‘ç»œæ¶ˆæ¯åŒæ­¥æ‰€å¸¦æ¥çš„ä¸€ç³»åˆ—é—®é¢˜ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ç½‘ç»œçš„å¸¦å®½æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¸èƒ½ä¸ºæ¯ä¸€ä¸ªä¸–ç•Œçš„å˜åŒ–å‘é€æ–°çš„æ›´æ–°æ•°æ®åŒ…å‘é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ç›¸åï¼ŒæœåŠ¡å™¨ä»¥å›ºå®šçš„é¢‘ç‡å–å½“å‰ä¸–ç•ŒçŠ¶æ€çš„å¿«ç…§å¹¶å¹¿æ’­è¿™äº›å¿«ç…§åˆ°å®¢æˆ·ç«¯ã€‚ç½‘ç»œæ•°æ®åŒ…éœ€è¦ä¸€å®šçš„æ—¶é—´é‡çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼ˆ<span>RTT</span>çš„ä¸€åŠï¼‰æ¥å¾€ã€‚è¿™æ„å‘³ç€å®¢æˆ·ç«¯æ—¶é—´ç›¸å¯¹æœåŠ¡å™¨æ—¶é—´æ€»æ˜¯ç¨æœ‰æ»åã€‚æ­¤å¤–ï¼Œå®¢æˆ·ç«¯è¾“å…¥æ•°æ®åŒ…åŒæ­¥åˆ°æœåŠ¡å™¨ä¹Ÿæœ‰ä¸€å®šç½‘ç»œä¼ è¾“æ—¶é—´ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯è¾“å…¥ä¹Ÿå­˜åœ¨å»¶è¿Ÿçš„ã€‚ä¸åŒçš„å®¢æˆ·ç«¯å› ä¸ºç½‘ç»œå¸¦å®½å’Œé€šä¿¡çº¿è·¯ä¸åŒä¹Ÿä¼šå­˜åœ¨ä¸åŒçš„ç½‘ç»œå»¶æ—¶ã€‚éšç€æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„è¿™äº›ç½‘ç»œå»¶è¿Ÿå¢å¤§<span>, </span>ç½‘ç»œå»¶è¿Ÿå¯èƒ½ä¼šå¯¼è‡´é€»è¾‘é—®é¢˜ã€‚æ¯”å¦‚åœ¨å¿«èŠ‚å¥çš„åŠ¨ä½œæ¸¸æˆä¸­ï¼Œåœ¨å‡ æ¯«ç§’çš„å»¶è¿Ÿç”šè‡³å°±ä¼šå¯¼è‡´æ¸¸æˆå¡é¡¿çš„æ„Ÿè§‰ï¼Œç©å®¶ä¼šè§‰å¾—å¾ˆéš¾æ‰“åˆ°å¯¹æ–¹ç©å®¶æˆ–è¿åŠ¨çš„ç‰©ä½“ã€‚æ­¤å¤–é™¤äº†å¸¦å®½é™åˆ¶å’Œç½‘ç»œå»¶è¿Ÿè¿˜è¦è€ƒè™‘ç½‘ç»œä¼ è¾“ä¸­ä¼šæœ‰æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><img width="554" height="193" id="å›¾ç‰‡ 2" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="http://gameweb-img.qq.com/gad/20160826/image001.1472207636.gif" alt="Sourceå¼•æ“å¤šäººæ¨¡å¼ç½‘ç»œåŒæ­¥æ¨¡å‹"></span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ä¸ºäº†è§£å†³ç½‘ç»œé€šä¿¡å¼•å…¥çš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œ<span>Source</span>å¼•æ“åœ¨æœåŠ¡å™¨åŒæ­¥æ—¶é‡‡ç”¨äº†æ•°æ®å‹ç¼©å’Œå»¶è¿Ÿè¡¥å¿çš„é€»è¾‘ï¼Œå®¢æˆ·ç«¯é‡‡ç”¨äº†é¢„æµ‹è¿è¡Œå’Œæ’å€¼å¹³æ»‘å¤„ç†ç­‰æŠ€æœ¯æ¥è·å¾—æ›´å¥½çš„æ¸¸æˆä½“éªŒã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h2 id="åŸºæœ¬ç½‘ç»œæ¨¡å‹">åŸºæœ¬ç½‘ç»œæ¨¡å‹</h2><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æœåŠ¡å™¨ä»¥ä¸€ä¸ªå›ºå®šçš„æ—¶é—´é—´éš”æ›´æ–°æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ—¶é—´æ­¥é•¿ä¸º<span>15ms</span>ï¼Œä»¥<span>66.66</span>æ¬¡æ¯ç§’çš„é¢‘ç‡æ›´æ–°æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œï¼Œä½†ä¸åŒæ¸¸æˆå¯ä»¥æŒ‡å®šæ›´æ–°é¢‘ç‡ã€‚åœ¨æ¯ä¸ªæ›´æ–°å‘¨æœŸå†…æœåŠ¡å™¨å¤„ç†ä¼ å…¥çš„ç”¨æˆ·å‘½ä»¤ï¼Œè¿è¡Œç‰©ç†æ¨¡æ‹Ÿæ­¥ï¼Œæ£€æŸ¥æ¸¸æˆè§„åˆ™ï¼Œå¹¶æ›´æ–°æ‰€æœ‰çš„å¯¹è±¡çŠ¶æ€ã€‚æ¯ä¸€æ¬¡æ¨¡æ‹Ÿæ›´æ–°<span>tick</span>ä¹‹åæœåŠ¡å™¨ä¼šå†³å®šæ˜¯å¦æ›´æ–°å½“å‰æ—¶é—´å¿«ç…§ä»¥åŠæ¯ä¸ªå®¢æˆ·ç«¯å½“å‰æ˜¯å¦éœ€æ›´æ–°ã€‚è¾ƒé«˜çš„<span>tickrate</span>å¢åŠ äº†æ¨¡æ‹Ÿç²¾åº¦ï¼Œéœ€è¦æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½æœ‰æ›´å¤šå¯ç”¨çš„<span>CPU</span>å’Œå¸¦å®½èµ„æºã€‚å®¢æˆ·é€šå¸¸åªèƒ½æä¾›æœ‰é™çš„å¸¦å®½ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œç©å®¶çš„è°ƒåˆ¶è§£è°ƒå™¨è¿æ¥ä¸èƒ½è·å¾—è¶…è¿‡<span>5-7KB /</span>ç§’çš„æµé‡ã€‚å¦‚æœæœåŠ¡å™¨çš„æ•°æ®æ›´æ–°å‘é€é¢‘ç‡è¶…è¿‡äº†å®¢æˆ·ç«¯çš„å¸¦å®½å¤„ç†é™åˆ¶ï¼Œä¸¢åŒ…æ˜¯ä¸å¯é¿å…çš„ã€‚å› æ­¤å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡åœ¨æ§åˆ¶å°è®¾ç½®æ¥å—å¸¦å®½é™åˆ¶ï¼Œä»¥å‘Šè¯‰æœåŠ¡å™¨å…¶æ”¶åˆ°çš„å¸¦å®½å®¹é‡ã€‚è¿™æ˜¯å®¢æˆ·æœ€é‡è¦çš„ç½‘ç»œå‚æ•°ï¼Œæƒ³è¦è·å¾—æœ€ä½³çš„æ¸¸æˆä½“éªŒçš„è¯å¿…é¡»æ­£ç¡®çš„è®¾ç½®æ­¤å‚æ•°ã€‚å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è®¾ç½®<span>cl_updaterate</span>ï¼ˆé»˜è®¤<span>20</span>ï¼‰æ¥æ”¹å˜è·å¾—å¿«ç…§å¹³çš„é¢‘ç‡ï¼Œä½†æœåŠ¡å™¨æ°¸è¿œä¸ä¼šå‘é€æ¯”<span>tickerate</span>æ›´å¤šçš„æ›´æ–°æˆ–è¶…è¿‡è¯·æ±‚çš„å®¢æˆ·ç«¯å¸¦å®½é™åˆ¶ã€‚æœåŠ¡å™¨ç®¡ç†å‘˜å¯ä»¥é€šè¿‡<span>sv_minrate</span>å’Œ<span>sv_maxrate(byte/s)</span>é™åˆ¶å®¢æˆ·ç«¯çš„ä¸Šè¡Œè¯·æ±‚é¢‘ç‡ã€‚å½“ç„¶å¿«ç…§æ›´æ–°åŒæ­¥é¢‘ç‡éƒ½å—åˆ°<span>sv_minupdaterate</span>å’Œ<span>sv_maxupdaterate</span>ï¼ˆå¿«ç…§<span>/</span>ç§’ï¼‰çš„é™åˆ¶ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å®¢æˆ·ç«¯ä½¿ç”¨ä¸æœåŠ¡ç«¯<span>tickrate</span>ä¸€æ ·çš„é¢‘ç‡é‡‡æ ·æ“ä½œè¾“å…¥åˆ›å»ºç”¨æˆ·å‘½ä»¤ã€‚ç”¨æˆ·å‘½ä»¤åŸºæœ¬ä¸Šæ˜¯å½“å‰çš„é”®ç›˜å’Œé¼ æ ‡çŠ¶æ€çš„å¿«ç…§ã€‚å®¢æˆ·ç«¯ä¸ä¼šæŠŠæ¯ä¸ªç”¨æˆ·å‘½ä»¤éƒ½ç«‹å³å‘é€åˆ°æœåŠ¡å™¨è€Œæ˜¯ä»¥æ¯ç§’ï¼ˆé€šå¸¸æ˜¯<span>30</span>ï¼‰çš„é€Ÿç‡å‘é€å‘½ä»¤åŒ…ã€‚è¿™æ„å‘³ç€ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªç”¨æˆ·çš„å‘½ä»¤åœ¨åŒä¸€åŒ…å†…ä¼ è¾“ã€‚å®¢æˆ·å¯ä»¥å¢åŠ ä¸çš„<span>cl_cmdrate</span>å‘½ä»¤é€Ÿç‡ã€‚è¿™å¯ä»¥æé«˜å“åº”é€Ÿåº¦ï¼Œä½†éœ€è¦æ›´å¤šçš„å‡ºå£å¸¦å®½ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æ¸¸æˆæ•°æ®ä½¿ç”¨å¢é‡æ›´æ–°å‹ç¼©æ¥å‡å°‘ç½‘ç»œä¼ è¾“ã€‚æœåŠ¡å™¨ä¸ä¼šæ¯æ¬¡éƒ½å‘é€ä¸€ä¸ªå®Œæ•´çš„ä¸–ç•Œå¿«ç…§ï¼Œè€Œåªä¼šæ›´æ–°è‡ªä¸Šæ¬¡ç¡®è®¤æ›´æ–°<span>(</span>é€šè¿‡<span>ACK</span>ç¡®è®¤<span>)</span>ä¹‹åæ‰€å‘ç”Ÿçš„å˜åŒ–ï¼ˆå¢é‡å¿«ç…§<span>)</span>ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘é€çš„æ¯ä¸ªåŒ…éƒ½ä¼šå¸¦æœ‰<span>ACK</span>åºåˆ—å·æ¥è·Ÿè¸ªç½‘ç»œæ•°æ®æµã€‚å½“æ¸¸æˆå¼€å§‹æ—¶æˆ–å®¢æˆ·ç«¯åœ¨å‘ç”Ÿéå¸¸ä¸¥é‡çš„æ•°æ®åŒ…ä¸¢å¤±æ—¶<span>, </span>å®¢æˆ·å¯ä»¥è¦æ±‚å…¨é¢å¿«ç…§åŒæ­¥ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ç”¨æˆ·æ“ä½œçš„å“åº”é€Ÿåº¦<span>(</span>æ“ä½œåˆ°æ¸¸æˆä¸–ç•Œä¸­çš„å¯è§†åé¦ˆä¹‹é—´çš„æ—¶é—´<span>)</span>æ˜¯ç”±å¾ˆå¤šå› ç´ å†³å®šçš„ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨<span>/</span>å®¢æˆ·ç«¯çš„<span>CPU</span>è´Ÿè½½ï¼Œæ›´æ–°é¢‘ç‡ï¼Œç½‘ç»œé€Ÿç‡å’Œå¿«ç…§æ›´æ–°è®¾ç½®ï¼Œä½†ä¸»è¦æ˜¯ç”±ç½‘ç»œåŒ…çš„ä¼ è¾“æ—¶é—´ç¡®å®šã€‚ä»å®¢æˆ·ç«¯å‘é€å‘½ä»¤åˆ°æœåŠ¡å™¨å“åº”<span>, </span>å†åˆ°å®¢æˆ·ç«¯æ¥æ”¶æ­¤å‘½ä»¤å¯¹åº”çš„æœåŠ¡å™¨å“åº”è¢«ç§°ä¸ºå»¶è¿Ÿæˆ–<span>ping</span>ï¼ˆæˆ–<span>RTT</span>ï¼‰ã€‚ä½å»¶è¿Ÿåœ¨ç©å¤šäººåœ¨çº¿æ¸¸æˆæ—¶æœ‰æ˜¾è‘—çš„ä¼˜åŠ¿ã€‚å®¢æˆ·ç«¯æœ¬åœ°é¢„æµ‹å’ŒæœåŠ¡å™¨çš„å»¶è¿Ÿè¡¥å¿æŠ€æœ¯å¯ä»¥å°½é‡ä¸ºç½‘ç»œè¾ƒå·®çš„æ¸¸æˆç©å®¶æä¾›ç›¸å¯¹å…¬å¹³çš„ä½“éªŒã€‚å¦‚æœæœ‰è‰¯å¥½çš„å¸¦å®½å’Œ<span>CPU</span>å¯ç”¨ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´ç½‘ç»œè®¾ç½®ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒ<span>, </span>åä¹‹æˆ‘ä»¬å»ºè®®ä¿æŒé»˜è®¤è®¾ç½®ï¼Œå› ä¸ºä¸æ­£ç¡®çš„æ›´æ”¹å¯èƒ½å¯¼è‡´è´Ÿé¢å½±å“å¤§äºå®é™…æ•ˆç›Šã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h2 id="Enitiyæ’å€¼å¹³æ»‘">Enitiyæ’å€¼å¹³æ»‘</h2><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">é€šå¸¸æƒ…å†µä¸‹å®¢æˆ·ç«¯æ¥æ”¶æ¯ç§’çº¦<span>20</span>ä¸ªå¿«ç…§æ›´æ–°ã€‚å¦‚æœä¸–ç•Œä¸­çš„å¯¹è±¡ï¼ˆå®ä½“ï¼‰ç›´æ¥ç”±æœåŠ¡å™¨åŒæ­¥çš„ä½ç½®å‘ˆç°ï¼Œç‰©ä½“ç§»åŠ¨å’ŒåŠ¨ç”»ä¼šçœ‹èµ·æ¥å¾ˆè¯¡å¼‚ã€‚ç½‘ç»œé€šä¿¡çš„ä¸¢åŒ…ä¹Ÿå°†å¯¼è‡´æ˜æ˜¾çš„æ¯›åˆºã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯è¦å»¶è¿Ÿæ¸²æŸ“ï¼Œç©å®¶ä½ç½®å’ŒåŠ¨ç”»å¯ä»¥åœ¨ä¸¤ä¸ªæœ€è¿‘æ”¶åˆ°å¿«ç…§ä¹‹é—´çš„è¿ç»­æ’å€¼ã€‚ä»¥æ¯ç§’<span>20</span>å¿«ç…§ä¸ºä¾‹ï¼Œä¸€ä¸ªæ–°çš„å¿«ç…§æ›´æ–°åˆ°è¾¾æ—¶å¤§çº¦æ¯<span>50</span>æ¯«ç§’ã€‚å¦‚æœå®¢æˆ·ç«¯æ¸²æŸ“å»¶è¿Ÿ<span>50</span>æ¯«ç§’ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°ä¸€ä¸ªå¿«ç…§ï¼Œå¹¶åœ¨æ­¤ä¹‹å‰çš„å¿«ç…§ä¹‹é—´å†…æ’<span>(Source</span>é»˜è®¤ä¸º<span>100</span>æ¯«ç§’çš„æ’è¡¥å‘¨æœŸ<span>)</span>ï¼›è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿ä¸€ä¸ªå¿«ç…§ä¸¢å¤±ï¼Œæ€»æ˜¯å¯ä»¥åœ¨ä¸¤ä¸ªæœ‰æ•ˆå¿«ç…§ä¹‹é—´è¿›è¡Œå¹³æ»‘æ’å€¼ã€‚å¦‚ä¸‹å›¾æ˜¾ç¤ºä¼ å…¥ä¸–ç•Œå¿«ç…§çš„åˆ°è¾¾æ—¶é—´ï¼š</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">         </span><span style="font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><img width="491" height="191" id="å›¾ç‰‡ 3" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="http://gameweb-img.qq.com/gad/20160826/image002.1472207636.gif" alt="Sourceå¼•æ“å¤šäººæ¨¡å¼ç½‘ç»œåŒæ­¥æ¨¡å‹"></span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">åœ¨å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æœ€åä¸€ä¸ªå¿«ç…§æ˜¯åœ¨<span>tick 344</span>æˆ–<span>10.30</span>ç§’ã€‚å®¢æˆ·çš„æ—¶é—´å°†ç»§ç»­åœ¨æ­¤å¿«ç…§çš„åŸºç¡€ä¸ŠåŸºäºå®¢æˆ·ç«¯çš„å¸§ç‡å¢åŠ ã€‚ä¸‹ä¸€ä¸ªè§†å›¾å¸§æ¸²æŸ“æ—¶é—´æ˜¯å½“å‰å®¢æˆ·ç«¯çš„æ—¶é—´<span>10.32</span>å‡å»<span>0.1</span>ç§’çš„ç”»é¢æ’å€¼å»¶è¿Ÿ<span>10.20</span>ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸‹ä¸€ä¸ªæ¸²æŸ“å¸§çš„æ—¶é—´æ˜¯<span>10.22</span>å’Œæ‰€æœ‰å®ä½“åŠå…¶åŠ¨ç”»éƒ½å¯ä»¥åŸºäºå¿«ç…§<span>340</span>å’Œ<span>342</span>åšæ­£ç¡®çš„æ’å€¼å¤„ç†ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æ—¢ç„¶æˆ‘ä»¬æœ‰ä¸€ä¸ª<span>100</span>æ¯«ç§’çš„å»¶è¿Ÿæ’å€¼ï¼Œå¦‚æœå¿«ç…§<span>342</span>ç”±äºä¸¢åŒ…ç¼ºå¤±ï¼Œæ’å€¼å¯ä»¥ä½¿ç”¨å¿«ç…§<span>340</span>å’Œ<span>344</span>æ¥è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚å¦‚æœè¿ç»­å¤šä¸ªå¿«ç…§ä¸¢å¤±ï¼Œæ’å€¼å¤„ç†å¯èƒ½è¡¨ç°ä¸ä¼šå¾ˆå¥½ï¼Œå› ä¸ºæ’å€¼æ˜¯åŸºäºç¼“å†²åŒºçš„å†å²å¿«ç…§è¿›è¡Œçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¸²æŸ“å™¨ä¼šä½¿ç”¨å¤–æ¨æ³•ï¼ˆ<span>cl_extrapolate 1</span>ï¼‰ï¼Œå¹¶å°è¯•åŸºäºå…¶å·²çŸ¥çš„å†å²ï¼Œä¸ºå®ä½“åšä¸€ä¸ªåŸºäºç›®å‰ä¸ºæ­¢çš„ä¸€ä¸ªç®€å•çº¿æ€§å¤–æ¨ã€‚å¤–æ¨åªä¼šå¿«ç…§æ›´æ–°åŒ…è¿ç»­ä¸¢å¤±ï¼ˆ<span>cl_extrapolate_amount</span>ï¼‰<span>0.25</span>ç§’æ‰ä¼šè§¦å‘ï¼Œå› ä¸ºè¯¥é¢„æµ‹ä¹‹åè¯¯å·®å°†å˜å¾—å¤ªå¤§ã€‚å®ä½“å†…ä¼šæ’å¯¼è‡´<span>100</span>æ¯«ç§’é»˜è®¤ï¼ˆ<span>cl_interp 0.1</span>ï¼‰çš„æ’å®šè§†å›¾â€œæ»åâ€ï¼Œå°±ç®—ä½ åœ¨<span>listenserver</span>ï¼ˆæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼‰ä¸Šç©æ¸¸æˆã€‚è¿™å¹¶ä¸æ˜¯è¯´ä½ å¿…é¡»æå‰é¢„åˆ¤åŠ¨ç”»å»ç„å‡†å°„å‡»ï¼Œå› ä¸ºæœåŠ¡å™¨ç«¯çš„æ»åè¡¥å¿çŸ¥é“å®¢æˆ·ç«¯å®ä½“æ’å€¼å¹¶çº æ­£è¿™ä¸ªè¯¯å·®ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æœ€è¿‘<span>Source</span>å¼•æ“çš„æ¸¸æˆæœ‰<span>cl_interp_ratioCVaR</span>çš„ã€‚æœ‰äº†è¿™ä¸ªï¼Œä½ å¯ä»¥è½»æ¾ï¼Œå®‰å…¨åœ°é€šè¿‡è®¾ç½®<span>cl_interp</span>ä¸º<span>0</span>ï¼Œé‚£ä¹ˆå¢åŠ çš„<span>cl_updaterate</span>çš„å€¼ï¼ˆè¿™åŒæ—¶ä¹Ÿä¼šå—é™äºæœåŠ¡å™¨<span>tickrate</span>ï¼‰æ¥å‡å°‘æ’è¡¥å‘¨æœŸã€‚ä½ å¯ä»¥ç”¨<span>net_graph 1</span>æ£€æŸ¥æ‚¨çš„æœ€ç»ˆçº¿æ€§æ’å€¼ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¦‚æœæ‰“å¼€<span>sv_showhitboxes</span>ï¼Œä½ ä¼šçœ‹åˆ°åœ¨æœåŠ¡å™¨æ—¶é—´ç»˜åˆ¶çš„ç©å®¶åŒ…å›´ç›’ï¼Œè¿™æ„å‘³ç€ä»–ä»¬åœ¨å‰è¿›çš„çº¿æ€§æ’å€¼æ—¶æœŸæ‰€å‘ˆç°çš„æ’­æ”¾å™¨æ¨¡å¼ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h2 id="è¾“å…¥é¢„æµ‹">è¾“å…¥é¢„æµ‹</h2><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">è®©æˆ‘ä»¬å‡è®¾ä¸€ä¸ªç©å®¶æœ‰<span>150</span>æ¯«ç§’çš„ç½‘ç»œå»¶è¿Ÿï¼Œå¹¶å¼€å§‹å‰è¿›ã€‚å‰è¿›é”®è¢«æŒ‰ä¸‹çš„ä¿¡æ¯è¢«å­˜å‚¨åœ¨ç”¨æˆ·å‘½ä»¤ï¼Œå¹¶å‘é€è‡³æœåŠ¡å™¨ã€‚ç”¨æˆ·å‘½ä»¤æ˜¯ç”±ç§»åŠ¨ä»£ç é€»è¾‘å¤„ç†ï¼Œç©å®¶çš„è§’è‰²å°†åœ¨æ¸¸æˆä¸–ç•Œä¸­å‘å‰è¡Œèµ°ã€‚è¿™ä¸ªä¸–ç•ŒçŠ¶æ€çš„å˜åŒ–ä¼ é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯çš„ä¸‹ä¸€ä¸ªå¿«ç…§çš„æ›´æ–°ã€‚å› æ­¤ç©å®¶çœ‹åˆ°è‡ªå·±å¼€å§‹è¡ŒåŠ¨çš„å“åº”ä¼šæœ‰<span>150</span>æ¯«ç§’å»¶è¿Ÿï¼Œè¿™ç§å»¶è¿Ÿå¯¹äºé«˜é¢‘åŠ¨ä½œæ¸¸æˆ<span>(</span>ä½“è‚²ï¼Œè®¾è®¡ç±»æ¸¸æˆ<span>)</span>ä¼šæœ‰æ˜æ˜¾çš„å»¶è¿Ÿæ„Ÿã€‚ç©å®¶è¾“å…¥å’Œç›¸åº”çš„è§†è§‰åé¦ˆä¹‹é—´çš„å»¶è¿Ÿä¼šäº§ç”Ÿä¸€ç§å¥‡æ€ªçš„ï¼Œä¸è‡ªç„¶çš„æ„Ÿè§‰ï¼Œä½¿å¾—ç©å®¶å¾ˆéš¾ç§»åŠ¨æˆ–ç²¾ç¡®ç„å‡†ã€‚å®¢æˆ·ç«¯çš„è¾“å…¥é¢„æµ‹ï¼ˆ<span>cl_predict 1</span>ï¼‰æ‰§è¡Œæ˜¯ä¸€ç§æ¶ˆé™¤è¿™ç§å»¶è¿Ÿçš„æ–¹æ³•ï¼Œè®©ç©å®¶çš„è¡ŒåŠ¨æ„Ÿåˆ°æ›´å³æ—¶ã€‚ä¸å…¶ç­‰å¾…æœåŠ¡å™¨æ¥æ›´æ–°è‡ªå·±çš„ä½ç½®ï¼Œåœ¨æœ¬åœ°å®¢æˆ·ç«¯åªæ˜¯é¢„æµ‹è‡ªå·±çš„ç”¨æˆ·å‘½ä»¤çš„ç»“æœã€‚å› æ­¤ï¼Œå®¢æˆ·ç«¯å‡†ç¡®è¿è¡Œç›¸åŒçš„ä»£ç å’Œè§„åˆ™æœåŠ¡å™¨å°†ä½¿ç”¨æ¥å¤„ç†ç”¨æˆ·å‘½ä»¤ã€‚é¢„æµ‹å®Œæˆåï¼Œå½“åœ°çš„ç©å®¶ä¼šç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œè€ŒæœåŠ¡å™¨ä»ç„¶å¯ä»¥çœ‹åˆ°ä»–åœ¨è€åœ°æ–¹ã€‚<span>150</span>æ¯«ç§’åï¼Œå®¢æˆ·ä¼šæ”¶åˆ°åŒ…å«åŸºäºä»–æ—©æœŸé¢„æµ‹ç”¨æˆ·å‘½ä»¤æ›´æ”¹æœåŠ¡å™¨çš„å¿«ç…§ã€‚å®¢æˆ·ç«¯ä¼šå°†é¢„æµ‹ä½ç½®åŒæœåŠ¡å™¨çš„ä½ç½®å¯¹æ¯”ã€‚å¦‚æœå®ƒä»¬æ˜¯ä¸åŒçš„ï¼Œåˆ™å‘ç”Ÿäº†é¢„æµ‹è¯¯å·®ã€‚è¿™è¡¨æ˜ï¼Œåœ¨å®¢æˆ·ç«¯æ²¡æœ‰å…³äºå…¶ä»–å®ä½“çš„æ­£ç¡®ä¿¡æ¯å’Œç¯å¢ƒæ—¶ï¼Œå®ƒå¤„ç†ç”¨æˆ·å‘½ä»¤ã€‚ç„¶åï¼Œå®¢æˆ·ç«¯å¿…é¡»çº æ­£è‡ªå·±çš„ä½ç½®ï¼Œå› ä¸ºæœåŠ¡å™¨æ‹¥æœ‰å®¢æˆ·ç«¯é¢„æµ‹æœ€ç»ˆå†³å®šæƒã€‚å¦‚æœ<span>cl_showerror 1</span>å¼€å¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥çœ‹åˆ°ï¼Œå½“é¢„æµ‹è¯¯å·®å‘ç”Ÿã€‚é¢„æµ‹è¯¯å·®æ ¡æ­£å¯ä»¥æ˜¯ç›¸å½“æ˜æ˜¾çš„ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´å®¢æˆ·ç«¯çš„è§†å›¾ä¸è§„åˆ™è·³åŠ¨ã€‚é€šè¿‡åœ¨ä¸€å®šæ—¶é—´ï¼ˆ<span>cl_smoothtime</span>ï¼‰é€æ¸çº æ­£è¿™ä¸ªé”™è¯¯ï¼Œé”™è¯¯å¯ä»¥é¡ºåˆ©è§£å†³ã€‚é¢„æµ‹è¯¯å·®å¹³æ»‘å¤„ç†å¯ä»¥é€šè¿‡è®¾ç½®<span>cl_smooth 0</span>æ¥å…³é—­ã€‚é¢„æµ‹åªå¯¹æœ¬åœ°ç©å®¶ä»¥åŠé‚£äº›åªæ”¶å®ƒå½±å“çš„å®ä½“æœ‰æ•ˆï¼Œå› ä¸ºé¢„æµ‹çš„å·¥ä½œåŸç†æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯çš„æ“ä½œæ¥é¢„æµ‹çš„ã€‚å¯¹äºå…¶ä»–ç©å®¶æ²¡æ³•åšæœ‰æ•ˆé¢„æµ‹<span>, </span>å› ä¸ºæ²¡æœ‰åŠæ³•ç«‹å³ä»ä»–ä»¬èº«ä¸Šå¾—åˆ°æ“ä½œä¿¡æ¯ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h2 id="å»¶è¿Ÿè¡¥å¿">å»¶è¿Ÿè¡¥å¿</h2><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">       æ¯”æ–¹è¯´ï¼Œä¸€ä¸ªç©å®¶åœ¨<span>10.5s</span>çš„æ—¶åˆ»å°„å‡»äº†ä¸€ä¸ªç›®æ ‡ã€‚å°„å‡»ä¿¡æ¯è¢«æ‰“åŒ…åˆ°ç”¨æˆ·å‘½ä»¤ï¼Œè¯¥å‘½ä»¤é€šè¿‡ç½‘ç»œçš„æ–¹å¼å‘é€è‡³æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æŒç»­æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œï¼Œç›®æ ‡å¯èƒ½å·²ç»ç§»åŠ¨åˆ°ä¸€ä¸ªä¸åŒçš„ä½ç½®ã€‚ç”¨æˆ·å‘½ä»¤åˆ°è¾¾æœåŠ¡å™¨æ—¶é—´<span>10.6</span>æ—¶æœåŠ¡å™¨å°±æ— æ³•æ£€æµ‹åˆ°å°„å‡»å‘½ä¸­ï¼Œå³ä½¿ç©å®¶å·²ç»åœ¨ç›®æ ‡å‡†ç¡®ç„å‡†ã€‚è¿™ä¸ªé”™è¯¯éœ€è¦ç”±æœåŠ¡å™¨ä¾§è¿›è¡Œå»¶è¿Ÿè¡¥å¿æ ¡æ­£ã€‚å»¶è¿Ÿè¡¥å¿ç³»ç»Ÿä½¿æ‰€æœ‰ç©å®¶æœ€è¿‘ä½ç½®çš„å†å²ä¸€ç§’ã€‚å¦‚æœåœ¨æ‰§è¡Œç”¨æˆ·çš„å‘½ä»¤ï¼ŒæœåŠ¡å™¨é¢„è®¡åœ¨å‘½ä»¤åˆ›å»ºä»€ä¹ˆæ—¶é—´å¦‚ä¸‹ï¼š</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å‘½ä»¤æ‰§è¡Œæ—¶é—´<span>=</span>å½“å‰æœåŠ¡å™¨æ—¶é—´<span> - </span>æ•°æ®åŒ…å»¶è¿Ÿ<span> - </span>å®¢æˆ·ç«¯æŸ¥çœ‹æ’å€¼</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ç„¶åæœåŠ¡å™¨ä¼šå°†æ‰€æœ‰å…¶ä»–ç©å®¶å›æº¯åˆ°å‘½ä»¤æ‰§è¡Œæ—¶çš„ä½ç½®ï¼Œä»–ä»¬åœ¨å‘½ä»¤æ‰§è¡Œæ—¶é—´ã€‚ç”¨æˆ·æŒ‡ä»¤è¢«æ‰§è¡Œï¼Œå¹¶æ­£ç¡®åœ°æ£€æµ‹å‘½ä¸­ã€‚ç”¨æˆ·å‘½ä»¤å¤„ç†å®Œæˆåï¼Œç©å®¶å°†ä¼šæ¢å¤åˆ°åŸæ¥çš„ä½ç½®ã€‚ç”±äºå®ä½“æ’å€¼åŒ…å«åœ¨å…¬å¼ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚æœåŠ¡å™¨ç«¯å¯ä»¥å¯ç”¨<span>sv_showimpacts 1</span>ï¼Œæ˜¾ç¤ºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å°„å‡»åŒ…å›´ç›’ä½ç½®å·®å¼‚ï¼š</span></p><p class="MsoNormal"><span style="font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><img width="554" height="299" id="å›¾ç‰‡ 4" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="http://gameweb-img.qq.com/gad/20160826/image003.1472207636.jpg" alt="Sourceå¼•æ“å¤šäººæ¨¡å¼ç½‘ç»œåŒæ­¥æ¨¡å‹"></span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">è¯¥ç”»é¢åœ¨ä¸»æœºä¸Šè®¾ç½®å»¶è¿Ÿ<span>200</span>æ¯«ç§’<span>(net_fakelag</span>è®¾ç½®<span>)</span>æ—¶è·å–çš„ï¼Œå°„å‡»çœŸå®å‘½ä¸­ç©å®¶ã€‚çº¢è‰²å‘½ä¸­åŒ…å›´ç›’æ˜¾ç¤ºäº†å®¢æˆ·ç«¯é‚£é‡Œæ˜¯<span>100</span>æ¯«ç§’<span>+</span>æ’è¡¥å‘¨æœŸå‰çš„ç›®æ ‡ä½ç½®ã€‚æ­¤åï¼Œç›®æ ‡ç»§ç»­å‘å·¦ç§»åŠ¨ï¼Œè€Œç”¨æˆ·å‘½ä»¤è¢«è¡Œè¿›åˆ°æœåŠ¡å™¨ã€‚ç”¨æˆ·å‘½ä»¤åˆ°è¾¾åï¼ŒæœåŠ¡å™¨æ¢å¤åŸºäºæ‰€è¿°ä¼°è®¡çš„å‘½ä»¤æ‰§è¡Œæ—¶é—´ç›®æ ‡ä½ç½®ï¼ˆè“è‰²å‡»ä¸­ç›’ï¼‰ã€‚æœåŠ¡å™¨å›æº¯æ¼”ç»ï¼Œå¹¶ç¡®è®¤å‘½ä¸­ï¼ˆå®¢æˆ·ç«¯çœ‹åˆ°æµè¡€æ•ˆæœï¼‰ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å› ä¸ºåœ¨æ—¶é—´æµ‹é‡ç²¾åº¦çš„è¯¯å·®å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å‘½ä¸­åŒ…å›´ç›’ä¸å®Œå…¨åŒ¹é…ã€‚å¯¹äºå¿«é€Ÿç§»åŠ¨çš„ç‰©ä½“ç”šè‡³å‡ æ¯«ç§’çš„è¯¯å·®ä¹Ÿä¼šå¯¼è‡´å‡ è‹±å¯¸çš„è¯¯å·®ã€‚å¤šäººæ¸¸æˆå‡»ä¸­æ£€æµ‹ä¸æ˜¯åŸºäºåƒç´ çš„å®Œç¾åŒ¹é…ï¼Œæ­¤å¤–åŸºäº<span>tickrate</span>æ¨¡æ‹Ÿçš„è¿åŠ¨ç‰©ä½“çš„é€Ÿåº¦ä¹Ÿæœ‰ç²¾åº¦çš„é™åˆ¶ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æ—¢ç„¶å‡»ä¸­æ£€æµ‹æœåŠ¡å™¨ä¸Šçš„é€»è¾‘å¦‚æ­¤å¤æ‚ä¸ºä»€ä¹ˆä¸æŠŠå‘½ä¸­æ£€æŸ¥æ”¾åœ¨å®¢æˆ·ç«¯å‘¢ï¼Ÿå¦‚æœåœ¨å®¢æˆ·ç«¯è¿›è¡Œå‘½ä¸­æ£€æŸ¥<span>, </span>ç©å®¶ä½ç½®å’Œåƒç´ å‘½ä¸­å¤„ç†æ£€æµ‹éƒ½å¯ä»¥ç²¾å‡†çš„è¿›è¡Œã€‚å®¢æˆ·ç«¯å°†åªå‘Šè¯‰æœåŠ¡å™¨ç”¨â€œæ‰“â€çš„æ¶ˆæ¯ä¸€ç›´æ‰“åˆ°ä»€ä¹ˆæ ·çš„ç©å®¶ã€‚å› ä¸ºæ¸¸æˆæœåŠ¡å™¨ä¸èƒ½ä¿¡ä»»å®¢æˆ·ç«¯è¿™ç§é‡è¦å†³å®šã€‚å› ä¸ºå³ä½¿å®¢æˆ·ç«¯æ˜¯â€œå¹²å‡€â€çš„ï¼Œå¹¶é€šè¿‡äº†<span>Valve</span>åä½œå¼Šä¿æŠ¤ï¼Œä½†æ˜¯æŠ¥æ–‡å¯ä»¥è¢«æˆªè·ä¿®æ”¹ç„¶åå‘é€åˆ°æ¸¸æˆæœåŠ¡å™¨ã€‚è¿™äº›â€œä½œå¼Šä»£ç†â€å¯ä»¥æ³¨å…¥â€œæ‰“â€çš„æ¶ˆæ¯åˆ°ç½‘ç»œæ•°æ®åŒ…è€Œä¸è¢«<span>VAC</span>è¢«æ£€æµ‹ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ç½‘ç»œå»¶è¿Ÿå’Œæ»åè¡¥å¿å¯èƒ½ä¼šå¼•èµ·çœŸå®çš„ä¸–ç•Œä¸å¯èƒ½çš„é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½è¢«ä½ çœ‹ä¸åˆ°çš„ç›®æ ‡æ‰€å‡»ä¸­ã€‚æœåŠ¡å™¨ç§»åˆ°ä½ çš„å‘½ä¸­åŒ…å›´ç›’æ—¶å…‰å€’æµï¼Œä½ ä»ç„¶æš´éœ²ç»™äº†æ”»å‡»è€…ã€‚è¿™ç§ä¸ä¸€è‡´é—®é¢˜ä¸èƒ½é€šè¿‡ä¸€èˆ¬åŒ–çš„é˜²èŒƒè§£å†³ï¼Œå› ä¸ºç›¸å¯¹ç½‘ç»œåŒ…ä¼ è¾“çš„é€Ÿåº¦ã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œå› ä¸ºå…‰ä¼ æ’­å¦‚æ­¤ä¹‹å¿«ï¼Œä½ ï¼Œæ¯ä¸ªäººéƒ½åœ¨ä½ èº«è¾¹çœ‹åˆ°åŒä¸€ä¸ªä¸–ç•Œï¼Œæ‰€ä»¥ä½ æ‰ä½ æ²¡æœ‰æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ã€‚</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h2 id="ç½‘ç»œè§†å›¾">ç½‘ç»œè§†å›¾</h2><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">Source</span><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¼•æ“æä¾›äº†ä¸€äº›å·¥å…·æ¥æ£€æŸ¥æ‚¨çš„å®¢æˆ·ç«¯è¿æ¥é€Ÿåº¦å’Œè´¨é‡ã€‚ä½¿ç”¨<span>net_graph 2</span>å¯ä»¥å¯ç”¨ç›¸å…³çš„è§†å›¾ã€‚ä¸‹é¢çš„æ›²çº¿å›¾ä¸­ï¼Œç¬¬ä¸€è¡Œæ˜¾ç¤ºæ¯ç§’å½“å‰çš„æ¸²æŸ“çš„å¸§ï¼Œæ‚¨çš„å¹³å‡å»¶è¿Ÿæ—¶é—´ï¼Œä»¥åŠçš„<span>cl_updaterate</span>çš„å½“å‰å€¼ã€‚ç¬¬äºŒè¡Œæ˜¾ç¤ºåœ¨æœ€åè¿›æ¥çš„æ•°æ®åŒ…ï¼ˆå¿«ç…§ï¼‰ï¼Œå¹³å‡ä¼ å…¥å¸¦å®½å’Œæ¯ç§’æ¥æ”¶çš„æ•°æ®åŒ…çš„å­—èŠ‚å¤§å°ã€‚ç¬¬ä¸‰è¡Œæ˜¾ç¤ºåˆšåˆšä¼ å‡ºçš„æ•°æ®åŒ…ï¼ˆç”¨æˆ·å‘½ä»¤ï¼‰ç›¸åŒçš„æ•°æ®ã€‚</span></p><p class="MsoNormal"><span style="font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><img width="554" height="219" id="å›¾ç‰‡ 5" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="http://gameweb-img.qq.com/gad/20160826/image004.1472207636.jpg" alt="Sourceå¼•æ“å¤šäººæ¨¡å¼ç½‘ç»œåŒæ­¥æ¨¡å‹"></span><span class="3Char"><span style="font-size:13.5pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><h2 id="ä¼˜åŒ–">ä¼˜åŒ–</h2></span></span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">é»˜è®¤çš„ç½‘ç»œè®¾ç½®æ˜¯ä¸“é—¨ä¸ºé€šè¿‡äº’è”ç½‘è¿æ¥çš„æ¸¸æˆæœåŠ¡å™¨è®¾è®¡çš„ã€‚å¯ä»¥é€‚ç”¨å¤§å¤šæ•°å®¢æˆ·æœº<span>/</span>æœåŠ¡å™¨çš„ç¡¬ä»¶å’Œç½‘ç»œé…ç½®å·¥ä½œã€‚å¯¹äºç½‘ç»œæ¸¸æˆï¼Œåº”è¯¥åœ¨å®¢æˆ·ç«¯ä¸Šè¿›è¡Œè°ƒæ•´ï¼Œå”¯ä¸€çš„æ§åˆ¶å°å˜é‡æ˜¯â€œ<span>rate</span>â€ï¼Œå®ƒå®šä¹‰å®¢æˆ·ç«¯å¯ç”¨çš„å­—èŠ‚<span>/</span>ç½‘ç»œè¿æ¥å¸¦å®½ã€‚</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"> </span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">åœ¨ä¸€ä¸ªè‰¯å¥½çš„ç½‘ç»œç¯å¢ƒä¸­ï¼ŒæœåŠ¡å™¨å’Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½å…·æœ‰å¿…è¦çš„ç¡¬ä»¶èµ„æºå¯ç”¨ï¼Œå¯ä»¥è°ƒæ•´å¸¦å®½å’Œæ›´æ–°é¢‘ç‡è®¾ç½®ï¼Œæ¥è·å¾—æ›´å¤šçš„æ¸¸æˆç²¾åº¦ã€‚å¢åŠ <span>tickrate</span>é€šå¸¸å¯ä»¥æé«˜è¿åŠ¨å’Œå°„å‡»ç²¾åº¦ï¼Œä½†ä¼šæ¶ˆè€—æ›´å¤šçš„æœåŠ¡å™¨<span>CPU</span>èµ„æºã€‚<span>tickrate 100</span>è¿è¡Œçš„æœåŠ¡å™¨çš„è´Ÿè½½å¤§æ¦‚æ˜¯<span>tickrate 66</span>è¿è¡Œæ—¶çš„çº¦<span>1.5</span>å€<span>, </span>å› æ­¤å¦‚æœ<span>CPU</span>æ€§èƒ½ä¸è¶³å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„è®¡ç®—æ»åï¼Œå°¤å…¶æ˜¯åœ¨ç©å®¶æ•°é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ã€‚å»ºè®®å¯¹å…·æœ‰æ›´é«˜<span>tickrate</span>è¶…çš„æ¸¸æˆæœåŠ¡å™¨é¢„ç•™å¿…è¦çš„<span>CPU</span>èµ„æºã€‚</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"> </span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¦‚æœæ¸¸æˆæœåŠ¡å™¨ä½¿ç”¨è¾ƒé«˜<span>tickrate</span>è¿è¡Œæ—¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨å¸¦å®½å¯ç”¨çš„æƒ…å†µä¸‹å¢åŠ ä»–ä»¬çš„å¿«ç…§æ›´æ–°ç‡ï¼ˆçš„<span>cl_updaterate</span>ï¼‰å’Œç”¨æˆ·å‘½ä»¤é€Ÿç‡ï¼ˆçš„<span>cl_cmdrate</span>ï¼‰ã€‚å¿«ç…§æ›´æ–°é€Ÿç‡ç”±æœåŠ¡å™¨<span>tickrate</span>é™åˆ¶ï¼Œä¸€å°æœåŠ¡å™¨æ— æ³•å‘é€æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸçš„ä¸€ä¸ªä»¥ä¸Šçš„æ›´æ–°ã€‚å› æ­¤ï¼Œå¯¹äºä¸€ä¸ª<span>tickrate66</span>æœåŠ¡å™¨ï¼Œä¸ºçš„<span>cl_updaterate</span>æœ€é«˜çš„å®¢æˆ·ä»·å€¼ï¼Œå°†æ˜¯<span>66</span>ã€‚å¦‚æœä½ å¢åŠ å¿«ç…§ç‡é‡åˆ°ï¼Œä½ å¿…é¡»å†æ¬¡æ‰“å¼€å®ƒã€‚ä¸å¢åŠ çš„<span>cl_updaterate</span>ä½ ä¹Ÿå¯ä»¥é™ä½ç”»é¢æ’å€¼å»¶è¿Ÿï¼ˆ<span>cl_interp</span>ï¼‰ã€‚é»˜è®¤çš„æ’å€¼å»¶è¿Ÿä¸º<span>0.1</span>ç§’<span>(</span>é»˜è®¤çš„<span>cl_updaterate</span>ä¸º<span>20) </span>è§†å›¾å†…æ’å»¶è¿Ÿä¼šå¯¼è‡´ç§»åŠ¨çš„ç©å®¶ä¼šæ¯”é™æ­¢ä¸åŠ¨çš„ç©å®¶æ›´æ—©å‘ç°å¯¹æ–¹ã€‚è¿™ç§æ•ˆæœæ˜¯ä¸å¯é¿å…çš„ï¼Œä½†å¯ä»¥é€šè¿‡å‡å°è§†å›¾å†…æ’å€¼å»¶è¿Ÿæ¥å‡å°ã€‚å¦‚æœåŒæ–¹ç©å®¶æ­£åœ¨ç§»åŠ¨ï¼Œç”»é¢æ»åä¼šå»¶è¿Ÿå½±å“åŒæ–¹ç©å®¶<span>,</span>åŒæ–¹ç©å®¶éƒ½ä¸èƒ½è·åˆ©ã€‚å¿«ç…§é€Ÿç‡å’Œè§†å›¾å»¶è¿Ÿæ’å€¼ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹ï¼š</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">æ’è¡¥å‘¨æœŸ<span>= MAX(cl_interp</span>ï¼Œ<span>cl_interp_ratio /cl_updaterate)</span></span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¯ä»¥è®¾ç½®<span>cl_interp</span>ä¸º<span>0</span>ï¼Œä»ç„¶æœ‰æ’å€¼çš„å®‰å…¨é‡ã€‚ä¹Ÿå¯ä»¥æŠŠ<span>cl_updaterate</span>å¢åŠ ï¼Œè¿›ä¸€æ­¥é™ä½ä½ çš„æ’è¡¥å‘¨æœŸï¼Œä½†ä¸ä¼šè¶…è¿‡æ›´æ–°<span>tickrate(66)</span>æˆ–å®¢æˆ·ç«¯çš„ç½‘ç»œå¤„ç†èƒ½åŠ›ã€‚</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><h3 id="å°è´´å£«">å°è´´å£«</h3><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ä¸è¦çæ”¹ç»ˆç«¯é…ç½®é™¤éä½ å®Œå…¨ç¡®å®šä½ åœ¨å¹²å˜›</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">       </span><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ²¡æœ‰è¶³å¤Ÿ<span>CPU</span>å’Œç½‘ç»œèµ„æºï¼Œç»å¤§å¤šæ•°æ‰€æ‰€è°“é«˜æ€§èƒ½ä¼˜åŒ–éƒ½æ˜¯èµ·è´Ÿé¢ä½œç”¨</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ä¸è¦å…³é—­ç”»é¢æ’å€¼å’Œå»¶è¿Ÿè¡¥å¿</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">       </span><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">è¿™æ ·å¹¶ä¸èƒ½ä»£ç†ç§»åŠ¨å’Œè®¾è®¡ç²¾å‡†åº¦æå‡</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">ä¼˜åŒ–è®¾ç½®å¯èƒ½ä¸ä¼šå¯¹æ¯ä¸ªå®¢æˆ·ç«¯éƒ½æœ‰æ•ˆ</span></p><p class="MsoNormal"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">å¦‚æœæ˜¯ä½ æ˜¯åœ¨æ¸¸æˆé‡Œæˆ–è€…<span>SourceTv</span>é‡Œç¬¬ä¸€è§†è§’è§‚çœ‹ä½ çœ‹åˆ°çš„ç”»é¢å’Œç©å®¶å¯èƒ½ä¸ä¸€æ ·</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;">è§‚æˆ˜è€…çš„ç”»é¢æ²¡æœ‰å»¶è¿Ÿè¡¥å¿</span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p><p class="MsoNormal" style="box-sizing: content-box; margin-top: 24px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); line-height: 24px;"><span style="box-sizing: content-box; margin: 0px; padding: 0px;"><span style="box-sizing: content-box; margin: 0px; padding: 0px; line-height: 24px;"><span style="font-family:å¾®è½¯é›…é»‘;font-size:medium;">ã€ç‰ˆæƒå£°æ˜ã€‘</span></span></span></p><p class="MsoNormal" style="box-sizing: content-box; margin-top: 24px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); line-height: 24px;"><span style="box-sizing: content-box; margin: 0px; padding: 0px;"><span style="font-family:å¾®è½¯é›…é»‘;font-size:medium;">åŸæ–‡ä½œè€…æœªåšæƒåˆ©å£°æ˜ï¼Œè§†ä¸ºå…±äº«çŸ¥è¯†äº§æƒè¿›å…¥å…¬å…±é¢†åŸŸï¼Œè‡ªåŠ¨è·å¾—æˆæƒï¼›</span></span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-size:12.0pt;font-family:&quot;å¾®è½¯é›…é»‘&quot;,&quot;sans-serif&quot;"><br></span></p></div>                    <br>                





          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/27/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/">29</a><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><a class="page-number" href="/page/33/">33</a><a class="page-number" href="/page/34/">34</a><a class="page-number" href="/page/35/">35</a><a class="page-number" href="/page/36/">36</a><a class="page-number" href="/page/37/">37</a><a class="page-number" href="/page/38/">38</a><a class="extend next" rel="next" href="/page/29/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
