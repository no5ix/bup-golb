<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = 'è§‚å¯Ÿè€…æ¨¡å¼' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="DesignPattern,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="æ¦‚è¿°ä¸€äº›é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œæä¾›äº†ä¸€ç§æ„å»ºå¯¹è±¡é—´å¤æ‚ç½‘ç»œäº’è¿çš„èƒ½åŠ›ã€‚å½“å¯¹è±¡ä»¬è¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥ç›¸äº’æä¾›æœåŠ¡å’Œä¿¡æ¯ã€‚ é€šå¸¸æ¥è¯´ï¼Œå½“æŸä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ ä»ç„¶éœ€è¦å¯¹è±¡ä¹‹é—´èƒ½äº’ç›¸é€šä¿¡ã€‚ä½†æ˜¯å‡ºäºå„ç§åŸå› ï¼Œä½ ä¹Ÿè®¸å¹¶ä¸æ„¿æ„å› ä¸ºä»£ç ç¯å¢ƒçš„æ”¹å˜è€Œå¯¹ä»£ç åšå¤§çš„ä¿®æ”¹ã€‚ä¹Ÿè®¸ï¼Œä½ åªæƒ³æ ¹æ®ä½ çš„å…·ä½“åº”ç”¨ç¯å¢ƒè€Œæ”¹è¿›é€šä¿¡ä»£ç ã€‚æˆ–è€…ï¼Œä½ åªæƒ³ç®€å•çš„é‡æ–°æ„é€ é€šä¿¡ä»£ç æ¥é¿å…ç±»å’Œç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–ä¸ç›¸äº’ä»å±ã€‚ é—®é¢˜å½“ä¸€ä¸ªå¯¹è±¡çš„">
<meta name="keywords" content="DesignPattern">
<meta property="og:type" content="article">
<meta property="og:title" content="è§‚å¯Ÿè€…æ¨¡å¼">
<meta property="og:url" content="https://hulinhong.com/observer_pattern/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="æ¦‚è¿°ä¸€äº›é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œæä¾›äº†ä¸€ç§æ„å»ºå¯¹è±¡é—´å¤æ‚ç½‘ç»œäº’è¿çš„èƒ½åŠ›ã€‚å½“å¯¹è±¡ä»¬è¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥ç›¸äº’æä¾›æœåŠ¡å’Œä¿¡æ¯ã€‚ é€šå¸¸æ¥è¯´ï¼Œå½“æŸä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ ä»ç„¶éœ€è¦å¯¹è±¡ä¹‹é—´èƒ½äº’ç›¸é€šä¿¡ã€‚ä½†æ˜¯å‡ºäºå„ç§åŸå› ï¼Œä½ ä¹Ÿè®¸å¹¶ä¸æ„¿æ„å› ä¸ºä»£ç ç¯å¢ƒçš„æ”¹å˜è€Œå¯¹ä»£ç åšå¤§çš„ä¿®æ”¹ã€‚ä¹Ÿè®¸ï¼Œä½ åªæƒ³æ ¹æ®ä½ çš„å…·ä½“åº”ç”¨ç¯å¢ƒè€Œæ”¹è¿›é€šä¿¡ä»£ç ã€‚æˆ–è€…ï¼Œä½ åªæƒ³ç®€å•çš„é‡æ–°æ„é€ é€šä¿¡ä»£ç æ¥é¿å…ç±»å’Œç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–ä¸ç›¸äº’ä»å±ã€‚ é—®é¢˜å½“ä¸€ä¸ªå¯¹è±¡çš„">
<meta property="og:locale" content="en">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:updated_time" content="2025-12-17T18:31:29.667Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è§‚å¯Ÿè€…æ¨¡å¼">
<meta name="twitter:description" content="æ¦‚è¿°ä¸€äº›é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œæä¾›äº†ä¸€ç§æ„å»ºå¯¹è±¡é—´å¤æ‚ç½‘ç»œäº’è¿çš„èƒ½åŠ›ã€‚å½“å¯¹è±¡ä»¬è¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥ç›¸äº’æä¾›æœåŠ¡å’Œä¿¡æ¯ã€‚ é€šå¸¸æ¥è¯´ï¼Œå½“æŸä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ ä»ç„¶éœ€è¦å¯¹è±¡ä¹‹é—´èƒ½äº’ç›¸é€šä¿¡ã€‚ä½†æ˜¯å‡ºäºå„ç§åŸå› ï¼Œä½ ä¹Ÿè®¸å¹¶ä¸æ„¿æ„å› ä¸ºä»£ç ç¯å¢ƒçš„æ”¹å˜è€Œå¯¹ä»£ç åšå¤§çš„ä¿®æ”¹ã€‚ä¹Ÿè®¸ï¼Œä½ åªæƒ³æ ¹æ®ä½ çš„å…·ä½“åº”ç”¨ç¯å¢ƒè€Œæ”¹è¿›é€šä¿¡ä»£ç ã€‚æˆ–è€…ï¼Œä½ åªæƒ³ç®€å•çš„é‡æ–°æ„é€ é€šä¿¡ä»£ç æ¥é¿å…ç±»å’Œç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–ä¸ç›¸äº’ä»å±ã€‚ é—®é¢˜å½“ä¸€ä¸ªå¯¹è±¡çš„">
<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>è§‚å¯Ÿè€…æ¨¡å¼ | ğŸš™</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/observer_pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">è§‚å¯Ÿè€…æ¨¡å¼</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-01-07T12:18:54+00:00">
                01-07-2015
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Misc/" itemprop="url" rel="index">
                    <span itemprop="name">Misc</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/DesignPattern/" rel="tag"><i class="fa fa-tag"></i> DesignPattern</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/factory_pattern/" rel="next" title="å·¥å‚æ¨¡å¼">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  å·¥å‚æ¨¡å¼
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/distributed_system_design_note_three/" rel="prev" title="åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸‰">
              <p class="post-nav-pre-next-title">
                  åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸‰
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <!-- <p><span style="font-size:16px; color:#000099"><strong>æœ¬æ–‡å› åŸæ–‡ä½œè€…ç‰ˆæƒå£°æ˜æœªç»åŒæ„ä¸å¾—è½¬è½½, æ•…æ­¤æ–‡äºæœ¬åšå®¢ä¸­æ— æ³•å…¬å¼€</strong></span></p> -->
<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä¸€äº›é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œæä¾›äº†ä¸€ç§æ„å»ºå¯¹è±¡é—´å¤æ‚ç½‘ç»œäº’è¿çš„èƒ½åŠ›ã€‚å½“å¯¹è±¡ä»¬è¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥ç›¸äº’æä¾›æœåŠ¡å’Œä¿¡æ¯ã€‚</p>
<p>é€šå¸¸æ¥è¯´ï¼Œå½“æŸä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ ä»ç„¶éœ€è¦å¯¹è±¡ä¹‹é—´èƒ½äº’ç›¸é€šä¿¡ã€‚ä½†æ˜¯å‡ºäºå„ç§åŸå› ï¼Œä½ ä¹Ÿè®¸å¹¶ä¸æ„¿æ„å› ä¸ºä»£ç ç¯å¢ƒçš„æ”¹å˜è€Œå¯¹ä»£ç åšå¤§çš„ä¿®æ”¹ã€‚ä¹Ÿè®¸ï¼Œä½ åªæƒ³æ ¹æ®ä½ çš„å…·ä½“åº”ç”¨ç¯å¢ƒè€Œæ”¹è¿›é€šä¿¡ä»£ç ã€‚æˆ–è€…ï¼Œä½ åªæƒ³ç®€å•çš„é‡æ–°æ„é€ é€šä¿¡ä»£ç æ¥é¿å…ç±»å’Œç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–ä¸ç›¸äº’ä»å±ã€‚</p>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ å¦‚ä½•é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Ÿæ˜¯å¦éœ€è¦ä¸€ä¸ªåŠ¨æ€æ–¹æ¡ˆâ€•â€•ä¸€ä¸ªå°±åƒå…è®¸è„šæœ¬çš„æ‰§è¡Œä¸€æ ·ï¼Œå…è®¸è‡ªç”±è¿æ¥çš„æ–¹æ¡ˆï¼Ÿ</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong> ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³», å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶, æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</p>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>å…è®¸ä¸€ä¸ªå¯¹è±¡å…³æ³¨å…¶ä»–å¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶ä¸”ï¼Œ<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>è¿˜ä¸ºè¢«è§‚æµ‹è€…æä¾›äº†ä¸€ç§è§‚æµ‹ç»“æ„ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªä¸»ä½“å’Œä¸€ä¸ªå®¢ä½“ã€‚ä¸»ä½“ï¼Œä¹Ÿå°±æ˜¯è¢«è§‚æµ‹è€…ï¼Œå¯ä»¥ç”¨æ¥è”ç³»æ‰€æœ‰çš„è§‚æµ‹å®ƒçš„è§‚æµ‹è€…ã€‚å®¢ä½“ï¼Œä¹Ÿå°±æ˜¯è§‚æµ‹è€…ï¼Œç”¨æ¥æ¥å—ä¸»ä½“çŠ¶æ€çš„æ”¹å˜ è§‚æµ‹å°±æ˜¯ä¸€ä¸ªå¯è¢«è§‚æµ‹çš„ç±»ï¼ˆä¹Ÿå°±æ˜¯ä¸»é¢˜ï¼‰ä¸ä¸€ä¸ªæˆ–å¤šä¸ªè§‚æµ‹å®ƒçš„ç±»ï¼ˆä¹Ÿå°±æ˜¯å®¢ä½“ï¼‰çš„åä½œã€‚ä¸è®ºä»€ä¹ˆæ—¶å€™ï¼Œå½“è¢«è§‚æµ‹å¯¹è±¡çš„çŠ¶æ€å˜åŒ–æ—¶ï¼Œæ‰€æœ‰æ³¨å†Œè¿‡çš„è§‚æµ‹è€…éƒ½ä¼šå¾—åˆ°é€šçŸ¥ã€‚</p>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>å°†è¢«è§‚æµ‹è€…ï¼ˆä¸»ä½“ï¼‰ä»è§‚æµ‹è€…ï¼ˆå®¢ä½“ï¼‰ç§åˆ†ç¦»å‡ºæ¥ã€‚è¿™æ ·ï¼Œæ¯ä¸ªè§‚æµ‹è€…éƒ½å¯ä»¥æ ¹æ®ä¸»ä½“çš„å˜åŒ–åˆ†åˆ«é‡‡å–å„è‡ªçš„æ“ä½œã€‚ï¼ˆ<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>å’Œ Publish/Subscribe æ¨¡å¼ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æœ‰æ•ˆæè¿°å¯¹è±¡é—´ç›¸äº’ä½œç”¨çš„æ¨¡å¼ã€‚ï¼‰<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>çµæ´»è€Œä¸”åŠŸèƒ½å¼ºå¤§ã€‚å¯¹äºè¢«è§‚æµ‹è€…æ¥è¯´ï¼Œé‚£äº›æŸ¥è¯¢å“ªäº›ç±»éœ€è¦è‡ªå·±çš„çŠ¶æ€ä¿¡æ¯å’Œæ¯æ¬¡ä½¿ç”¨é‚£äº›çŠ¶æ€ä¿¡æ¯çš„é¢å¤–èµ„æºå¼€é”€å·²ç»ä¸å­˜åœ¨äº†ã€‚å¦å¤–ï¼Œä¸€ä¸ªè§‚æµ‹è€…å¯ä»¥åœ¨ä»»ä½•åˆé€‚çš„æ—¶å€™è¿›è¡Œæ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œã€‚ä½ ä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªå…·ä½“çš„è§‚æµ‹ç±»ï¼Œä»¥ä¾¿åœ¨å®é™…åº”ç”¨ä¸­æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</p>
<p>å°†ä¸€ä¸ªç³»ç»Ÿåˆ†å‰²æˆä¸€ç³»åˆ—ç›¸äº’åä½œçš„ç±»æœ‰ä¸€ä¸ªå¸¸è§çš„å‰¯ä½œç”¨ï¼šéœ€è¦ç»´æŠ¤ç›¸å…³å¯¹è±¡é—´çš„ä¸€è‡´æ€§ã€‚æˆ‘ä»¬ä¸å¸Œæœ›ä¸ºäº†ç»´æŒä¸€è‡´æ€§è€Œä½¿å„ç±»ç´§å¯†è€¦åˆï¼Œå› ä¸ºè¿™æ ·é™ä½äº†å®ƒä»¬çš„å¯é‡ç”¨æ€§ã€‚</p>
<h1 id="é€‚ç”¨æ€§"><a href="#é€‚ç”¨æ€§" class="headerlink" title="é€‚ç”¨æ€§"></a>é€‚ç”¨æ€§</h1><p>åœ¨ä»¥ä¸‹ä»»ä¸€æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>:</p>
<ul>
<li>å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢, å…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€æ–¹é¢ã€‚å°†è¿™äºŒè€…å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä»¥ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚</li>
<li>å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶å®ƒå¯¹è±¡ , è€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜ã€‚</li>
<li>å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶å®ƒå¯¹è±¡ï¼Œè€Œå®ƒåˆä¸èƒ½å‡å®šå…¶å®ƒå¯¹è±¡æ˜¯è°ã€‚æ¢è¨€ä¹‹ , ä½ ä¸å¸Œæœ›è¿™äº›å¯¹è±¡æ˜¯ç´§å¯†è€¦åˆçš„ã€‚</li>
</ul>
<h1 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h1><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/observer_pattern/observer_pattern_1.jpg">
<h1 id="æ¨¡å¼çš„ç»„æˆ"><a href="#æ¨¡å¼çš„ç»„æˆ" class="headerlink" title="æ¨¡å¼çš„ç»„æˆ"></a>æ¨¡å¼çš„ç»„æˆ</h1><p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>åŒ…å«å¦‚ä¸‹è§’è‰²ï¼š</p>
<ul>
<li>ç›®æ ‡ï¼ˆSubjectï¼‰: ç›®æ ‡çŸ¥é“å®ƒçš„è§‚å¯Ÿè€…ã€‚å¯ä»¥æœ‰ä»»æ„å¤šä¸ªè§‚å¯Ÿè€…è§‚å¯ŸåŒä¸€ä¸ªç›®æ ‡ã€‚ æä¾›æ³¨å†Œå’Œåˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡çš„æ¥å£ã€‚</li>
<li>å…·ä½“ç›®æ ‡ï¼ˆConcreteSubjectï¼‰:  å°†æœ‰å…³çŠ¶æ€å­˜å…¥å„ ConcreteObserver å¯¹è±¡ã€‚</li>
<li>è§‚å¯Ÿè€… (Observer):  ä¸ºé‚£äº›åœ¨ç›®æ ‡å‘ç”Ÿæ”¹å˜æ—¶éœ€è·å¾—é€šçŸ¥çš„å¯¹è±¡å®šä¹‰ä¸€ä¸ªæ›´æ–°æ¥å£ã€‚å½“å®ƒçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶, å‘å®ƒçš„å„ä¸ªè§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚</li>
<li>å…·ä½“è§‚å¯Ÿè€… (ConcreteObserver):   ç»´æŠ¤ä¸€ä¸ªæŒ‡å‘ ConcreteSubject å¯¹è±¡çš„å¼•ç”¨ã€‚å­˜å‚¨æœ‰å…³çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åº”ä¸ç›®æ ‡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚å®ç° O b s e r v e r çš„æ›´æ–°æ¥å£ä»¥ä½¿è‡ªèº«çŠ¶æ€ä¸ç›®æ ‡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</li>
</ul>
<h1 id="è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"><a href="#è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"></a>è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h1><p>Observer æ¨¡å¼å…è®¸ä½ ç‹¬ç«‹çš„æ”¹å˜ç›®æ ‡å’Œè§‚å¯Ÿè€…ã€‚ä½ å¯ä»¥å•ç‹¬å¤ç”¨ç›®æ ‡å¯¹è±¡è€Œæ— éœ€åŒæ—¶å¤ç”¨å…¶è§‚å¯Ÿè€…, åä¹‹äº¦ç„¶ã€‚å®ƒä¹Ÿä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹åŠ¨ç›®æ ‡å’Œå…¶ä»–çš„è§‚å¯Ÿè€…çš„å‰æä¸‹å¢åŠ è§‚å¯Ÿè€…ã€‚</p>
<p>ä¸‹é¢æ˜¯è§‚å¯Ÿè€…æ¨¡å¼å…¶å®ƒä¸€äº›<strong>ä¼˜ç‚¹</strong> :</p>
<ul>
<li>è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥å®ç°è¡¨ç¤ºå±‚å’Œæ•°æ®é€»è¾‘å±‚çš„åˆ†ç¦», å¹¶å®šä¹‰äº†ç¨³å®šçš„æ¶ˆæ¯æ›´æ–°ä¼ é€’æœºåˆ¶ï¼ŒæŠ½è±¡äº†æ›´æ–°æ¥å£ï¼Œä½¿å¾—å¯ä»¥æœ‰å„ç§å„æ ·ä¸åŒçš„è¡¨ç¤ºå±‚ä½œä¸ºå…·ä½“è§‚å¯Ÿè€…è§’è‰²ã€‚</li>
<li>åœ¨è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´å»ºç«‹ä¸€ä¸ªæŠ½è±¡çš„è€¦åˆ ï¼š<br>ä¸€ä¸ªç›®æ ‡æ‰€çŸ¥é“çš„ä»…ä»…æ˜¯å®ƒæœ‰ä¸€ç³»åˆ—è§‚å¯Ÿè€… , æ¯ä¸ªéƒ½ç¬¦åˆæŠ½è±¡çš„ Observer ç±»çš„ç®€å•æ¥å£ã€‚ç›®æ ‡ä¸çŸ¥é“ä»»ä½•ä¸€ä¸ªè§‚å¯Ÿè€…å±äºå“ªä¸€ä¸ªå…·ä½“çš„ç±»ã€‚è¿™æ ·ç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„è€¦åˆæ˜¯æŠ½è±¡çš„å’Œæœ€å°çš„ã€‚å› ä¸ºç›®æ ‡å’Œè§‚å¯Ÿè€…ä¸æ˜¯ç´§å¯†è€¦åˆçš„, å®ƒä»¬å¯ä»¥å±äºä¸€ä¸ªç³»ç»Ÿä¸­çš„ä¸åŒæŠ½è±¡å±‚æ¬¡ã€‚ä¸€ä¸ªå¤„äºè¾ƒä½å±‚æ¬¡çš„ç›®æ ‡å¯¹è±¡å¯ä¸ä¸€ä¸ªå¤„äºè¾ƒé«˜å±‚æ¬¡çš„è§‚å¯Ÿè€…é€šä¿¡å¹¶é€šçŸ¥å®ƒ , è¿™æ ·å°±ä¿æŒäº†ç³»ç»Ÿå±‚æ¬¡çš„å®Œæ•´ã€‚å¦‚æœç›®æ ‡å’Œè§‚å¯Ÿè€…æ··åœ¨ä¸€å— , é‚£ä¹ˆå¾—åˆ°çš„å¯¹è±¡è¦ä¹ˆæ¨ªè´¯ä¸¤ä¸ªå±‚æ¬¡ (è¿åäº†å±‚æ¬¡æ€§), è¦ä¹ˆå¿…é¡»æ”¾åœ¨è¿™ä¸¤å±‚çš„æŸä¸€å±‚ä¸­ (è¿™å¯èƒ½ä¼šæŸå®³å±‚æ¬¡æŠ½è±¡)ã€‚</li>
<li>æ”¯æŒå¹¿æ’­é€šä¿¡ : ä¸åƒé€šå¸¸çš„è¯·æ±‚, ç›®æ ‡å‘é€çš„é€šçŸ¥ä¸éœ€æŒ‡å®šå®ƒçš„æ¥æ”¶è€…ã€‚é€šçŸ¥è¢«è‡ªåŠ¨å¹¿æ’­ç»™æ‰€æœ‰å·²å‘è¯¥ç›®æ ‡å¯¹è±¡ç™»è®°çš„æœ‰å…³å¯¹è±¡ã€‚ç›®æ ‡å¯¹è±¡å¹¶ä¸å…³å¿ƒåˆ°åº•æœ‰å¤šå°‘å¯¹è±¡å¯¹è‡ªå·±æ„Ÿå…´è¶£ ; å®ƒå”¯ä¸€çš„è´£ä»»å°±æ˜¯é€šçŸ¥å®ƒçš„å„è§‚å¯Ÿè€…ã€‚è¿™ç»™äº†ä½ åœ¨ä»»ä½•æ—¶åˆ»å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…çš„è‡ªç”±ã€‚å¤„ç†è¿˜æ˜¯å¿½ç•¥ä¸€ä¸ªé€šçŸ¥å–å†³äºè§‚å¯Ÿè€…ã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼ç¬¦åˆ â€œå¼€é—­åŸåˆ™â€ çš„è¦æ±‚ã€‚</li>
</ul>
<p>è§‚å¯Ÿè€…æ¨¡å¼çš„<strong>ç¼ºç‚¹</strong> :</p>
<ul>
<li>å¦‚æœä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å¯¹è±¡æœ‰å¾ˆå¤šç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚</li>
<li>å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
<li>æ„å¤–çš„æ›´æ–° å› ä¸ºä¸€ä¸ªè§‚å¯Ÿè€…å¹¶ä¸çŸ¥é“å…¶å®ƒè§‚å¯Ÿè€…çš„å­˜åœ¨ , å®ƒå¯èƒ½å¯¹æ”¹å˜ç›®æ ‡çš„æœ€ç»ˆä»£ä»·ä¸€æ— æ‰€çŸ¥ã€‚åœ¨ç›®æ ‡ä¸Šä¸€ä¸ªçœ‹ä¼¼æ— å®³çš„çš„æ“ä½œå¯èƒ½ä¼šå¼•èµ·ä¸€ç³»åˆ—å¯¹è§‚å¯Ÿè€…ä»¥åŠä¾èµ–äºè¿™äº›è§‚å¯Ÿè€…çš„é‚£äº›å¯¹è±¡çš„æ›´æ–°ã€‚æ­¤å¤– , å¦‚æœä¾èµ–å‡†åˆ™çš„å®šä¹‰æˆ–ç»´æŠ¤ä¸å½“ï¼Œå¸¸å¸¸ä¼šå¼•èµ·é”™è¯¯çš„æ›´æ–° , è¿™ç§é”™è¯¯é€šå¸¸å¾ˆéš¾æ•æ‰ã€‚</li>
</ul>
<p>ç®€å•çš„æ›´æ–°åè®®ä¸æä¾›å…·ä½“ç»†èŠ‚è¯´æ˜ç›®æ ‡ä¸­ä»€ä¹ˆè¢«æ”¹å˜äº† , è¿™å°±ä½¿å¾—ä¸Šè¿°é—®é¢˜æ›´åŠ ä¸¥é‡ã€‚å¦‚æœæ²¡æœ‰å…¶ä»–åè®®å¸®åŠ©è§‚å¯Ÿè€…å‘ç°ä»€ä¹ˆå‘ç”Ÿäº†æ”¹å˜ï¼Œå®ƒä»¬å¯èƒ½ä¼šè¢«è¿«å°½åŠ›å‡å°‘æ”¹å˜ã€‚</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>åœ¨ php çš„ SPL æ”¯æŒè§‚å¯Ÿè€…æ¨¡å¼ï¼ŒSPL æä¾›äº† SplSubject å’Œ SplObserver æ¥å£ã€‚</p>
<p>SplSubject æ¥å£æä¾›äº† attach()ã€detach()ã€notify() ä¸‰ä¸ªæ–¹æ³•ã€‚è€Œ SplObserver æ¥å£åˆ™æä¾›äº† update() æ–¹æ³•ã€‚</p>
<p>SplSubject æ´¾ç”Ÿç±»ç»´æŠ¤äº†ä¸€ä¸ªçŠ¶æ€ï¼Œå½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ - æ¯”å¦‚å±æ€§å˜åŒ–ç­‰ï¼Œå°±ä¼šè°ƒç”¨ notify() æ–¹æ³•ï¼Œè¿™æ—¶ï¼Œä¹‹å‰åœ¨ attach() æ–¹æ³•ä¸­æ³¨å†Œçš„æ‰€æœ‰ SplObserver å®ä¾‹çš„ update() æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â è¿™ä¸€æ¨¡å¼çš„æ¦‚å¿µæ˜¯ SplSubject ç±»ç»´æŠ¤äº†ä¸€ä¸ªç‰¹å®šçŠ¶æ€ï¼Œå½“è¿™ä¸ªçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°±ä¼šè°ƒç”¨ notify() æ–¹æ³•ã€‚Â </span></span><br><span class="line"><span class="comment">*Â è°ƒç”¨ notify() æ–¹æ³•æ—¶ï¼Œæ‰€æœ‰ä¹‹å‰ä½¿ç”¨ attach() æ–¹æ³•æ³¨å†Œçš„ SplObserver å®ä¾‹çš„ update æ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ã€‚Â </span></span><br><span class="line"><span class="comment">*Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â </span><br><span class="line"><span class="class"><span class="keyword">interface</span>Â <span class="title">SplSubject</span></span>&#123;Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">attach</span><span class="params">(SplObserverÂ $observer)</span></span>;<span class="comment">// æ³¨å†Œè§‚å¯Ÿè€…Â Â </span></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">detach</span><span class="params">(SplObserverÂ $observer)</span></span>;<span class="comment">// é‡Šæ”¾è§‚å¯Ÿè€…Â Â </span></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">notify</span><span class="params">()</span></span>;<span class="comment">// é€šçŸ¥æ‰€æœ‰æ³¨å†Œçš„è§‚å¯Ÿè€…Â Â </span></span><br><span class="line">&#125;Â Â </span><br><span class="line"><span class="class"><span class="keyword">interface</span>Â <span class="title">SplObserver</span></span>&#123;Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span></span>;<span class="comment">// è§‚å¯Ÿè€…è¿›è¡Œæ›´æ–°çŠ¶æ€Â Â </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°ä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">* å…·ä½“ç›®æ ‡Â </span></span><br><span class="line"><span class="comment">*Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteSubject</span>Â <span class="keyword">implements</span>Â <span class="title">SplSubject</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">private</span>Â $observers,Â $value;Â Â </span><br><span class="line">        <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;observersÂ =Â <span class="keyword">array</span>();Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">attach</span><span class="params">(SplObserverÂ $observer)</span>Â </span>&#123;Â <span class="comment">// æ³¨å†Œè§‚å¯Ÿè€…Â Â </span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;observers[]Â =Â $observer;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">detach</span><span class="params">(SplObserverÂ $observer)</span>Â </span>&#123;Â <span class="comment">// é‡Šæ”¾è§‚å¯Ÿè€…Â Â </span></span><br><span class="line">        <span class="keyword">if</span>($idxÂ =Â array_search($observer,<span class="keyword">$this</span>-&gt;observers,<span class="keyword">true</span>))Â &#123;Â Â </span><br><span class="line">        <span class="keyword">unset</span>(<span class="keyword">$this</span>-&gt;observers[$idx]);Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">notify</span><span class="params">()</span>Â </span>&#123;Â <span class="comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…Â Â </span></span><br><span class="line">        <span class="keyword">foreach</span>(<span class="keyword">$this</span>-&gt;observersÂ asÂ $observer)Â &#123;Â Â </span><br><span class="line">        $observer-&gt;update(<span class="keyword">$this</span>);Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">setValue</span><span class="params">($value)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;valueÂ =Â $value;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;notify();Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">getValue</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">return</span>Â <span class="keyword">$this</span>-&gt;value;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â å…·ä½“è§‚å¯Ÿè€…Â </span></span><br><span class="line"><span class="comment">*Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteObserver1</span>Â <span class="keyword">implements</span>Â <span class="title">SplObserver</span>Â </span>&#123;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">echo</span>Â <span class="string">'ConcreteObserver1Â Â valueÂ is'</span>,$subject-&gt;getValue(),Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â å…·ä½“è§‚å¯Ÿè€…Â </span></span><br><span class="line"><span class="comment">*Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteObserver2</span>Â <span class="keyword">implements</span>Â <span class="title">SplObserver</span>Â </span>&#123;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">echo</span>Â <span class="string">'ConcreteObserver2Â valueÂ is'</span>,Â $subject-&gt;getValue(),Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"></span><br><span class="line">$subjectÂ =Â <span class="keyword">new</span>Â ConcreteSubject();Â Â </span><br><span class="line">$observer1Â =Â <span class="keyword">new</span>Â ConcreteObserver1();Â Â </span><br><span class="line">$observer2Â =Â <span class="keyword">new</span>Â ConcreteObserver2();Â Â </span><br><span class="line">$subject-&gt;attach($observer1);Â Â </span><br><span class="line">$subject-&gt;attach($observer2);Â Â </span><br><span class="line">$subject-&gt;setValue(<span class="number">5</span>);Â Â </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ‰©å±•ä¸Šé¢çš„ä¾‹å­ï¼Œæ ¹æ®ç›®æ ‡çŠ¶æ€è€Œæ›´æ–°ä¸åŒçš„è§‚å¯Ÿè€…ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>Â Â Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">* å…·ä½“ç›®æ ‡Â Â </span></span><br><span class="line"><span class="comment">*Â Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â Â Â </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteSubject</span>Â <span class="keyword">implements</span>Â <span class="title">SplSubject</span>Â </span>&#123;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>Â $observers,Â $_state;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;observersÂ =Â <span class="keyword">array</span>();Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="comment">/**Â </span></span><br><span class="line"><span class="comment">    *Â Â æ³¨å†Œè§‚å¯Ÿè€…Â Â Â </span></span><br><span class="line"><span class="comment">    *Â </span></span><br><span class="line"><span class="comment">    *Â <span class="doctag">@param</span>Â SplObserverÂ $observerÂ </span></span><br><span class="line"><span class="comment">    */</span>Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">attach</span><span class="params">(SplObserverÂ $observer)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;observers[]Â =Â $observer;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="comment">/**Â </span></span><br><span class="line"><span class="comment">    *Â Â // é‡Šæ”¾è§‚å¯Ÿè€…Â Â Â </span></span><br><span class="line"><span class="comment">    *Â </span></span><br><span class="line"><span class="comment">    *Â <span class="doctag">@param</span>Â SplObserverÂ $observerÂ </span></span><br><span class="line"><span class="comment">    */</span>Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">detach</span><span class="params">(SplObserverÂ $observer)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">if</span>($idxÂ =Â array_search($observer,<span class="keyword">$this</span>-&gt;observers,<span class="keyword">true</span>))Â &#123;Â Â </span><br><span class="line">            <span class="keyword">unset</span>(<span class="keyword">$this</span>-&gt;observers[$idx]);Â Â </span><br><span class="line">        &#125;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="comment">/**Â </span></span><br><span class="line"><span class="comment">    *Â é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…Â Â Â </span></span><br><span class="line"><span class="comment">    *Â Â </span></span><br><span class="line"><span class="comment">    */</span>Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">notify</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="comment">/**Â </span></span><br><span class="line"><span class="comment">        *Â åªè¦çŠ¶æ€æ”¹å˜ï¼Œå°±é€šçŸ¥è§‚å¯Ÿè€…Â </span></span><br><span class="line"><span class="comment">        */</span>Â Â </span><br><span class="line">        <span class="keyword">foreach</span>(<span class="keyword">$this</span>-&gt;observersÂ asÂ $observer)Â &#123;Â Â </span><br><span class="line">            <span class="keyword">if</span>Â ($observer-&gt;getState()Â ==Â <span class="keyword">$this</span>-&gt;_state)Â &#123;Â Â </span><br><span class="line">                $observer-&gt;update(<span class="keyword">$this</span>);Â Â </span><br><span class="line">            &#125;Â Â </span><br><span class="line">        &#125;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="comment">/**Â </span></span><br><span class="line"><span class="comment">    *Â è®¾ç½®çŠ¶æ€Â </span></span><br><span class="line"><span class="comment">    *Â </span></span><br><span class="line"><span class="comment">    *Â <span class="doctag">@param</span>Â unknown_typeÂ $stateÂ </span></span><br><span class="line"><span class="comment">    */</span>Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">setState</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;_stateÂ =Â $state;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;notify();Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">getState</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">return</span>Â <span class="keyword">$this</span>-&gt;_state;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"></span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â æŠ½è±¡è§‚æ‘©è€…Â </span></span><br><span class="line"><span class="comment">*Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â </span><br><span class="line"><span class="keyword">abstract</span>Â <span class="class"><span class="keyword">class</span> <span class="title">observer</span></span>&#123;Â Â </span><br><span class="line">    <span class="keyword">private</span>Â $_state;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;_stateÂ =Â $state;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">setState</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;_stateÂ =Â $state;Â Â </span><br><span class="line">        <span class="keyword">$this</span>-&gt;notify();Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">getState</span><span class="params">()</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">return</span>Â <span class="keyword">$this</span>-&gt;_state;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â å…·ä½“è§‚å¯Ÿè€…Â 1Â </span></span><br><span class="line"><span class="comment">*Â Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteObserver1</span>Â <span class="keyword">extends</span>Â <span class="title">observer</span>Â Â <span class="keyword">implements</span>Â <span class="title">SplObserver</span>Â </span>&#123;Â Â </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">parent</span>::__construct($state);Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">echo</span>Â <span class="string">'ConcreteObserver1Â Â stateÂ is'</span>,$subject-&gt;getState(),Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"></span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â å…·ä½“è§‚å¯Ÿè€…Â 2Â </span></span><br><span class="line"><span class="comment">*Â Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteObserver2</span>Â <span class="keyword">extends</span>Â <span class="title">observer</span>Â Â Â <span class="keyword">implements</span>Â <span class="title">SplObserver</span>Â </span>&#123;Â Â </span><br><span class="line">    <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">parent</span>::__construct($state);Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">echo</span>Â <span class="string">'ConcreteObserver2Â stateÂ is'</span>,Â $subject-&gt;getState(),Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"><span class="comment">/**Â </span></span><br><span class="line"><span class="comment">*Â å…·ä½“è§‚å¯Ÿè€…Â 3Â </span></span><br><span class="line"><span class="comment">*Â Â </span></span><br><span class="line"><span class="comment">*/</span>Â Â Â Â </span><br><span class="line"><span class="class"><span class="keyword">class</span>Â <span class="title">ConcreteObserver3</span>Â <span class="keyword">extends</span>Â <span class="title">observer</span>Â Â Â <span class="keyword">implements</span>Â <span class="title">SplObserver</span>Â </span>&#123;Â Â </span><br><span class="line">    <span class="function"><span class="keyword">function</span>Â <span class="title">__construct</span><span class="params">($state)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">parent</span>::__construct($state);Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line">    <span class="keyword">public</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">update</span><span class="params">(SplSubjectÂ $subject)</span>Â </span>&#123;Â Â </span><br><span class="line">        <span class="keyword">echo</span>Â <span class="string">'ConcreteObserver3Â stateÂ is'</span>,Â $subject-&gt;getState(),Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">    &#125;Â Â </span><br><span class="line"></span><br><span class="line">&#125;Â Â </span><br><span class="line"></span><br><span class="line">$subjectÂ =Â <span class="keyword">new</span>Â ConcreteSubject();Â Â </span><br><span class="line">$observer1Â =Â <span class="keyword">new</span>Â ConcreteObserver1(<span class="number">1</span>);Â Â </span><br><span class="line">$observer2Â =Â <span class="keyword">new</span>Â ConcreteObserver2(<span class="number">1</span>);Â Â </span><br><span class="line">$observer3Â =Â <span class="keyword">new</span>Â ConcreteObserver3(<span class="number">2</span>);Â Â </span><br><span class="line">$subject-&gt;attach($observer1);Â Â </span><br><span class="line">$subject-&gt;attach($observer2);Â Â </span><br><span class="line">$subject-&gt;attach($observer3);Â Â </span><br><span class="line"><span class="keyword">echo</span>Â <span class="string">'SubjectÂ stateÂ isÂ 1'</span>,Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">$subject-&gt;setState(<span class="number">1</span>);Â Â </span><br><span class="line"><span class="keyword">echo</span>Â <span class="string">'SubjectÂ stateÂ isÂ 2'</span>,Â <span class="string">'&lt;br&gt;'</span>;Â Â </span><br><span class="line">$subject-&gt;setState(<span class="number">2</span>);Â Â </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="ä¸å…¶ä»–ç›¸å…³æ¨¡å¼"><a href="#ä¸å…¶ä»–ç›¸å…³æ¨¡å¼" class="headerlink" title="ä¸å…¶ä»–ç›¸å…³æ¨¡å¼"></a>ä¸å…¶ä»–ç›¸å…³æ¨¡å¼</h1><ul>
<li>ç»ˆç»“è€…æ¨¡å¼ Mediator: é€šè¿‡å°è£…å¤æ‚çš„æ›´æ–°è¯­ä¹‰ , ChangeManager å……å½“ç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„ä¸­ä»‹è€…ã€‚</li>
<li>å•ä¾‹æ¨¡å¼ Singleton: ChangeManager å¯ä½¿ç”¨ Singleton æ¨¡å¼æ¥ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„å¹¶ä¸”æ˜¯å¯å…¨å±€è®¿é—®<br>çš„ã€‚</li>
</ul>
<h1 id="æ€»ç»“ä¸åˆ†æ"><a href="#æ€»ç»“ä¸åˆ†æ" class="headerlink" title="æ€»ç»“ä¸åˆ†æ"></a>æ€»ç»“ä¸åˆ†æ</h1><p>é€šè¿‡ Observer æ¨¡å¼ï¼ŒæŠŠä¸€å¯¹å¤šå¯¹è±¡ä¹‹é—´çš„é€šçŸ¥ä¾èµ–å…³ç³»çš„å˜å¾—æ›´ä¸ºæ¾æ•£ï¼Œå¤§å¤§åœ°æé«˜äº†ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼Œä¹Ÿå¾ˆå¥½çš„ç¬¦åˆäº†å¼€æ”¾ - å°é—­åŸåˆ™ã€‚</p>
<!-- 
# å‚è€ƒ

[åŸæ–‡åœ°å€](http://blog.csdn.net/hguisu/article/details/7556625)
 -->

      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/DesignPattern/" rel="tag"><i class="fa fa-tag"></i> DesignPattern</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/factory_pattern/" rel="next" title="å·¥å‚æ¨¡å¼">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    å·¥å‚æ¨¡å¼
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/distributed_system_design_note_three/" rel="prev" title="åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸‰">
                <p class="post-nav-pre-next-title">
                    åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸‰
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#æ¦‚è¿°"><span class="nav-text">æ¦‚è¿°</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é—®é¢˜"><span class="nav-text">é—®é¢˜</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è§£å†³æ–¹æ¡ˆ"><span class="nav-text">è§£å†³æ–¹æ¡ˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é€‚ç”¨æ€§"><span class="nav-text">é€‚ç”¨æ€§</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç»“æ„"><span class="nav-text">ç»“æ„</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ¨¡å¼çš„ç»„æˆ"><span class="nav-text">æ¨¡å¼çš„ç»„æˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"><span class="nav-text">è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å®ç°"><span class="nav-text">å®ç°</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ä¸å…¶ä»–ç›¸å…³æ¨¡å¼"><span class="nav-text">ä¸å…¶ä»–ç›¸å…³æ¨¡å¼</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ€»ç»“ä¸åˆ†æ"><span class="nav-text">æ€»ç»“ä¸åˆ†æ</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
