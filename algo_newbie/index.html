<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


  <meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">

<script>
    (function(){
        if(''){
            let localStoragePasswdKey = 'algo_newbie' + '_last_passwd';
            let tryCnt = 0;
            function checkPassword(password) {
                password = password == null ? null : password.trim();
                if (password !== '') {
                    if (password != null) {
                        // å¦‚æœç”¨æˆ·ç‚¹å‡»äº†ç¡®è®¤è€Œä¸”å¯†ç é”™è¯¯çš„æ—¶å€™, å› ä¸ºå½“password == nullçš„æ—¶å€™è¯´æ˜ç”¨æˆ·ç‚¹äº†å–æ¶ˆ
                        alert('Error!');
                        if (++tryCnt < 3) {
                            password = prompt('Open Sesame');
                            checkPassword(password);
                            return;
                        }
                    }

                    // if (history.length > 1) {
                    //     alert('back!');
                    //     history.back();
                    // } else {
                        // alert('blankkkk!');
                    //     window.location.href = "about:blank";
                    // }
                    if (document.referrer) {
                        window.location.href = document.referrer;
                    } else {
                        window.location.href = "about:blank";; // fallback if no referrer
                    }

                } else {
                    localStorage.setItem(localStoragePasswdKey, password);
                }
            }

            var password_verify_on_local = false;
            const hostname = window.location.hostname;
            if (password_verify_on_local || (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1" || hostname.startsWith("192")))) {
                const lspk = localStorage.getItem(localStoragePasswdKey) || "";
                if (lspk !== '') {
                    var password = prompt('Open Sesame');
                    checkPassword(password);
                }
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">





















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Algo,noodle,LeetCode,">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="å®æˆ˜ç»ƒä¹ æ¨èå‚è€ƒæœ¬åšå®¢æ€»ç»“çš„ ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹  æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç https://github.com/no5ix/no5ix.github.io/blob/source/source/code/test_algo_newbie.py . . .">
<meta name="keywords" content="Algo,noodle,LeetCode">
<meta property="og:type" content="article">
<meta property="og:title" content="algo_newbie">
<meta property="og:url" content="https://hulinhong.com/algo_newbie/index.html">
<meta property="og:site_name" content="ğŸš™">
<meta property="og:description" content="å®æˆ˜ç»ƒä¹ æ¨èå‚è€ƒæœ¬åšå®¢æ€»ç»“çš„ ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹  æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç https://github.com/no5ix/no5ix.github.io/blob/source/source/code/test_algo_newbie.py . . .">
<meta property="og:locale" content="en">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">
<meta property="og:updated_time" content="2025-12-17T18:31:29.621Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="algo_newbie">
<meta name="twitter:description" content="å®æˆ˜ç»ƒä¹ æ¨èå‚è€ƒæœ¬åšå®¢æ€»ç»“çš„ ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹  æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç https://github.com/no5ix/no5ix.github.io/blob/source/source/code/test_algo_newbie.py . . .">
<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: false,
    mediumzoom: true,
    darkmode_js: false,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":188,"transition":{"header":"fadeIn","menu":"fadeIn","logo":"fadeIn","post_block_else":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","footer":"fadeIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>algo_newbie | ğŸš™</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ğŸš™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ğŸ’¨ ğŸ’¨ ğŸ’¨</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <div class="site-search-div">
    <button class="search-icon" id="search-button">
      <i class="fa fa-search"></i>
    </button>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">Ã—</i>
  </div>


<script type="text/javascript" id="local.search.active">
    {/* var inputArea       = document.querySelector("#local-search-input");
    inputArea.onclick   = function(){ getSearchFile(); this.focus(); }
    inputArea.onkeydown = function(){ if(event.keyCode == 13) return false } */}
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/algo_newbie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mike">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ğŸš™">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">algo_newbie</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-23T08:08:06+00:00">
                10-23-2018
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algo/" itemprop="url" rel="index">
                    <span itemprop="name">Algo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <div class="post-tags">
              
                <a href="/tags/Algo/" rel="tag"><i class="fa fa-tag"></i> Algo</a>
              
                <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
              
                <a href="/tags/LeetCode/" rel="tag"><i class="fa fa-tag"></i> LeetCode</a>
              
            </div>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/cache_db_consistency/" rel="next" title="Cacheå’ŒDBä¸€è‡´æ€§">
                <i class="fa fa-chevron-left"></i> 
                <p class="post-nav-pre-next-title">
                  Cacheå’ŒDBä¸€è‡´æ€§
                </p> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/algo_practice/" rel="prev" title="ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ ">
              <p class="post-nav-pre-next-title">
                  ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ 
              </p> 
              <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

      
      

      
        <h1 id="å®æˆ˜ç»ƒä¹ "><a href="#å®æˆ˜ç»ƒä¹ " class="headerlink" title="å®æˆ˜ç»ƒä¹ "></a>å®æˆ˜ç»ƒä¹ </h1><p>æ¨èå‚è€ƒ<strong>æœ¬åšå®¢æ€»ç»“</strong>çš„ <a href="/algo_practice/" title="ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ ">ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ </a></p>
<h1 id="æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç "><a href="#æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç " class="headerlink" title="æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç "></a>æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç </h1><p><a href="https://github.com/no5ix/no5ix.github.io/blob/source/source/code/test_algo_newbie.py" target="_blank" rel="noopener">https://github.com/no5ix/no5ix.github.io/blob/source/source/code/test_algo_newbie.py</a></p>
<p><strong>. . .</strong><a id="more"></a></p>
<h1 id="pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°"><a href="#pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°" class="headerlink" title="pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°"></a>pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°</h1><ul>
<li><p><code>sorted</code>å‡½æ•°, ç”¨æ¥æ’åº, <strong>æ³¨æ„sortedä¸ä¼šæ›´æ”¹åŸæœ‰æ•°ç»„, è¿”å›çš„æ‰æ˜¯æ’åºå¥½çš„æ•°ç»„</strong></p>
<ul>
<li>åŸºæœ¬æ“ä½œ: <code>num1 = [2, 1, 3]; sorted_num1 = sorted(num1)</code></li>
<li>æŒ‰keyæ’åº:  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nums = [ [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], [<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>], [<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>] ] </span><br><span class="line">sorted_nums = sorted(nums, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># out: [[2, 2, 1], [3, 4, 5], [3, 2, 6]]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>heapq</code>æ¨¡å—, æœ€å°å †</p>
<ul>
<li>heapqæœ‰ä¸¤ç§æ–¹å¼åˆ›å»ºå †ï¼Œ<ul>
<li>ä¸€ç§æ˜¯ä½¿ç”¨ä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œç„¶åä½¿ç”¨<code>heapq.heappush(test_heap_list, test_num)</code>å‡½æ•°æŠŠå€¼åŠ å…¥å †ä¸­ï¼Œ</li>
<li>å¦å¤–ä¸€ç§å°±æ˜¯ä½¿ç”¨<code>heap.heapify(test_list)</code> è½¬æ¢åˆ—è¡¨æˆä¸ºå †ç»“æ„</li>
</ul>
</li>
<li>å¦‚æœåªæ˜¯æƒ³è·å–æœ€å°å€¼è€Œä¸æ˜¯å¼¹å‡ºï¼Œä½¿ç”¨<code>test_heap_list[0]</code></li>
<li>å¼¹å‡ºä½¿ç”¨<code>heapq.heappop(test_heap_list)</code><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ç§</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">å‡½æ•°å®šä¹‰ï¼š</span></span><br><span class="line"><span class="string">heapq.heappush(heap, item)</span></span><br><span class="line"><span class="string">    - Push the value item onto the heap, maintaining the heap invariant.</span></span><br><span class="line"><span class="string">heapq.heappop(heap)</span></span><br><span class="line"><span class="string">    - Pop and return the smallest item from the heap, maintaining the heap invariant.</span></span><br><span class="line"><span class="string">    If the heap is empty, IndexError is raised. To access the smallest item without popping it, use heap[0].</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">54</span>, <span class="number">23</span>, <span class="number">132</span>]</span><br><span class="line">heap = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">    heapq.heappush(heap, num)  <span class="comment"># åŠ å…¥å †</span></span><br><span class="line"></span><br><span class="line">print(heap[<span class="number">0</span>])  <span class="comment"># å¦‚æœåªæ˜¯æƒ³è·å–æœ€å°å€¼è€Œä¸æ˜¯å¼¹å‡ºï¼Œä½¿ç”¨heap[0]</span></span><br><span class="line">print([heapq.heappop(heap) <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(nums))])  <span class="comment"># å †æ’åºç»“æœ</span></span><br><span class="line"><span class="comment"># out: [1, 2, 3, 5, 23, 54, 132]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒç§</span></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">54</span>, <span class="number">23</span>, <span class="number">132</span>]</span><br><span class="line">heapq.heapify(nums)</span><br><span class="line">print([heapq.heappop(nums) <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(nums))])  <span class="comment"># å †æ’åºç»“æœ</span></span><br><span class="line"><span class="comment"># out: [1, 2, 3, 5, 23, 54, 132]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p>å‘ç”Ÿç¢°æ’çš„æ—¶å€™çš„è§£å†³æ–¹æ¡ˆ:</p>
<ul>
<li>æ‹‰é“¾è¡¨æ³•</li>
<li><a href="#å¼€æ”¾å¯»å€æ³•">å¼€æ”¾å¯»å€æ³•</a><ul>
<li><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/hash_table1.jpg" alt></li>
<li>çº¿æ€§æ¢æŸ¥æ³•, æ­¤æ³•å¹¶ä¸å¥½ï¼ˆLinear Probingï¼‰ï¼šdi = 1,2,3,â€¦,m-1<ul>
<li>ç®€å•åœ°è¯´ï¼Œå°±æ˜¯ä»¥å½“å‰å†²çªä½ç½®ä¸ºèµ·ç‚¹ï¼Œæ­¥é•¿ä¸º1å¾ªç¯æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç©ºçš„ä½ç½®ï¼Œå¦‚æœå¾ªç¯å®Œäº†éƒ½å ä¸åˆ°ä½ç½®ï¼Œå°±è¯´æ˜å®¹å™¨å·²ç»æ»¡äº†ã€‚ä¸¾ä¸ªæ —å­ï¼Œå°±åƒä½ åœ¨é¥­ç‚¹å»è¡—ä¸Šåƒé¥­ï¼ŒæŒ¨å®¶å»çœ‹æ˜¯å¦æœ‰ä½ç½®ä¸€æ ·ã€‚å¦‚æœéå†åˆ°å°¾éƒ¨éƒ½æ²¡æœ‰æ‰¾åˆ°ç©ºé—²çš„ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å†ä»è¡¨å¤´å¼€å§‹æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</li>
<li>æ•£åˆ—è¡¨ä¸­<strong>æŸ¥æ‰¾å…ƒç´ </strong>çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡æ•£åˆ—å‡½æ•°æ±‚å‡ºè¦æŸ¥æ‰¾å…ƒç´ çš„é”®å€¼å¯¹åº”çš„æ•£åˆ—å€¼ï¼Œç„¶åæ¯”è¾ƒæ•°ç»„ä¸­ä¸‹æ ‡ä¸ºæ•£åˆ—å€¼çš„å…ƒç´ å’Œè¦æŸ¥æ‰¾çš„å…ƒç´ ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™è¯´æ˜å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ ï¼›å¦åˆ™å°±é¡ºåºå¾€åä¾æ¬¡æŸ¥æ‰¾ã€‚å¦‚æœéå†åˆ°æ•°ç»„ä¸­çš„ç©ºé—²ä½ç½®è¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±è¯´æ˜è¦æŸ¥æ‰¾çš„å…ƒç´ å¹¶æ²¡æœ‰åœ¨æ•£åˆ—è¡¨ä¸­ã€‚</li>
<li>å¯¹äº<strong>åˆ é™¤æ“ä½œ</strong>ç¨å¾®æœ‰äº›ç‰¹åˆ«ï¼Œä¸èƒ½å•çº¯åœ°æŠŠè¦åˆ é™¤çš„å…ƒç´ è®¾ç½®ä¸ºç©ºã€‚å› ä¸ºåœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œä¸€æ—¦æˆ‘ä»¬é€šè¿‡çº¿æ€§æ¢æµ‹æ–¹æ³•ï¼Œæ‰¾åˆ°ä¸€ä¸ªç©ºé—²ä½ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤å®šæ•£åˆ—è¡¨ä¸­ä¸å­˜åœ¨è¿™ä¸ªæ•°æ®ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸ªç©ºé—²ä½ç½®æ˜¯æˆ‘ä»¬åæ¥åˆ é™¤çš„ï¼Œå°±ä¼šå¯¼è‡´åŸæ¥çš„æŸ¥æ‰¾ç®—æ³•å¤±æ•ˆã€‚è¿™é‡Œ<strong>æˆ‘ä»¬å¯ä»¥å°†åˆ é™¤çš„å…ƒç´ ï¼Œç‰¹æ®Šæ ‡è®°ä¸º deletedã€‚å½“çº¿æ€§æ¢æµ‹æŸ¥æ‰¾çš„æ—¶å€™ï¼Œé‡åˆ°æ ‡è®°ä¸º deleted çš„ç©ºé—´ï¼Œå¹¶ä¸æ˜¯åœä¸‹æ¥ï¼Œè€Œæ˜¯ç»§ç»­å¾€ä¸‹æ¢æµ‹ã€‚</strong></li>
<li>çº¿æ€§æ¢æµ‹æ³•å­˜åœ¨å¾ˆå¤§é—®é¢˜ã€‚å½“æ•£åˆ—è¡¨ä¸­æ’å…¥çš„æ•°æ®è¶Šæ¥è¶Šå¤šæ—¶ï¼Œå…¶æ•£åˆ—å†²çªçš„å¯èƒ½æ€§å°±è¶Šå¤§ï¼Œæç«¯æƒ…å†µä¸‹ç”šè‡³è¦æ¢æµ‹æ•´ä¸ªæ•£åˆ—è¡¨,å› æ­¤æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(N)</li>
</ul>
</li>
<li>å¹³æ–¹æ¢æµ‹æ³•ï¼ˆQuadratic Probingï¼‰ï¼šdi = Â±1<sup>2</sup>, Â±2<sup>2</sup>, Â±3<sup>2</sup>â€¦ï¼ŒÂ±k<sup>2</sup>ï¼ˆkâ‰¤m/2ï¼‰<br>  ç›¸å¯¹äºçº¿æ€§æ¢æŸ¥æ³•ï¼Œè¿™å°±ç›¸å½“äºçš„æ­¥é•¿ä¸ºdi = i<sup>2</sup>æ¥å¾ªç¯æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºçš„ä½ç½®ã€‚ä»¥ä¸Šé¢é‚£ä¸ªä¾‹å­æ¥çœ‹ï¼Œç°åœ¨ä½ ä¸æ˜¯æŒ¨å®¶å»çœ‹æœ‰æ²¡æœ‰ä½ç½®äº†ï¼Œè€Œæ˜¯æ‹¿æ‰‹æœºç®—å»ç¬¬i<sup>2</sup>å®¶åº—ï¼Œç„¶åå»é—®è¿™å®¶åº—æœ‰æ²¡æœ‰ä½ç½®ã€‚</li>
<li>ä¼ªéšæœºæ¢æµ‹æ³•ï¼šdi = ä¼ªéšæœºæ•°åºåˆ—, è¿™ä¸ªå°±æ˜¯å–éšæœºæ•°æ¥ä½œä¸ºæ­¥é•¿</li>
</ul>
</li>
<li>å†å“ˆå¸Œæ³•<br>  <code>Hi = RHi(key)</code>, å…¶ä¸­i=1,2,â€¦,k<br>  <code>RHi()</code>å‡½æ•°æ˜¯ä¸åŒäº<code>H()</code>çš„å“ˆå¸Œå‡½æ•°ï¼Œç”¨äºåŒä¹‰è¯å‘ç”Ÿåœ°å€å†²çªæ—¶ï¼Œè®¡ç®—å‡ºå¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°åœ°å€ï¼Œç›´åˆ°ä¸å‘ç”Ÿå†²çªä½ç½®ã€‚è¿™ç§æ–¹æ³•ä¸å®¹æ˜“äº§ç”Ÿå †é›†ï¼Œä½†æ˜¯ä¼šå¢åŠ è®¡ç®—æ—¶é—´ã€‚<br>  æ‰€ä»¥å†å“ˆå¸Œæ³•çš„ç¼ºç‚¹æ˜¯ï¼šå¢åŠ äº†è®¡ç®—æ—¶é—´ã€‚  </li>
</ul>
<h3 id="è´Ÿè½½å› å­ä¸rehash"><a href="#è´Ÿè½½å› å­ä¸rehash" class="headerlink" title="è´Ÿè½½å› å­ä¸rehash"></a>è´Ÿè½½å› å­ä¸rehash</h3><p>è´Ÿè½½å› å­è®¡ç®—å…¬å¼ä¸º: <code>è´Ÿè½½å› å­ = å“ˆå¸Œè¡¨å·²ä¿å­˜èŠ‚ç‚¹æ•°é‡ / å“ˆå¸Œè¡¨å¤§å°</code><br>æ¯”å¦‚è¯´å½“å‰çš„å®¹å™¨åˆå§‹å®¹é‡<code>initCapacity</code>æ˜¯16ï¼Œè´Ÿè½½å› å­æ˜¯0.75(è¿™ä¸ªè´Ÿè½½å› å­æ˜¯å£è¯­ä¸­çš„è´Ÿè½½å› å­, å®é™…ä¸ŠæŒ‡çš„æ˜¯è¯¥æ‰©å®¹äº†çš„è´Ÿè½½å› å­ä¸´ç•Œå€¼), æ ¹æ®<br><code>å…ƒç´ æ•°é‡çš„æ‰©å®¹ä¸´ç•Œå€¼ï¼ˆthresholdï¼‰ = è´Ÿè½½å› å­ï¼ˆloadFactorï¼‰ * åˆå§‹å®¹é‡(initCapacity)</code><br>åˆ™16*0.75=12ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å®¹å™¨ä¸­å…ƒç´ æ•°é‡è¾¾åˆ°äº†12çš„æ—¶å€™å°±ä¼šè¿›è¡Œæ‰©å®¹æ“ä½œã€‚<br>ä»–çš„ä½œç”¨å¾ˆç®€å•ï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªæ‰©å®¹æœºåˆ¶çš„é˜ˆå€¼ã€‚å½“è¶…è¿‡äº†è¿™ä¸ªé˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹æœºåˆ¶ã€‚</p>
<p>ä¸ºä»€ä¹ˆjavaçš„HashMap(ä½¿ç”¨å¼€æ”¾å¯»å€æ³•è§£å†³ç¢°æ’)è´Ÿè½½å› å­ä¸€å®šæ˜¯0.75ï¼Ÿè€Œä¸æ˜¯0.8ï¼Œ0.6ï¼Ÿ</p>
<ul>
<li>loadFactorå¤ªå¤§ï¼Œæ¯”å¦‚ç­‰äº1ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œåªæœ‰å½“å®¹å™¨å…¨éƒ¨å¡«å……äº†ï¼Œæ‰ä¼šå‘ç”Ÿæ‰©å®¹ã€‚é‚£ä¹ˆå°±ä¼šæœ‰å¾ˆé«˜çš„å“ˆå¸Œå†²çªçš„æ¦‚ç‡ï¼Œä¼šå¤§å¤§é™ä½æŸ¥è¯¢é€Ÿåº¦ã€‚</li>
<li>loadFactorå¤ªå°ï¼Œæ¯”å¦‚ç­‰äº0.5ï¼Œé‚£ä¹ˆé¢‘ç¹æ‰©å®¹æ²¡ï¼Œå°±ä¼šå¤§å¤§æµªè´¹ç©ºé—´ã€‚</li>
</ul>
<h3 id="å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ"><a href="#å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ" class="headerlink" title="å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ"></a>å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ</h3><ul>
<li>å¯¹äºå¼€æ”¾å¯»å€æ³•è§£å†³å†²çªçš„æ•£åˆ—è¡¨:<ul>
<li>ä¼˜åŠ¿: ç”±äºæ•°æ®éƒ½å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œå› æ­¤å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨ CPU ç¼“å­˜åŠ å¿«æŸ¥è¯¢é€Ÿåº¦(æ•°ç»„å ç”¨ä¸€å—è¿ç»­çš„ç©ºé—´)ã€‚</li>
<li>ç¼ºç‚¹: ä½†æ˜¯åˆ é™¤æ•°æ®çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ç‰¹æ®Šæ ‡è®°å·²ç»åˆ é™¤æ‰çš„æ•°æ®ã€‚è€Œä¸”ï¼Œåœ¨å¼€æ”¾å¯»å€æ³•ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯”èµ·é“¾è¡¨æ³•æ¥è¯´ï¼Œå†²çªçš„ä»£ä»·æ›´é«˜ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨å¼€æ”¾å¯»å€æ³•è§£å†³å†²çªçš„æ•£åˆ—è¡¨ï¼Œè´Ÿè½½å› å­çš„ä¸Šé™ä¸èƒ½å¤ªå¤§ã€‚è¿™ä¹Ÿå¯¼è‡´è¿™ç§æ–¹æ³•æ¯”é“¾è¡¨æ³•æ›´æµªè´¹å†…å­˜ç©ºé—´ã€‚</li>
</ul>
</li>
<li>å¯¹äºé“¾è¡¨æ³•è§£å†³å†²çªçš„æ•£åˆ—è¡¨:<ul>
<li>ä¼˜åŠ¿: <ul>
<li>å¯¹å†…å­˜çš„åˆ©ç”¨ç‡æ¯”å¼€æ”¾å¯»å€æ³•è¦é«˜ã€‚å› ä¸ºé“¾è¡¨ç»“ç‚¹å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å†åˆ›å»ºï¼Œå¹¶ä¸éœ€è¦åƒå¼€æ”¾å¯»å€æ³•é‚£æ ·äº‹å…ˆç”³è¯·å¥½ã€‚</li>
<li>é“¾è¡¨æ³•æ¯”èµ·å¼€æ”¾å¯»å€æ³•ï¼Œå¯¹å¤§è£…è½½å› å­çš„å®¹å¿åº¦æ›´é«˜ã€‚å¼€æ”¾å¯»å€æ³•åªèƒ½é€‚ç”¨è£…è½½å› å­å°äº1çš„æƒ…å†µã€‚æ¥è¿‘1æ—¶ï¼Œå°±å¯èƒ½ä¼šæœ‰å¤§é‡çš„æ•£åˆ—å†²çªï¼Œæ€§èƒ½ä¼šä¸‹é™å¾ˆå¤šã€‚ä½†æ˜¯å¯¹äºé“¾è¡¨æ³•æ¥è¯´ï¼Œåªè¦æ•£åˆ—å‡½æ•°çš„å€¼éšæœºå‡åŒ€ï¼Œå³ä¾¿è£…è½½å› å­å˜æˆ10ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨çš„é•¿åº¦å˜é•¿äº†è€Œå·²ï¼Œè™½ç„¶æŸ¥æ‰¾æ•ˆç‡æœ‰æ‰€ä¸‹é™ï¼Œä½†æ˜¯æ¯”èµ·é¡ºåºæŸ¥æ‰¾è¿˜æ˜¯å¿«å¾ˆå¤šã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹: ä½†æ˜¯ï¼Œé“¾è¡¨å› ä¸ºè¦å­˜å‚¨æŒ‡é’ˆï¼Œæ‰€ä»¥å¯¹äºæ¯”è¾ƒå°çš„å¯¹è±¡çš„å­˜å‚¨ï¼Œæ˜¯æ¯”è¾ƒæ¶ˆè€—å†…å­˜çš„ï¼Œè€Œä¸”é“¾è¡¨ä¸­çš„ç»“ç‚¹æ˜¯é›¶æ•£åˆ†å¸ƒåœ¨å†…å­˜ä¸­çš„ï¼Œä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥å¯¹CPUç¼“å­˜æ˜¯ä¸å‹å¥½çš„ï¼Œè¿™å¯¹äºæ‰§è¡Œæ•ˆç‡æœ‰ä¸€å®šçš„å½±å“ã€‚</li>
</ul>
</li>
</ul>
<h2 id="è·³è¡¨"><a href="#è·³è¡¨" class="headerlink" title="è·³è¡¨"></a>è·³è¡¨</h2><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/skip_list/skiplist1.jpg" alt="è·³è¡¨æŸ¥æ‰¾è¿‡ç¨‹" title="è·³è¡¨æŸ¥æ‰¾è¿‡ç¨‹"></p>
<h3 id="è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–"><a href="#è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–" class="headerlink" title="è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–"></a>è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–</h3><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/skip_list/skiplist_insert.jpg" alt="è·³è¡¨æ’å…¥å…·ä½“è¿‡ç¨‹" title="è·³è¡¨æ’å…¥å…·ä½“è¿‡ç¨‹"></p>
<p>ä»ä¸Šé¢skiplistçš„åˆ›å»ºå’Œæ’å…¥è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œ<strong>æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å±‚æ•°ï¼ˆlevelï¼‰æ˜¯éšæœºå‡ºæ¥çš„</strong>ï¼Œè€Œä¸”æ–°æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¼šå½±å“å…¶å®ƒèŠ‚ç‚¹çš„å±‚æ•°ã€‚å› æ­¤ï¼Œæ’å…¥æ“ä½œåªéœ€è¦ä¿®æ”¹æ’å…¥èŠ‚ç‚¹å‰åçš„æŒ‡é’ˆï¼Œè€Œä¸éœ€è¦å¯¹å¾ˆå¤šèŠ‚ç‚¹éƒ½è¿›è¡Œè°ƒæ•´ã€‚è¿™å°±é™ä½äº†æ’å…¥æ“ä½œçš„å¤æ‚åº¦ã€‚å®é™…ä¸Šï¼Œè¿™æ˜¯skiplistçš„ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§ï¼Œè¿™è®©å®ƒåœ¨æ’å…¥æ€§èƒ½ä¸Šæ˜æ˜¾ä¼˜äºå¹³è¡¡æ ‘çš„æ–¹æ¡ˆã€‚è¿™åœ¨åé¢æˆ‘ä»¬è¿˜ä¼šæåˆ°ã€‚</p>
<p>æ‰§è¡Œæ’å…¥æ“ä½œæ—¶è®¡ç®—éšæœºæ•°çš„è¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå…³é”®çš„è¿‡ç¨‹ï¼Œå®ƒå¯¹ skiplist çš„ç»Ÿè®¡ç‰¹æ€§æœ‰ç€å¾ˆé‡è¦çš„å½±å“ã€‚è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„æœä»å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°ï¼Œå®ƒçš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹è‚¯å®šéƒ½æœ‰ç¬¬ 1 å±‚æŒ‡é’ˆï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½åœ¨ç¬¬ 1 å±‚é“¾è¡¨é‡Œï¼‰ã€‚</li>
<li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ç¬¬ i å±‚ (i&gt;=1) æŒ‡é’ˆï¼ˆå³èŠ‚ç‚¹å·²ç»åœ¨ç¬¬ 1 å±‚åˆ°ç¬¬ i å±‚é“¾è¡¨ä¸­ï¼‰ï¼Œé‚£ä¹ˆå®ƒæœ‰ç¬¬ (i+1) å±‚æŒ‡é’ˆçš„æ¦‚ç‡ä¸º pã€‚</li>
<li>èŠ‚ç‚¹æœ€å¤§çš„å±‚æ•°ä¸å…è®¸è¶…è¿‡ä¸€ä¸ªæœ€å¤§å€¼ï¼Œè®°ä¸º MaxLevelã€‚</li>
</ul>
<p>è¿™ä¸ªè®¡ç®—éšæœºå±‚æ•°çš„ä¼ªç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">randomLevel()</span><br><span class="line">    level := <span class="number">1</span></span><br><span class="line">    <span class="comment">// random()è¿”å›ä¸€ä¸ª[0...1)çš„éšæœºæ•°</span></span><br><span class="line">    while random() &lt; p and level &lt; MaxLevel do</span><br><span class="line">        level := level + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> level</span><br></pre></td></tr></table></figure>
<p>randomLevel() çš„ä¼ªç ä¸­åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ pï¼Œä¸€ä¸ªæ˜¯ MaxLevelã€‚åœ¨ Redis çš„ skiplist å®ç°ä¸­ï¼Œè¿™ä¸¤ä¸ªå‚æ•°çš„å–å€¼ä¸ºï¼š</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">p = <span class="number">1</span>/<span class="number">4</span></span><br><span class="line">MaxLevel = <span class="number">32</span></span><br></pre></td></tr></table></figure>
<h3 id="è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„"><a href="#è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„" class="headerlink" title="è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„"></a>è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„</h3><p>è·³è¡¨æ•°æ®ç»“æ„é‡Œå­˜äº†ä¸€ä¸ª<strong>spanå€¼</strong>, å®ƒè¡¨ç¤ºå½“å‰çš„æŒ‡é’ˆè·¨è¶Šäº†å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/skip_list/skiplist_rank.jpg" alt><br>æ³¨æ„ï¼šå›¾ä¸­å‰å‘æŒ‡é’ˆä¸Šé¢æ‹¬å·ä¸­çš„æ•°å­—ï¼Œè¡¨ç¤ºå¯¹åº”çš„spançš„å€¼ã€‚å³å½“å‰æŒ‡é’ˆè·¨è¶Šäº†å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªè®¡æ•°ä¸åŒ…æ‹¬æŒ‡é’ˆçš„èµ·ç‚¹èŠ‚ç‚¹ï¼Œä½†åŒ…æ‹¬æŒ‡é’ˆçš„ç»ˆç‚¹èŠ‚ç‚¹ã€‚<br>å‡è®¾æˆ‘ä»¬åœ¨è¿™ä¸ªskiplistä¸­æŸ¥æ‰¾score=89.0çš„å…ƒç´ ï¼ˆå³Bobçš„æˆç»©æ•°æ®ï¼‰ï¼Œåœ¨æŸ¥æ‰¾è·¯å¾„ä¸­ï¼Œæˆ‘ä»¬ä¼šè·¨åŸŸå›¾ä¸­æ ‡çº¢çš„æŒ‡é’ˆï¼Œè¿™äº›æŒ‡é’ˆä¸Šé¢çš„spanå€¼ç´¯åŠ èµ·æ¥ï¼Œå°±å¾—åˆ°äº†Bobçš„æ’å(2+2+1)-1=4ï¼ˆå‡1æ˜¯å› ä¸ºrankå€¼ä»¥0èµ·å§‹ï¼‰ã€‚éœ€è¦æ³¨æ„è¿™é‡Œç®—çš„æ˜¯ä»å°åˆ°å¤§çš„æ’åï¼Œè€Œå¦‚æœè¦ç®—ä»å¤§åˆ°å°çš„æ’åï¼Œåªéœ€è¦ç”¨skiplisté•¿åº¦å‡å»æŸ¥æ‰¾è·¯å¾„ä¸Šçš„spanç´¯åŠ å€¼ï¼Œå³6-(2+2+1)=1ã€‚<br>å¯è§ï¼Œåœ¨æŸ¥æ‰¾skiplistçš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ç´¯åŠ spanå€¼çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“ç®—å‡ºæ’åã€‚ç›¸åï¼Œå¦‚æœæŒ‡å®šæ’åæ¥æŸ¥æ‰¾æ•°æ®ï¼ˆç±»ä¼¼zrangeå’Œzrevrangeé‚£æ ·ï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸æ–­ç´¯åŠ spanå¹¶æ—¶åˆ»ä¿æŒç´¯åŠ å€¼ä¸è¶…è¿‡æŒ‡å®šçš„æ’åï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±èƒ½å¾—åˆ°ä¸€æ¡O(log n)çš„æŸ¥æ‰¾è·¯å¾„ã€‚</p>
<h2 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h2><p>AVLæ ‘æ˜¯å¸¦æœ‰å¹³è¡¡æ¡ä»¶çš„äºŒå‰ä¸¥æ ¼å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼Œä¸€èˆ¬æ˜¯ç”¨å¹³è¡¡å› å­å·®å€¼åˆ¤æ–­æ˜¯å¦å¹³è¡¡å¹¶é€šè¿‡æ—‹è½¬æ¥å®ç°å¹³è¡¡ï¼Œå·¦å³å­æ ‘æ ‘é«˜ä¸è¶…è¿‡1ï¼Œå’Œçº¢é»‘æ ‘ç›¸æ¯”ï¼Œå®ƒæ˜¯ä¸¥æ ¼çš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå¹³è¡¡æ¡ä»¶å¿…é¡»æ»¡è¶³ï¼ˆæ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1ï¼‰ã€‚ä¸ç®¡æˆ‘ä»¬æ˜¯æ‰§è¡Œæ’å…¥è¿˜æ˜¯åˆ é™¤æ“ä½œï¼Œåªè¦ä¸æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶ï¼Œå°±è¦<strong>é€šè¿‡æ—‹è½¬æ¥ä¿æŒå¹³è¡¡ï¼Œè€Œæ—‹è½¬æ˜¯éå¸¸è€—æ—¶çš„ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“AVLæ ‘é€‚åˆç”¨äºæ’å…¥åˆ é™¤æ¬¡æ•°æ¯”è¾ƒå°‘ï¼Œä½†æŸ¥æ‰¾å¤šçš„æƒ…å†µã€‚</strong></p>
<h2 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h2><p>ä¸€ç§äºŒå‰å¼±å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼Œä½†åœ¨æ¯ä¸ªèŠ‚ç‚¹å¢åŠ ä¸€ä¸ªå­˜å‚¨ä½è¡¨ç¤ºèŠ‚ç‚¹çš„é¢œè‰²ï¼Œå¯ä»¥æ˜¯redæˆ–blackã€‚é€šè¿‡å¯¹ä»»ä½•ä¸€æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ä¸Šå„ä¸ªèŠ‚ç‚¹ç€è‰²çš„æ–¹å¼çš„é™åˆ¶ï¼Œçº¢é»‘æ ‘ç¡®ä¿æ²¡æœ‰ä¸€æ¡è·¯å¾„ä¼šæ¯”å…¶å®ƒè·¯å¾„é•¿å‡ºä¸¤å€ã€‚å®ƒæ˜¯ä¸€ç§å¼±å¹³è¡¡äºŒå‰æ ‘(ç”±äºæ˜¯è‹¥å¹³è¡¡ï¼Œå¯ä»¥æ¨å‡ºï¼Œç›¸åŒçš„èŠ‚ç‚¹æƒ…å†µä¸‹ï¼ŒAVLæ ‘çš„é«˜åº¦ä½äºçº¢é»‘æ ‘)ï¼Œç›¸å¯¹äºè¦æ±‚ä¸¥æ ¼çš„AVLæ ‘æ¥è¯´ï¼Œå®ƒçš„æ—‹è½¬æ¬¡æ•°å˜å°‘ï¼Œæ‰€ä»¥å¯¹äºæœç´¢ã€æ’å…¥ã€åˆ é™¤æ“ä½œå¤šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±ç”¨çº¢é»‘æ ‘ã€‚å®é™…åº”ç”¨å¦‚ä¸‹:</p>
<ul>
<li>å¹¿æ³›ç”¨äºC++çš„STLä¸­ï¼ŒMapå’ŒSetéƒ½æ˜¯ç”¨çº¢é»‘æ ‘å®ç°çš„ï¼›</li>
<li>è‘—åçš„Linuxè¿›ç¨‹è°ƒåº¦Completely Fair Schedulerï¼Œç”¨çº¢é»‘æ ‘ç®¡ç†è¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜åŒºåŸŸéƒ½å­˜å‚¨åœ¨ä¸€é¢—çº¢é»‘æ ‘ä¸Šï¼Œæ¯ä¸ªè™šæ‹Ÿåœ°å€åŒºåŸŸéƒ½å¯¹åº”çº¢é»‘æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘ç›¸é‚»çš„åœ°å€è™šæ‹Ÿå­˜å‚¨åŒºåŸŸï¼Œå³æŒ‡é’ˆæŒ‡å‘ç›¸é‚»çš„é«˜åœ°å€è™šæ‹Ÿåœ°å€ç©ºé—´ï¼›</li>
<li>IOå¤šè·¯å¤ç”¨epollçš„å®ç°é‡‡ç”¨çº¢é»‘æ ‘ç»„ç»‡ç®¡ç†sockfdï¼Œä»¥æ”¯æŒå¿«é€Ÿçš„å¢åˆ æ”¹æŸ¥ï¼›</li>
<li>Nginxä¸­ç”¨çº¢é»‘æ ‘ç®¡ç†timerï¼Œå› ä¸ºçº¢é»‘æ ‘æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥å¾ˆå¿«çš„å¾—åˆ°è·ç¦»å½“å‰æœ€å°çš„å®šæ—¶å™¨ï¼›</li>
</ul>
<h2 id="Bæ ‘å’ŒB-æ ‘"><a href="#Bæ ‘å’ŒB-æ ‘" class="headerlink" title="Bæ ‘å’ŒB+æ ‘"></a>Bæ ‘å’ŒB+æ ‘</h2><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/b_tree/b_tree.png" alt><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/b_tree/b_plus_tree.png" alt></p>
<ul>
<li><strong>Bæ ‘</strong>(ä¹Ÿå«B-æ ‘, è¿™ä¸ª<code>-</code>åªæ˜¯ä¸ªç¬¦å·â€¦ä¸æ˜¯Bå‡æ ‘å“ˆ)</li>
<li><strong>B+æ ‘</strong>: B+æ ‘æ˜¯åº”æ–‡ä»¶ç³»ç»Ÿæ‰€éœ€è€Œäº§ç”Ÿçš„ä¸€ç§Bæ ‘çš„å˜å½¢æ ‘ï¼ˆæ–‡ä»¶çš„ç›®å½•ä¸€çº§ä¸€çº§ç´¢å¼•ï¼Œåªæœ‰æœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹ï¼ˆæ–‡ä»¶ï¼‰ä¿å­˜æ•°æ®ï¼‰éå¶å­èŠ‚ç‚¹åªä¿å­˜ç´¢å¼•ï¼Œä¸ä¿å­˜å®é™…çš„æ•°æ®ï¼Œæ•°æ®éƒ½ä¿å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œæ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé“¾è¡¨æŒ‡é’ˆæŠŠå®é™…çš„æ•°æ®ç”¨é“¾è¡¨è¿åœ¨ä¸€èµ·ä½¿å¾—éå†æ•´æ£µæ ‘åªéœ€è¦éå†å¶å­èŠ‚ç‚¹å°±è¡Œ.</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•"><a href="#ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•" class="headerlink" title="ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•"></a>ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•</h3><p>å‚è€ƒ: <a href="https://blog.csdn.net/xlgen157387/article/details/79450295" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆMySQLæ•°æ®åº“ç´¢å¼•é€‰æ‹©ä½¿ç”¨B+æ ‘?</a>  </p>
<ul>
<li>ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•<ul>
<li>æˆ‘ä»¬å¯ä»¥æ ¹æ®Bç±»æ ‘çš„ç‰¹ç‚¹ï¼Œæ„é€ ä¸€ä¸ªå¤šé˜¶çš„Bç±»æ ‘ï¼Œç„¶å<strong>åœ¨å°½é‡å¤šçš„åœ¨ç»“ç‚¹ä¸Šå­˜å‚¨ç›¸å…³çš„ä¿¡æ¯ï¼Œä¿è¯å±‚æ•°å°½é‡çš„å°‘ï¼Œä»¥ä¾¿åé¢æˆ‘ä»¬å¯ä»¥æ›´å¿«çš„æ‰¾åˆ°ä¿¡æ¯ï¼Œç£ç›˜çš„I/Oæ“ä½œä¹Ÿå°‘ä¸€äº›</strong>ï¼Œè€Œä¸”Bç±»æ ‘æ˜¯å¹³è¡¡æ ‘ï¼Œæ¯ä¸ªç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„é«˜åº¦éƒ½æ˜¯ç›¸åŒï¼Œè¿™ä¹Ÿä¿è¯äº†æ¯ä¸ªæŸ¥è¯¢æ˜¯ç¨³å®šçš„ã€‚</li>
<li>æ€»çš„æ¥è¯´ï¼ŒB/B+æ ‘æ˜¯ä¸ºäº†ç£ç›˜æˆ–å…¶å®ƒå­˜å‚¨è®¾å¤‡è€Œè®¾è®¡çš„ä¸€ç§<strong>å¹³è¡¡å¤šè·¯æŸ¥æ‰¾æ ‘</strong>(ç›¸å¯¹äºäºŒå‰ï¼ŒBæ ‘æ¯ä¸ªå†…èŠ‚ç‚¹æœ‰å¤šä¸ªåˆ†æ”¯)ï¼Œä¸çº¢é»‘æ ‘ç›¸æ¯”ï¼Œåœ¨ç›¸åŒçš„çš„èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œä¸€é¢—B/B+æ ‘çš„é«˜åº¦è¿œè¿œå°äºçº¢é»‘æ ‘çš„é«˜åº¦(åœ¨ä¸‹é¢B/B+æ ‘çš„æ€§èƒ½åˆ†æä¸­ä¼šæåˆ°)ã€‚B/B+æ ‘ä¸Šæ“ä½œçš„æ—¶é—´é€šå¸¸ç”±å­˜å–ç£ç›˜çš„æ—¶é—´å’ŒCPUè®¡ç®—æ—¶é—´è¿™ä¸¤éƒ¨åˆ†æ„æˆï¼Œè€ŒCPUçš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ‰€ä»¥Bæ ‘çš„æ“ä½œæ•ˆç‡å–å†³äºè®¿é—®ç£ç›˜çš„æ¬¡æ•°ï¼Œ<strong>å…³é”®å­—æ€»æ•°ç›¸åŒçš„æƒ…å†µä¸‹Bæ ‘çš„é«˜åº¦è¶Šå°ï¼Œç£ç›˜I/Oæ‰€èŠ±çš„æ—¶é—´è¶Šå°‘</strong>ã€‚</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆè¯´B+æ ‘æ¯”Bæ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•<ul>
<li>B+æ ‘çš„ç£ç›˜è¯»å†™ä»£ä»·æ›´ä½ï¼šB+æ ‘çš„å†…éƒ¨èŠ‚ç‚¹å¹¶æ²¡æœ‰æŒ‡å‘å…³é”®å­—å…·ä½“ä¿¡æ¯çš„æŒ‡é’ˆï¼Œå› æ­¤<strong>å…¶å†…éƒ¨èŠ‚ç‚¹ç›¸å¯¹Bæ ‘æ›´å°</strong>ï¼Œå¦‚æœæŠŠæ‰€æœ‰åŒä¸€å†…éƒ¨èŠ‚ç‚¹çš„å…³é”®å­—å­˜æ”¾åœ¨åŒä¸€ç›˜å—ä¸­ï¼Œé‚£ä¹ˆç›˜å—æ‰€èƒ½å®¹çº³çš„å…³é”®å­—æ•°é‡ä¹Ÿè¶Šå¤šï¼Œä¸€æ¬¡æ€§è¯»å…¥å†…å­˜çš„éœ€è¦æŸ¥æ‰¾çš„å…³é”®å­—ä¹Ÿå°±è¶Šå¤šï¼Œç›¸å¯¹IOè¯»å†™æ¬¡æ•°å°±é™ä½äº†ã€‚</li>
<li>B+æ ‘çš„æŸ¥è¯¢æ•ˆç‡æ›´åŠ ç¨³å®šï¼šç”±äºb+æ ‘éç»ˆç»“ç‚¹å¹¶ä¸æ˜¯æœ€ç»ˆæŒ‡å‘æ–‡ä»¶å†…å®¹çš„ç»“ç‚¹ï¼Œè€Œåªæ˜¯å¶å­ç»“ç‚¹ä¸­å…³é”®å­—çš„ç´¢å¼•ã€‚æ‰€ä»¥ä»»ä½•å…³é”®å­—çš„æŸ¥æ‰¾å¿…é¡»èµ°ä¸€æ¡ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯ã€‚æ‰€æœ‰å…³é”®å­—æŸ¥è¯¢çš„è·¯å¾„é•¿åº¦ç›¸åŒï¼Œå¯¼è‡´æ¯ä¸€ä¸ªæ•°æ®çš„æŸ¥è¯¢æ•ˆç‡ç›¸å½“ã€‚</li>
<li>ç”±äºB+æ ‘çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸­ï¼Œåˆ†æ”¯ç»“ç‚¹å‡ä¸ºç´¢å¼•ï¼Œæ–¹ä¾¿æ‰«åº“ï¼Œåªéœ€è¦æ‰«ä¸€éå¶å­ç»“ç‚¹å³å¯ï¼Œä½†æ˜¯Bæ ‘å› ä¸ºå…¶åˆ†æ”¯ç»“ç‚¹åŒæ ·å­˜å‚¨ç€æ•°æ®ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å…·ä½“çš„æ•°æ®ï¼Œéœ€è¦å¯¹bæ ‘è¿›è¡Œä¸€æ¬¡ä¸­åºéå†æŒ‰åºæ¥æ‰«ï¼Œæ‰€ä»¥B+æ ‘æ›´åŠ é€‚åˆåœ¨åŒºé—´æŸ¥è¯¢çš„æƒ…å†µï¼Œæ‰€ä»¥é€šå¸¸B+æ ‘ç”¨äºæ•°æ®åº“ç´¢å¼•ã€‚</li>
<li>Bæ ‘åœ¨æé«˜äº†IOæ€§èƒ½çš„åŒæ—¶å¹¶æ²¡æœ‰è§£å†³å…ƒç´ éå†çš„æ•ˆç‡ä½ä¸‹çš„é—®é¢˜ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒB+æ ‘åº”ç”¨è€Œç”Ÿã€‚B+æ ‘åªéœ€è¦å»éå†å¶å­èŠ‚ç‚¹å°±å¯ä»¥å®ç°æ•´æ£µæ ‘çš„éå†ã€‚è€Œä¸”åœ¨æ•°æ®åº“ä¸­åŸºäºèŒƒå›´çš„æŸ¥è¯¢æ˜¯éå¸¸é¢‘ç¹çš„ï¼Œè€ŒBæ ‘ä¸æ”¯æŒè¿™æ ·çš„æ“ä½œæˆ–è€…è¯´æ•ˆç‡å¤ªä½ã€‚</li>
</ul>
</li>
</ul>
<h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><ul>
<li>éå†<ul>
<li>æ·±åº¦ä¼˜å…ˆéå†dfs<ul>
<li>å‰åºéé€’å½’</li>
<li>ä¸­åºéé€’å½’</li>
<li>ååºéé€’å½’</li>
</ul>
</li>
<li>å¹¿åº¦ä¼˜å…ˆéå†bfs<ul>
<li>å±‚åºéå†</li>
</ul>
</li>
</ul>
</li>
<li>éé€’å½’åè½¬</li>
<li><a href="#lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜">æ‰¾æ™®é€šäºŒå‰æ ‘çš„ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆLCAé—®é¢˜</a></li>
<li>äºŒå‰æœç´¢æ ‘: <ul>
<li>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘</li>
<li>å…¶ä¸­åºéå†æ˜¯ä¸ªä»å°åˆ°å¤§çš„æœ‰åºåºåˆ—</li>
<li>æ‰¾äºŒå‰æœç´¢æ ‘çš„ä»»æ„ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ<ul>
<li>åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„ç¬¬ä¸€ä¸ªå€¼ä»‹äºn1å’Œn2ä¹‹é—´çš„èŠ‚ç‚¹nï¼Œä¹Ÿå³n1 =&lt; n &lt;= n2, å°±æ˜¯n1å’Œn2çš„LCAã€‚</li>
<li>åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœèŠ‚ç‚¹çš„å€¼æ¯”n1å’Œn2éƒ½å¤§ï¼Œé‚£ä¹ˆLCAåœ¨èŠ‚ç‚¹çš„å·¦å­æ ‘ã€‚</li>
<li>åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœèŠ‚ç‚¹çš„å€¼æ¯”n1å’Œn2éƒ½å°ï¼Œé‚£ä¹ˆLCAåœ¨èŠ‚ç‚¹çš„å³å­æ ‘ã€‚</li>
</ul>
</li>
<li>è®°ä½ä¸€ç‚¹, å…¶ä¸­åºéå†æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„, æ‰€ä»¥æ¶‰åŠåˆ°å„ç§äºŒå‰æœç´¢æ ‘(å¦‚AVLæ ‘/çº¢é»‘æ ‘/Bæ ‘/B+æ ‘)æ€»æ˜¯è¯´è¦ä¸­åºéå†æ‰«æç»“ç‚¹å•¥çš„<ul>
<li>ç±»ä¼¼äº <a href="https://leetcode-cn.com/problems/minimum-absolute-difference-in-bst/" target="_blank" rel="noopener">ç»™ä½ ä¸€æ£µæ‰€æœ‰èŠ‚ç‚¹ä¸ºéè´Ÿå€¼çš„äºŒå‰æœç´¢æ ‘ï¼Œè¯·ä½ è®¡ç®—æ ‘ä¸­ä»»æ„ä¸¤èŠ‚ç‚¹çš„å·®çš„ç»å¯¹å€¼çš„æœ€å°å€¼</a> è¿™ç§é¢˜ç›®å°±å¯ä»¥ä¸­åºéå†ä¹‹åå¾—åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ç„¶åéå†æ­¤æ•°ç»„æ±‚ç›¸é‚»å…ƒç´ çš„æœ€å°å·®å€¼å³å¯</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>äºŒå‰æ ‘çš„ä»£ç è¡¨ç¤º:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val)</span>:</span></span><br><span class="line">        self.left = <span class="keyword">None</span></span><br><span class="line">        self.right = <span class="keyword">None</span></span><br><span class="line">        self.val = val</span><br></pre></td></tr></table></figure></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/binary_tree/binary_tree_traverse_and_swap_1.png" alt></p>
<p>å¦‚ä¸Šå›¾å¾—åˆ°çš„ç›¸åº”çš„ä¸‰ç§<strong>æ·±åº¦ä¼˜å…ˆéå†</strong>çš„åºåˆ—åˆ†åˆ«ä¸º ï¼š </p>
<ul>
<li><strong>å…ˆ(æ ¹)åºéå†</strong> ï¼š ABCDEGF</li>
<li><strong>ä¸­(æ ¹)åºéå†</strong> ï¼š CBEGDFA</li>
<li><strong>å(æ ¹)åºéå†</strong> ï¼š CGEFDBA</li>
</ul>
<p>è€Œå¾—åˆ°çš„<strong>å¹¿åº¦ä¼˜å…ˆéå†</strong>çš„åºåˆ—ä¸º : ABCDEFG</p>
<h3 id="ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†"><a href="#ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†" class="headerlink" title="ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†"></a>ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/binary_tree/binary_tree_preorder_traversal.mp4" type="video/mp4"><br></video>

<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  TreeNode(<span class="keyword">int</span> _val): val(_val), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">char</span> val;</span><br><span class="line">  TreeNode *left, *right;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap_tree</span><span class="params">(TreeNode *tn)</span></span>&#123;</span><br><span class="line"><span class="comment">//   if(tn == nullptr)</span></span><br><span class="line"><span class="comment">//     return;</span></span><br><span class="line"><span class="comment">//   std::cout &lt;&lt; tn-&gt;val &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">//   pre_order_traverse(tn-&gt;left);</span></span><br><span class="line"><span class="comment">//   pre_order_traverse(tn-&gt;right);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   std::stack&lt;std::pair&lt;const char*, TreeNode*&gt;&gt; st = stack&lt;std::pair&lt;const char*, TreeNode*&gt;&gt;();</span></span><br><span class="line">  <span class="keyword">auto</span> st = <span class="built_in">std</span>::<span class="built_in">stack</span>&lt;<span class="built_in">std</span>::tuple&lt;<span class="keyword">const</span> <span class="keyword">char</span>*, TreeNode*&gt;&gt;();</span><br><span class="line">  st.push(make_tuple(<span class="string">"go"</span>, tn));  <span class="comment">// todo std::tuple</span></span><br><span class="line"><span class="comment">// //   st.push(make_pair("go", tn));</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line">  <span class="keyword">while</span>(!st.empty())&#123;</span><br><span class="line"><span class="comment">//     auto [cmd, tree_node] = st.top();</span></span><br><span class="line"><span class="comment">//     const char *cmd;</span></span><br><span class="line"><span class="comment">//     TreeNode* tree_node;</span></span><br><span class="line"><span class="comment">//     std::tie(cmd, tree_node) = st.top();</span></span><br><span class="line">    <span class="keyword">auto</span> poped_elem = st.top();</span><br><span class="line">    st.pop();</span><br><span class="line">    <span class="keyword">auto</span> elem = <span class="built_in">std</span>::get&lt;<span class="number">1</span>&gt;(poped_elem);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(<span class="built_in">std</span>::get&lt;<span class="number">0</span>&gt;(poped_elem), <span class="string">"print"</span>) == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">//       std::cout &lt;&lt; std::get&lt;1&gt;(poped_elem)-&gt;val &lt;&lt; std::endl;</span></span><br><span class="line">      <span class="keyword">auto</span> temp = elem-&gt;left;</span><br><span class="line">      elem-&gt;left = elem-&gt;right;</span><br><span class="line">      elem-&gt;right = temp;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(elem-&gt;right)</span><br><span class="line">      st.push(make_pair(<span class="string">"go"</span>, elem-&gt;right));</span><br><span class="line">    <span class="keyword">if</span>(elem-&gt;left)</span><br><span class="line">      st.push(make_pair(<span class="string">"go"</span>, elem-&gt;left));</span><br><span class="line">    st.push(make_pair(<span class="string">"print"</span>, elem));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(TreeNode* tn)</span></span>&#123;</span><br><span class="line">  <span class="keyword">auto</span> qu = <span class="built_in">std</span>::<span class="built_in">queue</span>&lt;TreeNode*&gt;();</span><br><span class="line">  qu.push(tn);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (!qu.empty())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">auto</span> front_elem = qu.front();</span><br><span class="line">    qu.pop();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; front_elem-&gt;val &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(front_elem-&gt;left)</span><br><span class="line">      qu.push(front_elem-&gt;left);</span><br><span class="line">    <span class="keyword">if</span> (front_elem-&gt;right)</span><br><span class="line">    &#123;</span><br><span class="line">      qu.push(front_elem-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_preorder_traversal</span><span class="params">(root)</span>:</span></span><br><span class="line">    _result_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> _result_arr</span><br><span class="line">    _temp_stack = []</span><br><span class="line">    _temp_stack.append((<span class="string">"go"</span>, root))</span><br><span class="line">    <span class="keyword">while</span> _temp_stack:</span><br><span class="line">        _cmd, _cur_node = _temp_stack.pop(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> _cmd == <span class="string">"print"</span>:</span><br><span class="line">            _result_arr.append(_cur_node.val)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> _cur_node.right:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.right))</span><br><span class="line">        <span class="keyword">if</span> _cur_node.left:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.left))</span><br><span class="line">        _temp_stack.append((<span class="string">"print"</span>, _cur_node))</span><br><span class="line">    <span class="keyword">return</span> _result_arr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_inorder_traversal</span><span class="params">(root)</span>:</span></span><br><span class="line">    _result_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> _result_arr</span><br><span class="line">    _temp_stack = []</span><br><span class="line">    _temp_stack.append((<span class="string">"go"</span>, root))</span><br><span class="line">    <span class="keyword">while</span> _temp_stack:</span><br><span class="line">        _cmd, _cur_node = _temp_stack.pop(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> _cmd == <span class="string">"print"</span>:</span><br><span class="line">            _result_arr.append(_cur_node.val)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> _cur_node.right:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.right))</span><br><span class="line">        _temp_stack.append((<span class="string">"print"</span>, _cur_node))</span><br><span class="line">        <span class="keyword">if</span> _cur_node.left:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.left))</span><br><span class="line">    <span class="keyword">return</span> _result_arr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_postorder_traversal</span><span class="params">(root)</span>:</span></span><br><span class="line">    _result_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> _result_arr</span><br><span class="line">    _temp_stack = []</span><br><span class="line">    _temp_stack.append((<span class="string">"go"</span>, root))</span><br><span class="line">    <span class="keyword">while</span> _temp_stack:</span><br><span class="line">        _cmd, _cur_node = _temp_stack.pop(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> _cmd == <span class="string">"print"</span>:</span><br><span class="line">            _result_arr.append(_cur_node.val)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        _temp_stack.append((<span class="string">"print"</span>, _cur_node))</span><br><span class="line">        <span class="keyword">if</span> _cur_node.right:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.right))</span><br><span class="line">        <span class="keyword">if</span> _cur_node.left:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.left))</span><br><span class="line">    <span class="keyword">return</span> _result_arr</span><br></pre></td></tr></table></figure>
<h3 id="äºŒå‰æ ‘å±‚åºéå†"><a href="#äºŒå‰æ ‘å±‚åºéå†" class="headerlink" title="äºŒå‰æ ‘å±‚åºéå†"></a>äºŒå‰æ ‘å±‚åºéå†</h3><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/binary_tree/BreadthFirstTraverse1.png" alt></p>
<p>æ³¨æ„çœ‹ä¸Šå›¾ä¸­çš„æ–‡å­—æ€è·¯<br><figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(TreeNode* tn)</span></span>&#123;</span><br><span class="line">  <span class="keyword">auto</span> qu = <span class="built_in">std</span>::<span class="built_in">queue</span>&lt;TreeNode*&gt;();</span><br><span class="line">  qu.push(tn);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (!qu.empty())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">auto</span> front_elem = qu.front();</span><br><span class="line">    qu.pop();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; front_elem-&gt;val &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(front_elem-&gt;left)</span><br><span class="line">      qu.push(front_elem-&gt;left);</span><br><span class="line">    <span class="keyword">if</span> (front_elem-&gt;right)</span><br><span class="line">    &#123;</span><br><span class="line">      qu.push(front_elem-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸</p>
<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_levelorder_traversal</span><span class="params">(root)</span>:</span></span><br><span class="line">    _result_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> _result_arr</span><br><span class="line">    _temp_queue = []</span><br><span class="line">    _temp_queue.append(root)</span><br><span class="line">    <span class="keyword">while</span> _temp_queue:</span><br><span class="line">        _cur_node = _temp_queue.pop(<span class="number">0</span>)</span><br><span class="line">        _result_arr.append(_cur_node.val)</span><br><span class="line">        <span class="keyword">if</span> _cur_node.left:</span><br><span class="line">            _temp_queue.append(_cur_node.left)</span><br><span class="line">        <span class="keyword">if</span> _cur_node.right:</span><br><span class="line">            _temp_queue.append(_cur_node.right)</span><br><span class="line">    <span class="keyword">return</span> _result_arr</span><br></pre></td></tr></table></figure>
<h3 id="äºŒå‰æ ‘åè½¬"><a href="#äºŒå‰æ ‘åè½¬" class="headerlink" title="äºŒå‰æ ‘åè½¬"></a>äºŒå‰æ ‘åè½¬</h3><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœæŠŠäº¤æ¢å·¦å³å­èŠ‚ç‚¹çš„ä»£ç æ”¾åœ¨ååºéå†çš„ä½ç½®ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ”¾åœ¨ä¸­åºéå†çš„ä½ç½®æ˜¯ä¸è¡Œçš„ï¼Œè¯·ä½ æƒ³ä¸€æƒ³ä¸ºä»€ä¹ˆï¼Ÿ<br>å› ä¸ºä¸­åºéå†æ¢èŠ‚ç‚¹ æ ¹æ®å·¦æ ¹å³çš„éå†é¡ºåº ç›¸å½“äºå·¦ä¾§èŠ‚ç‚¹äº¤æ¢äº†ä¸¤æ¬¡ å³ä¾§èŠ‚ç‚¹æ²¡æ¢  å› ä¸ºéå†æ ¹çš„æ—¶å€™äº¤æ¢äº†å·¦å³èŠ‚ç‚¹ éå†å³ä¾§çš„æ—¶å€™è¿˜æ˜¯ä¹‹å‰é‚£ä¸ªå·¦èŠ‚ç‚¹, æ‰€ä»¥å³å­æ ‘æ²¡æœ‰è¢«ç¿»è½¬, ä»¥ä¸‹æ˜¯<strong>é€’å½’å†™æ³•</strong>:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_swap_recursive</span><span class="params">(root)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    root.left, root.right = root.right, root.left</span><br><span class="line">    binary_tree_swap(root.left)</span><br><span class="line">    binary_tree_swap(root.right)</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°äºŒå‰æ ‘åè½¬çš„é€’å½’å†™æ³•è·Ÿå‰åºéå†çš„é€’å½’å†™æ³•å¾ˆåƒ,<br>æ‰€ä»¥<strong>åè½¬çš„è¿­ä»£å†™æ³•</strong>ä¹Ÿå¯ä»¥å¯¹ç€å‰åºéå†çš„è¿­ä»£å†™æ³•å¦‚æ³•ç‚®åˆ¶:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_swap_iterative</span><span class="params">(root)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    _temp_stack = []</span><br><span class="line">    _temp_stack.append((<span class="string">"go"</span>, root))</span><br><span class="line">    <span class="keyword">while</span> _temp_stack:</span><br><span class="line">        _cmd, _cur_node = _temp_stack.pop(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> _cmd == <span class="string">"print"</span>:</span><br><span class="line">            <span class="comment"># å‚è€ƒå‰åºéå†çš„è¿­ä»£å†™æ³•, å°±åªæœ‰è¿™é‡Œæ”¹æˆäº†swapæ“ä½œ</span></span><br><span class="line">            _cur_node.left, _cur_node.right = _cur_node.right, _cur_node.left</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> _cur_node.right:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.right))</span><br><span class="line">        <span class="keyword">if</span> _cur_node.left:</span><br><span class="line">            _temp_stack.append((<span class="string">"go"</span>, _cur_node.left))</span><br><span class="line">        _temp_stack.append((<span class="string">"print"</span>, _cur_node))</span><br></pre></td></tr></table></figure></p>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>é“¾è¡¨çš„ä»£ç è¡¨ç¤º:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkList</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val)</span>:</span></span><br><span class="line">        self.next = <span class="keyword">None</span></span><br><span class="line">        self.val = val</span><br></pre></td></tr></table></figure></p>
<p>è™šå¤´ç»“ç‚¹çš„ä¼˜ç‚¹:</p>
<ul>
<li>è™šå¤´ç»“ç‚¹æ˜¯ä¸ºäº†æ“ä½œçš„ç»Ÿä¸€ä¸æ–¹ä¾¿è€Œè®¾ç«‹çš„ï¼Œæ”¾åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ç»“ç‚¹ä¹‹å‰ï¼Œå…¶æ•°æ®åŸŸä¸€èˆ¬æ— æ„ä¹‰ï¼ˆå½“ç„¶æœ‰äº›æƒ…å†µä¸‹ä¹Ÿå¯å­˜æ”¾é“¾è¡¨çš„é•¿åº¦ã€ç”¨åšç›‘è§†å“¨ç­‰ç­‰ï¼‰ã€‚</li>
<li>æœ‰äº†è™šå¤´ç»“ç‚¹åï¼Œå¯¹åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ç»“ç‚¹å‰æ’å…¥ç»“ç‚¹å’Œåˆ é™¤ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œå…¶æ“ä½œä¸å¯¹å…¶å®ƒç»“ç‚¹çš„æ“ä½œç»Ÿä¸€äº†ã€‚</li>
</ul>
<h3 id="å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯"><a href="#å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯" class="headerlink" title="å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯"></a>å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯</h3><ul>
<li>å¯ä»¥ä½¿ç”¨è™šå¤´ç»“ç‚¹æ¥å¤„ç†é—®é¢˜</li>
<li>é“¾è¡¨åè½¬</li>
<li>è™šå¤´èŠ‚ç‚¹æ–¹ä¾¿å¤„ç†é—®é¢˜çš„æ€æƒ³</li>
<li>åŒæŒ‡é’ˆæ€æƒ³, é€‚ç”¨äºä¸‹é¢è¿™ç§é¢˜:<ul>
<li>æ‰“å°å€’æ•°ç¬¬nä¸ªç»“ç‚¹: æ¯”å¦‚é“¾è¡¨é•¿åº¦ä¸º6, æ±‚æ‰“å°å€’æ•°ç¬¬3ä¸ªç»“ç‚¹, åˆ™æŒ‡é’ˆp1å…ˆèµ°, èµ°åˆ°4çš„æ—¶å€™, æŒ‡é’ˆp2æ‰å¼€å§‹èµ°, è¿™æ ·p1åˆ°å°¾ç»“ç‚¹çš„æ—¶å€™, p2åˆšå¥½å†å€’æ•°ç¬¬ä¸‰ä¸ªç»“ç‚¹ </li>
</ul>
</li>
<li>å¿«æ…¢æŒ‡é’ˆçš„æ€æƒ³: <ul>
<li>åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯</li>
<li>æ‰¾ä¸€ä¸ªå•é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</li>
</ul>
</li>
<li>åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤, å‡è®¾ä¸¤ä¸ªé“¾è¡¨å‡ä¸å¸¦ç¯<ul>
<li>æœ€åä¸€ä¸ªå…ƒç´ å¿…ç›¸åŒ</li>
</ul>
</li>
<li>ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹hå’Œç»“ç‚¹æŒ‡é’ˆp, æ€ä¹ˆåˆ é™¤è¯¥ç»“ç‚¹<ul>
<li>åˆ¤æ–­æ˜¯å¦åªæœ‰ä¸€ä¸ªç»“ç‚¹, å³åˆ¤æ–­<code>if h == p and not h.next</code></li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºæœ«å°¾ç»“ç‚¹, å³åˆ¤æ–­<code>if not p.next</code>, æ˜¯çš„è¯è¿˜æ˜¯å¾—ä»å¤´éå†æ‰¾åˆ°pçš„å‰ä¸€ä¸ªç»“ç‚¹</li>
<li>å¦‚æœéƒ½ä¸æ˜¯, åˆ™ç›´æ¥åˆ é™¤påé¢çš„èŠ‚ç‚¹b, å¹¶æŠŠbçš„å†…å®¹å¤åˆ¶åˆ°pä¸Šå³å¯</li>
</ul>
</li>
</ul>
<h3 id="é“¾è¡¨åè½¬"><a href="#é“¾è¡¨åè½¬" class="headerlink" title="é“¾è¡¨åè½¬"></a>é“¾è¡¨åè½¬</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/link_list_reverse.mp4" type="video/mp4"><br></video>

<p>æ€è·¯:</p>
<ol>
<li>å…ˆè®¾ç½®ä¸€ä¸ªè™šå¤´èŠ‚ç‚¹ <code>pre</code>, </li>
<li>å…ˆæš‚å­˜å¥½curçš„nextä¸º<code>temp_next</code></li>
<li>ç„¶åå¼€å§‹ç”¨<code>cur</code>å»è¿æ¥ä»–å³<code>cur.next = pre</code>, </li>
<li>æŠŠæš‚å­˜å¥½çš„ <code>temp_next</code> èµ‹å€¼ç»™ <code>cur</code>, ç»§ç»­ä¸‹ä¸€è½® <code>while cur:</code> å¾ªç¯</li>
</ol>
<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LinkedList</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">shared_ptr</span>&lt;LinkedList&gt; llp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkedList</span>&#123;</span></span><br><span class="line">  LinkedList(<span class="keyword">char</span> _val): val(_val), next(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">char</span> val;</span><br><span class="line">  llp next;</span><br><span class="line">&#125; ll;</span><br><span class="line"></span><br><span class="line"><span class="function">llp <span class="title">reverse_linked_list</span><span class="params">(llp test_ll)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(test_ll == <span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">return</span> test_ll;</span><br><span class="line"></span><br><span class="line">  llp head = <span class="literal">nullptr</span>;</span><br><span class="line">  <span class="keyword">auto</span> cur = test_ll;</span><br><span class="line">  <span class="keyword">while</span>(cur)&#123;</span><br><span class="line">    <span class="keyword">auto</span> temp_next = cur-&gt;next;</span><br><span class="line">    cur-&gt;next = head;</span><br><span class="line">    head = cur;</span><br><span class="line">    cur = temp_next;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸</p>
<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linklist_reverse</span><span class="params">(head)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    _pre = <span class="keyword">None</span></span><br><span class="line">    _cur = head</span><br><span class="line">    _temp_next = head.next</span><br><span class="line">    <span class="keyword">while</span> _cur:</span><br><span class="line">        <span class="comment">#å…ˆç”¨_temp_nextä¿å­˜_curçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œ</span></span><br><span class="line">        <span class="comment">#ä¿è¯å•é“¾è¡¨ä¸ä¼šå› ä¸ºå¤±å»_curèŠ‚ç‚¹çš„nextè€Œå°±æ­¤æ–­è£‚</span></span><br><span class="line">        _temp_next = _cur.next</span><br><span class="line">        <span class="comment">#ä¿å­˜å®Œ_temp_nextï¼Œå°±å¯ä»¥è®©_curçš„nextæŒ‡å‘_preäº†</span></span><br><span class="line">        _cur.next = _pre</span><br><span class="line">        <span class="comment">#è®©_preï¼Œ_curä¾æ¬¡å‘åç§»åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡çš„æŒ‡é’ˆåè½¬</span></span><br><span class="line">        _pre = _cur</span><br><span class="line">        _cur = _temp_next</span><br><span class="line">    <span class="keyword">return</span> _pre</span><br></pre></td></tr></table></figure>
<h2 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h2><ul>
<li>å¹¿åº¦ä¼˜å…ˆéå†dfså¯ä»¥å¾—åˆ°æœ€çŸ­è·¯å¾„</li>
<li>æ·±åº¦ä¼˜å…ˆéå†bfsæœ‰å•¥ç”¨? <a href="#å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs">å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs</a></li>
</ul>
<h3 id="å›¾çš„è¡¨ç¤º"><a href="#å›¾çš„è¡¨ç¤º" class="headerlink" title="å›¾çš„è¡¨ç¤º"></a>å›¾çš„è¡¨ç¤º</h3><p>ä¸‹é¢è¿™ä¸ªå›¾ç»“æ„å°±æœ‰ä¸‰ä¸ªè¿é€šåˆ†é‡:<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/graph_connected_component.png" alt></p>
<p>é‚»æ¥è¡¨é€‚åˆè¡¨ç¤ºç¨€ç–å›¾(Sparse Graph):<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/graph3.png" alt title="é‚»æ¥è¡¨è¡¨ç¤ºæ— å‘å›¾"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/graph4.png" alt title="é‚»æ¥è¡¨è¡¨ç¤ºæœ‰å‘å›¾"></p>
<p>é‚»æ¥çŸ©é˜µé€‚åˆè¡¨ç¤ºç¨ å¯†å›¾(Dense Graph):<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/graph1.png" alt title="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ— å‘å›¾"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/graph2.png" alt title="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæœ‰å‘å›¾"></p>
<h3 id="å›¾çš„ä»£ç å®ç°"><a href="#å›¾çš„ä»£ç å®ç°" class="headerlink" title="å›¾çš„ä»£ç å®ç°"></a>å›¾çš„ä»£ç å®ç°</h3><p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GraphBase</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># å›¾çš„åŸºç±»</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, point_count, is_directed)</span>:</span></span><br><span class="line">        <span class="comment"># å› ä¸ºç¨€ç–å›¾ä¸€èˆ¬ç”¨é‚»æ¥è¡¨æ¥ä¿å­˜å›¾çš„é¡¶ç‚¹æ•°æ®,</span></span><br><span class="line">        <span class="comment"># è€Œç¨ å¯†å›¾ä¸€èˆ¬ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤º, æ‰€ä»¥ä»–ä»¬çš„ä¿å­˜é‚»æ¥ç‚¹å®¹å™¨æ˜¯ä¸åŒçš„,</span></span><br><span class="line">        <span class="comment"># ç•™ç»™å…·ä½“å­ç±»æ¥æŒ‡å®š, æ­¤å¤„ç”¨ `self.adjacency_container = None`è¡¨ç¤ºå³å¯</span></span><br><span class="line">        self.adjacency_container = <span class="keyword">None</span></span><br><span class="line">        self.is_directed = is_directed  <span class="comment"># æ˜¯å¦ä¸ºæœ‰å‘å›¾</span></span><br><span class="line">        self.connected_components_count = <span class="number">0</span>  <span class="comment"># è¿é€šåˆ†é‡ä¸ªæ•°</span></span><br><span class="line">        self.point_count = point_count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">graph_dfs</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å›¾çš„æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰, æ·±åº¦ä¼˜å…ˆéå†å°½å¯èƒ½ä¼˜å…ˆå¾€æ·±å±‚æ¬¡è¿›è¡Œæœç´¢ï¼›</span></span><br><span class="line"><span class="string">        1. é¦–å…ˆè®¿é—®å‡ºå‘ç‚¹vï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºå·²è®¿é—®è¿‡ï¼›</span></span><br><span class="line"><span class="string">        2. ç„¶åä¾æ¬¡ä»vå‡ºå‘æœç´¢vçš„æ¯ä¸ªé‚»æ¥ç‚¹wã€‚è‹¥wæœªæ›¾è®¿é—®è¿‡ï¼Œåˆ™ä»¥wä¸ºæ–°çš„å‡ºå‘ç‚¹ç»§ç»­è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å’Œæºç‚¹væœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</span></span><br><span class="line"><span class="string">        3. è‹¥æ­¤æ—¶å›¾ä¸­ä»æœ‰æœªè®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰ä¸€ä¸ªå°šæœªè®¿é—®çš„é¡¶ç‚¹ä¸ºæ–°çš„æºç‚¹é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        visited_arr = []</span><br><span class="line">        <span class="keyword">for</span> _cur_point_index <span class="keyword">in</span> xrange(<span class="number">0</span>, len(self.adjacency_container)):</span><br><span class="line">            <span class="keyword">if</span> _cur_point_index <span class="keyword">not</span> <span class="keyword">in</span> visited_arr:</span><br><span class="line">                self._dfs_by_point(_cur_point_index, visited_arr)</span><br><span class="line">                <span class="comment"># è¿è¡Œåˆ°æ­¤å¤„, è¯´æ˜å·²ç»æŠŠæ‰€æœ‰å’Œ_cur_point_index ç›¸è¿æ¥çš„ç‚¹éƒ½éå†å®Œäº†,</span></span><br><span class="line">                <span class="comment"># A-B-C ä¹Ÿç®—ä½œ Aå’ŒCç›¸è¿æ¥çš„,</span></span><br><span class="line">                <span class="comment"># å…¶ä»–çš„ç‚¹è‚¯å®šåœ¨å¦ä¸€ä¸ªè¿æ¥åˆ†é‡ä¸­</span></span><br><span class="line">                self.connected_components_count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> visited_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_dfs_by_point</span><span class="params">(self, cur_point_index, visited_arr)</span>:</span></span><br><span class="line">        visited_arr.append(cur_point_index)</span><br><span class="line">        <span class="keyword">for</span> _next_point_index <span class="keyword">in</span> self._iter_adjacent_points(cur_point_index):</span><br><span class="line">            <span class="keyword">if</span> _next_point_index <span class="keyword">not</span> <span class="keyword">in</span> visited_arr:</span><br><span class="line">                self._dfs_by_point(_next_point_index, visited_arr)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">graph_bfs</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†, ä¹Ÿå¯ä»¥ç§°ä¸ºå›¾çš„å±‚åºéå†, å¹¿åº¦ä¼˜å…ˆéå†æŒ‰å±‚æ¬¡ä¼˜å…ˆæœç´¢æœ€è¿‘çš„ç»“ç‚¹ï¼Œä¸€å±‚ä¸€å±‚å¾€å¤–æœç´¢:</span></span><br><span class="line"><span class="string">        1. é¦–å…ˆè®¿é—®å‡ºå‘ç‚¹vï¼Œæ¥ç€ä¾æ¬¡è®¿é—®vçš„æ‰€æœ‰é‚»æ¥ç‚¹w1ã€w2......wtï¼Œ</span></span><br><span class="line"><span class="string">        2. ç„¶åä¾æ¬¡è®¿é—®w1ã€w2......wté‚»æ¥çš„æ‰€æœ‰æœªæ›¾è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚</span></span><br><span class="line"><span class="string">        3. ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å’Œæºç‚¹væœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½å·²è®¿é—®åˆ°ä¸ºæ­¢ã€‚æ­¤æ—¶ä»vå¼€å§‹çš„æœç´¢è¿‡ç¨‹ç»“æŸã€‚</span></span><br><span class="line"><span class="string">        4. è‹¥æ­¤æ—¶å›¾ä¸­ä»æœ‰æœªè®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰ä¸€ä¸ªå°šæœªè®¿é—®çš„é¡¶ç‚¹ä¸ºæ–°çš„æºç‚¹é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result_arr = []</span><br><span class="line">        visited_set = set()  <span class="comment"># ç”¨æ¥è®°å½•æŸä¸ªé¡¶ç‚¹æ˜¯å¦å·²ç»è®¿é—®è¿‡</span></span><br><span class="line">        _temp_queue = []</span><br><span class="line">        <span class="keyword">for</span> _cur_point_index <span class="keyword">in</span> xrange(<span class="number">0</span>, len(self.adjacency_container)):</span><br><span class="line">            <span class="keyword">if</span> _cur_point_index <span class="keyword">not</span> <span class="keyword">in</span> visited_set:</span><br><span class="line">                _temp_queue.append(_cur_point_index)</span><br><span class="line">                visited_set.add(_cur_point_index)</span><br><span class="line">            <span class="keyword">while</span> _temp_queue:</span><br><span class="line">                _pt = _temp_queue.pop(<span class="number">0</span>)</span><br><span class="line">                result_arr.append(_pt)</span><br><span class="line">                <span class="keyword">for</span> _next_pt_index <span class="keyword">in</span> self._iter_adjacent_points(_pt):</span><br><span class="line">                    <span class="keyword">if</span> _next_pt_index <span class="keyword">not</span> <span class="keyword">in</span> visited_set:</span><br><span class="line">                        _temp_queue.append(_next_pt_index)</span><br><span class="line">                        visited_set.add(_next_pt_index)</span><br><span class="line">        <span class="keyword">return</span> result_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_iter_adjacent_points</span><span class="params">(self, cur_point_index)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å› ä¸ºç¨€ç–å›¾ä¸€èˆ¬ç”¨é‚»æ¥è¡¨æ¥ä¿å­˜å›¾çš„é¡¶ç‚¹æ•°æ®,</span></span><br><span class="line"><span class="string">        è€Œç¨ å¯†å›¾ä¸€èˆ¬ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤º,</span></span><br><span class="line"><span class="string">        æ‰€ä»¥ä»–ä»¬çš„éå†é‚»æ¥ç‚¹çš„æ–¹å¼æ˜¯ä¸åŒçš„, ç•™ç»™å…·ä½“çš„å­ç±»æ¥å®ç°.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_edge</span><span class="params">(self, start_point_index, end_point_index)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SparseGraph</span><span class="params">(GraphBase)</span>:</span></span><br><span class="line">    <span class="comment"># ç¨€ç–å›¾</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, point_count, is_directed)</span>:</span></span><br><span class="line">        super(SparseGraph, self).__init__(point_count, is_directed)</span><br><span class="line">        self.adjacency_container = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(point_count)]  <span class="comment"># é‚»æ¥è¡¨</span></span><br><span class="line">        self.indegree_list = [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(point_count) ]  <span class="comment"># æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦, åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_adjacency_list</span><span class="params">(self, adjacency_list)</span>:</span></span><br><span class="line">        self.adjacency_container = adjacency_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_iter_adjacent_points</span><span class="params">(self, cur_point_index)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> _adjacent_point_index <span class="keyword">in</span> self.adjacency_container[cur_point_index]:</span><br><span class="line">            <span class="keyword">yield</span> _adjacent_point_index</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_edge</span><span class="params">(self, start_point_index, end_point_index)</span>:</span></span><br><span class="line">        self.adjacency_container[start_point_index].append(end_point_index)</span><br><span class="line">        self.indegree_list[end_point_index] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.is_directed:</span><br><span class="line">            self.adjacency_container[end_point_index].append(start_point_index)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topologic_sort</span><span class="params">(self)</span>:</span></span><br><span class="line">        result_arr = []</span><br><span class="line">        zero_indegree_list = []</span><br><span class="line">        <span class="keyword">for</span> point_index, cur_indegree <span class="keyword">in</span> enumerate(self.indegree_list):</span><br><span class="line">            <span class="keyword">if</span> cur_indegree == <span class="number">0</span>:</span><br><span class="line">                zero_indegree_list.append(point_index)  <span class="comment"># å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹åŠ å…¥åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">while</span> zero_indegree_list:</span><br><span class="line">            cur_point_index = zero_indegree_list.pop()  <span class="comment"># ä»åˆ—è¡¨ä¸­å–å‡ºä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">            result_arr.append(cur_point_index)</span><br><span class="line">            <span class="comment"># å°†æ‰€æœ‰væŒ‡å‘çš„é¡¶ç‚¹çš„å…¥åº¦å‡1ï¼Œå¹¶å°†å…¥åº¦å‡ä¸º0çš„é¡¶ç‚¹åŠ å…¥åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> self.adjacency_container[cur_point_index]:</span><br><span class="line">                self.indegree_list[j] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> self.indegree_list[j] == <span class="number">0</span>:</span><br><span class="line">                    zero_indegree_list.append(j)  <span class="comment"># è‹¥å…¥åº¦ä¸º0ï¼Œåˆ™åŠ å…¥åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">if</span> len(result_arr) != self.point_count:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span>, result_arr  <span class="comment"># æ²¡æœ‰è¾“å‡ºå…¨éƒ¨é¡¶ç‚¹ï¼Œè¯´æ˜æœ‰å‘å›¾ä¸­æœ‰å›è·¯</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span>, result_arr</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DenseGraph</span><span class="params">(GraphBase)</span>:</span></span><br><span class="line">    <span class="comment"># ç¨ å¯†å›¾</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, point_count, is_directed)</span>:</span></span><br><span class="line">        super(DenseGraph, self).__init__(point_count, is_directed)</span><br><span class="line">        self.adjacency_container = [</span><br><span class="line">            [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(point_count)] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(point_count)</span><br><span class="line">        ]  <span class="comment"># é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_adjacency_matrix</span><span class="params">(self, adjacency_matrix)</span>:</span></span><br><span class="line">        self.adjacency_container = adjacency_matrix</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_iter_adjacent_points</span><span class="params">(self, cur_point_index)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> _adjacent_point_index, _is_point_adjacent <span class="keyword">in</span> enumerate(self.adjacency_container[cur_point_index]):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> _is_point_adjacent:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">yield</span> _adjacent_point_index</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_edge</span><span class="params">(self, start_point_index, end_point_index)</span>:</span></span><br><span class="line">        self.adjacency_container[start_point_index][end_point_index] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.is_directed:</span><br><span class="line">            self.adjacency_container[end_point_index][start_point_index] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topologic_sort</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span>  <span class="comment"># TODO</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    temp_adjacency_list = [</span><br><span class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">        [<span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">4</span>],</span><br><span class="line">    ]</span><br><span class="line">    test_sparse_graph = SparseGraph(point_count=len(temp_adjacency_list), is_directed=<span class="keyword">False</span>)</span><br><span class="line">    test_sparse_graph.set_adjacency_list(temp_adjacency_list)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"test_sparse_graph graph dfs:"</span></span><br><span class="line">    <span class="keyword">print</span> test_sparse_graph.graph_dfs()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"test_sparse_graph graph bfs:"</span></span><br><span class="line">    <span class="keyword">print</span> test_sparse_graph.graph_bfs()</span><br><span class="line">    test_sparse_graph = SparseGraph(point_count=<span class="number">6</span>, is_directed=<span class="keyword">True</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">5</span>, <span class="number">2</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">4</span>, <span class="number">0</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">4</span>, <span class="number">1</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    test_sparse_graph.add_edge(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"test_sparse_graph topologic_sort: --------------"</span></span><br><span class="line">    <span class="keyword">print</span> test_sparse_graph.topologic_sort()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿™ä¸ªé‚»æ¥çŸ©é˜µè¡¨ç¤ºçš„å’Œä¸Šé¢é‚£ä¸ªé‚»æ¥è¡¨ temp_adjacency_list æ˜¯åŒä¸€ä¸ªå›¾</span></span><br><span class="line">    temp_adjacency_matrix = [</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">    ]</span><br><span class="line">    test_dense_graph = DenseGraph(point_count=len(temp_adjacency_matrix), is_directed=<span class="keyword">False</span>)</span><br><span class="line">    test_dense_graph.set_adjacency_matrix(temp_adjacency_matrix)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"test_dense_graph graph dfs:"</span></span><br><span class="line">    <span class="keyword">print</span> test_dense_graph.graph_dfs()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"test_dense_graph graph bfs:"</span></span><br><span class="line">    <span class="keyword">print</span> test_dense_graph.graph_bfs()</span><br></pre></td></tr></table></figure></p>
<p>æ‰“å°ç»“æœ:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test_sparse_graph graph dfs:</span><br><span class="line">[0, 1, 2, 5, 3, 4, 6]</span><br><span class="line">test_sparse_graph graph bfs:</span><br><span class="line">[0, 1, 2, 5, 6, 3, 4]</span><br><span class="line">test_sparse_graph topologic_sort: --------------</span><br><span class="line">(True, [4, 5, 2, 0, 3, 1])</span><br><span class="line">test_dense_graph graph dfs:</span><br><span class="line">[0, 1, 2, 5, 3, 4, 6]</span><br><span class="line">test_dense_graph graph bfs:</span><br><span class="line">[0, 1, 2, 5, 6, 3, 4]</span><br></pre></td></tr></table></figure></p>
<h3 id="å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs"><a href="#å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs" class="headerlink" title="å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs"></a>å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/graph/graph_dfs.mp4" type="video/mp4"><br></video>

<p>å›¾çš„æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰, æ·±åº¦ä¼˜å…ˆéå†å°½å¯èƒ½ä¼˜å…ˆå¾€æ·±å±‚æ¬¡è¿›è¡Œæœç´¢ï¼›</p>
<ol>
<li>é¦–å…ˆè®¿é—®å‡ºå‘ç‚¹vï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºå·²è®¿é—®è¿‡ï¼›</li>
<li>ç„¶åä¾æ¬¡ä»vå‡ºå‘æœç´¢vçš„æ¯ä¸ªé‚»æ¥ç‚¹wã€‚è‹¥wæœªæ›¾è®¿é—®è¿‡ï¼Œåˆ™ä»¥wä¸ºæ–°çš„å‡ºå‘ç‚¹ç»§ç»­è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å’Œæºç‚¹væœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</li>
<li>è‹¥æ­¤æ—¶å›¾ä¸­ä»æœ‰æœªè®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰ä¸€ä¸ªå°šæœªè®¿é—®çš„é¡¶ç‚¹ä¸ºæ–°çš„æºç‚¹é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</li>
</ol>
<p><a href="#å›¾çš„ä»£ç å®ç°">ä»£ç </a>åœ¨ä¸Šæ–¹å·²ç»æœ‰äº†, å…¶ä»£ç ä¸­çš„ <code>graph_dfs</code> å°±æ˜¯.</p>
<p><strong>å›¾dfsç”¨é€”</strong>: </p>
<ul>
<li>å¯ä»¥è·å¾—ä¸¤ç‚¹ä¹‹é—´çš„ä¸€æ¡è·¯å¾„</li>
<li>åˆ¤æ–­å›¾æ˜¯å¦æœ‰ç¯: pending_fini<ul>
<li><a href="https://leetcode-cn.com/problems/course-schedule/solution/course-schedule-tuo-bu-pai-xu-bfsdfsliang-chong-fa/" target="_blank" rel="noopener">leetcodeåŸé¢˜201ä¸é¢˜è§£</a></li>
<li>å¤§è‡´ç®—æ³•æ€æƒ³: ä¸€æ¡æ·±åº¦éå†è·¯çº¿ä¸­å¦‚æœæœ‰ç»“ç‚¹è¢«ç¬¬äºŒæ¬¡è®¿é—®åˆ°ï¼Œé‚£ä¹ˆæœ‰ç¯ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡æ¥æ ‡è®°æŸç»“ç‚¹çš„è®¿é—®çŠ¶æ€ï¼ˆæœªè®¿é—®ï¼Œè®¿é—®è¿‡ï¼Œå…¶åç»“ç‚¹éƒ½è¢«è®¿é—®è¿‡ï¼‰ï¼Œç„¶ååˆ¤æ–­æ¯ä¸€ä¸ªç»“ç‚¹çš„æ·±åº¦éå†è·¯çº¿å³å¯ã€‚</li>
</ul>
</li>
</ul>
<h3 id="å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs"><a href="#å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs" class="headerlink" title="å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs"></a>å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/graph/graph_bfs.mp4" type="video/mp4"><br></video>

<p>ä¹Ÿå¯ä»¥ç§°ä¸ºå±‚åºéå†, å¹¿åº¦ä¼˜å…ˆéå†æŒ‰å±‚æ¬¡ä¼˜å…ˆæœç´¢æœ€è¿‘çš„ç»“ç‚¹ï¼Œä¸€å±‚ä¸€å±‚å¾€å¤–æœç´¢:</p>
<ol>
<li>é¦–å…ˆè®¿é—®å‡ºå‘ç‚¹vï¼Œæ¥ç€ä¾æ¬¡è®¿é—®vçš„æ‰€æœ‰é‚»æ¥ç‚¹w1ã€w2â€¦â€¦wtï¼Œ</li>
<li>ç„¶åä¾æ¬¡è®¿é—®w1ã€w2â€¦â€¦wté‚»æ¥çš„æ‰€æœ‰æœªæ›¾è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚</li>
<li>ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å’Œæºç‚¹væœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½å·²è®¿é—®åˆ°ä¸ºæ­¢ã€‚æ­¤æ—¶ä»vå¼€å§‹çš„æœç´¢è¿‡ç¨‹ç»“æŸã€‚</li>
<li>è‹¥æ­¤æ—¶å›¾ä¸­ä»æœ‰æœªè®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰ä¸€ä¸ªå°šæœªè®¿é—®çš„é¡¶ç‚¹ä¸ºæ–°çš„æºç‚¹é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹å‡å·²è¢«è®¿é—®ä¸ºæ­¢ã€‚</li>
</ol>
<p><strong>å›¾çš„bfsä¸€èˆ¬è¦ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥å®ç°</strong>, <a href="#å›¾çš„ä»£ç å®ç°">ä»£ç </a>åœ¨ä¸Šæ–¹å·²ç»æœ‰äº†, å…¶ä»£ç ä¸­çš„ <code>graph_bfs</code> å°±æ˜¯.</p>
<p><strong>å›¾bfsç”¨é€”</strong>: </p>
<ul>
<li>å¯ä»¥è·å¾—ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„</li>
</ul>
<h3 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h3><p><a href="https://www.jianshu.com/p/b59db381561a" target="_blank" rel="noopener">å‚è€ƒ</a><br><strong>æ‹“æ‰‘æ’åºé€šå¸¸ç”¨æ¥ â€œæ’åºâ€ å…·æœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡.</strong><br>æ¯”å¦‚ï¼Œå¦‚æœç”¨ä¸€ä¸ª DAG å›¾æ¥è¡¨ç¤ºä¸€ä¸ªå·¥ç¨‹ï¼Œå…¶ä¸­æ¯ä¸ªé¡¶ç‚¹è¡¨ç¤ºå·¥ç¨‹ä¸­çš„ä¸€ä¸ªä»»åŠ¡ï¼Œç”¨æœ‰å‘è¾¹ è¡¨ç¤ºåœ¨åšä»»åŠ¡ B ä¹‹å‰å¿…é¡»å…ˆå®Œæˆä»»åŠ¡ Aã€‚æ•…åœ¨è¿™ä¸ªå·¥ç¨‹ä¸­ï¼Œä»»æ„ä¸¤ä¸ªä»»åŠ¡è¦ä¹ˆå…·æœ‰ç¡®å®šçš„å…ˆåå…³ç³»ï¼Œè¦ä¹ˆæ˜¯æ²¡æœ‰å…³ç³»ï¼Œç»å¯¹ä¸å­˜åœ¨äº’ç›¸çŸ›ç›¾çš„å…³ç³»ï¼ˆå³ç¯è·¯ï¼‰ã€‚</p>
<p>åœ¨å›¾è®ºä¸­ï¼Œ<strong>æ‹“æ‰‘æ’åºï¼ˆTopological Sorting</strong>ï¼‰æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAG, Directed Acyclic Graphï¼‰çš„æ‰€æœ‰é¡¶ç‚¹çš„çº¿æ€§åºåˆ—ã€‚ä¸”è¯¥åºåˆ—å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š  </p>
<ul>
<li>æ¯ä¸ªé¡¶ç‚¹å‡ºç°ä¸”åªå‡ºç°ä¸€æ¬¡ã€‚</li>
<li>è‹¥å­˜åœ¨ä¸€æ¡ä»é¡¶ç‚¹ A åˆ°é¡¶ç‚¹ B çš„è·¯å¾„ï¼Œé‚£ä¹ˆåœ¨åºåˆ—ä¸­é¡¶ç‚¹ A å‡ºç°åœ¨é¡¶ç‚¹ B çš„å‰é¢ã€‚</li>
</ul>
<p><strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰æ‰æœ‰æ‹“æ‰‘æ’åºï¼Œé DAG å›¾æ²¡æœ‰æ‹“æ‰‘æ’åºä¸€è¯´</strong>ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªå›¾ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/topological_sorting_1.jpg" alt></p>
<p>å®ƒæ˜¯ä¸€ä¸ª DAG å›¾ï¼Œé‚£ä¹ˆå¦‚ä½•å†™å‡ºå®ƒçš„æ‹“æ‰‘æ’åºå‘¢ï¼Ÿè¿™é‡Œè¯´ä¸€ç§æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ï¼š  </p>
<ol>
<li>ä» DAG å›¾ä¸­é€‰æ‹©ä¸€ä¸ª æ²¡æœ‰å‰é©±ï¼ˆå³å…¥åº¦ä¸º 0ï¼‰çš„é¡¶ç‚¹å¹¶è¾“å‡ºã€‚</li>
<li>ä»å›¾ä¸­åˆ é™¤è¯¥é¡¶ç‚¹å’Œæ‰€æœ‰ä»¥å®ƒä¸ºèµ·ç‚¹çš„æœ‰å‘è¾¹ã€‚</li>
<li>é‡å¤ 1 å’Œ 2 ç›´åˆ°å½“å‰çš„ DAG å›¾ä¸ºç©ºæˆ–å½“å‰å›¾ä¸­ä¸å­˜åœ¨æ— å‰é©±çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚åä¸€ç§æƒ…å†µè¯´æ˜æœ‰å‘å›¾ä¸­å¿…ç„¶å­˜åœ¨ç¯ã€‚</li>
</ol>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/topological_sorting_2.jpg" alt></p>
<p>äºæ˜¯ï¼Œå¾—åˆ°æ‹“æ‰‘æ’åºåçš„ç»“æœæ˜¯ {1, 2, 4, 3, 5}ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæœ‰å‘æ— ç¯å›¾å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ‹“æ‰‘æ’åºåºåˆ—ã€‚</p>
<p>æ ¹æ®ä¸Šé¢è®²çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å…³é”®æ˜¯è¦ç»´æŠ¤ä¸€ä¸ªå…¥åº¦ä¸º 0 çš„é¡¶ç‚¹çš„åˆ—è¡¨. <strong>ä»£ç å®ç°æ€è·¯å¦‚ä¸‹</strong>:    </p>
<ol>
<li>æ¯æ¬¡åœ¨å…¥åº¦ä¸º0çš„åˆ—è¡¨ä¸­å–é¡¶ç‚¹, å–å‡ºä¸€ä¸ªé¡¶ç‚¹v, ä¾¿è¾“å‡ºv</li>
<li>ç„¶åå°†æ‰€æœ‰væŒ‡å‘çš„é¡¶ç‚¹çš„å…¥åº¦å‡1ï¼Œå¹¶å°†å…¥åº¦å‡ä¸º0çš„é¡¶ç‚¹åŠ å…¥åˆ—è¡¨</li>
<li>é‡å¤æ­¥éª¤1å’Œ2</li>
<li>å¦‚æœæœ€ç»ˆè¾“å‡ºçš„é¡¶ç‚¹æ•°é‡å°äºæ€»é¡¶ç‚¹æ•°é‡, è¯´æ˜æœ‰ç¯</li>
</ol>
<p>å–é¡¶ç‚¹çš„é¡ºåºä¸åŒä¼šå¾—åˆ°ä¸åŒçš„æ‹“æ‰‘æ’åºåºåˆ—ï¼Œå½“ç„¶å‰ææ˜¯è¯¥å›¾å­˜åœ¨å¤šä¸ªæ‹“æ‰‘æ’åºåºåˆ—ã€‚<a href="#å›¾çš„ä»£ç å®ç°">ä»£ç </a>åœ¨ä¸Šé¢æœ‰äº†, å…¶ä¸­çš„<code>topologic_sort</code>ä¾¿æ˜¯, æˆ‘ä»¬å°è¯•ç”¨æ­¤ä»£ç æ¥æµ‹è¯•äº†å¦‚ä¸‹DAGå›¾ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/graph/topological_sorting_3.jpg" alt></p>
<p>è¾“å‡ºç»“æœæ˜¯ <code>4, 5, 2, 0, 3, 1</code>ã€‚è¿™æ˜¯è¯¥å›¾çš„æ‹“æ‰‘æ’åºåºåˆ—ä¹‹ä¸€ã€‚</p>
<h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h2><p><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/solution/" target="_blank" rel="noopener">å‚è€ƒ</a>  </p>
<p>å®šä¹‰ï¼šæ ˆå†…å…ƒç´ ä¿æŒæœ‰åºçš„çŠ¶æ€çš„æ ˆç§°ä¸ºå•è°ƒæ ˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/monotone_stack/mono_stack_1.png" alt></p>
<p><strong>å•è°ƒæ ˆä¸»è¦åº”ç”¨</strong>ï¼šåœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œå¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°æŸä¸ªå…ƒç´ çš„å·¦ä¾§æˆ–å³ä¾§ç¬¬ä¸€ä¸ªå¤§äºæˆ–å°äºè¯¥å…ƒç´ çš„æ•°ã€‚</p>
<p>è€Œæ‰€è°“ å•è°ƒæ ˆ åˆ™æ˜¯åœ¨æ ˆçš„ å…ˆè¿›åå‡º åŸºç¡€ä¹‹ä¸Šé¢å¤–æ·»åŠ ä¸€ä¸ªç‰¹æ€§ï¼šä»æ ˆé¡¶åˆ°æ ˆåº•çš„å…ƒç´ æ˜¯ä¸¥æ ¼é€’å¢ï¼ˆoré€’å‡ï¼‰ã€‚å…·ä½“è¿›æ ˆè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¯¹äºå•è°ƒé€’å‡æ ˆï¼Œè‹¥å½“å‰è¿›æ ˆå…ƒç´ ä¸º eï¼Œä»æ ˆé¡¶å¼€å§‹éå†å…ƒç´ ï¼ŒæŠŠå°äº e æˆ–è€…ç­‰äº e çš„å…ƒç´ å¼¹å‡ºæ ˆï¼Œç›´æ¥é‡åˆ°ä¸€ä¸ªå¤§äº e çš„å…ƒç´ æˆ–è€…æ ˆä¸ºç©ºä¸ºæ­¢ï¼Œç„¶åå†æŠŠ e å‹å…¥æ ˆä¸­ã€‚</li>
<li>å¯¹äºå•è°ƒé€’å¢æ ˆï¼Œåˆ™æ¯æ¬¡å¼¹å‡ºçš„æ˜¯å¤§äº e æˆ–è€…ç­‰äº e çš„å…ƒç´ ã€‚</li>
</ul>
<p>ä»¥ å•è°ƒé€’å‡æ ˆ ä¸ºä¾‹è¿›è¡Œè¯´æ˜, ç°åœ¨æœ‰ä¸€ç»„æ•° <code>3ï¼Œ4ï¼Œ2ï¼Œ6ï¼Œ4ï¼Œ5ï¼Œ2ï¼Œ3</code>, è®©å®ƒä»¬ä»å·¦åˆ°å³ä¾æ¬¡å…¥æ ˆã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ç¬¬iæ­¥</th>
<th>æ“ä½œ</th>
<th>ç»“æœ(æ ˆåº•-&gt;æ ˆé¡¶)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3è¿›</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>3å‡º, 4è¿›</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>2è¿›</td>
<td>4 2</td>
</tr>
<tr>
<td>4</td>
<td>4 2å‡º, 6è¿›</td>
<td>6</td>
</tr>
<tr>
<td>5</td>
<td>4è¿›</td>
<td>6 4</td>
</tr>
<tr>
<td>6</td>
<td>4å‡º, 5è¿›</td>
<td>6 5</td>
</tr>
<tr>
<td>7</td>
<td>2è¿›</td>
<td>6 5 2</td>
</tr>
<tr>
<td>8</td>
<td>2å‡º, 3è¿›</td>
<td>6 5 3</td>
</tr>
</tbody>
</table>
<h3 id="é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜"><a href="#é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜" class="headerlink" title="é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜"></a>é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜</h3><p>ç°æœ‰ä¸€æ¡æ’å¥½çš„é˜Ÿä¼ï¼Œä»é˜Ÿé¦–åˆ°é˜Ÿå°¾ï¼Œé˜Ÿå‘˜ä»¬éƒ½æˆ´ç€å¸½å­ï¼Œèº«é«˜æ˜¯æ— åºçš„ã€‚å‡è®¾æ¯ä¸ªäººèƒ½çœ‹åˆ°é˜Ÿä¼ä¸­åœ¨ä»–å‰é¢çš„æ¯”ä»–ä¸ªå­çŸ®çš„äººçš„å¸½å­ï¼Œï¼ˆå¦‚æœå‡ºç°ä¸€ä¸ªæ¯”è¿™ä¸ªäººä¸ªå­é«˜çš„äººæŒ¡ä½è§†çº¿ï¼Œé‚£ä¹ˆæ­¤äººä¸èƒ½çœ‹åˆ°é«˜ä¸ªå­å‰é¢çš„ä»»ä½•äººçš„å¸½å­ã€‚ï¼‰ç°åœ¨è¯·è®¡ç®—å‡ºè¿™ä¸ªé˜Ÿä¼ä¸­ä¸€å…±å¯ä»¥çœ‹åˆ°å¤šå°‘ä¸ªå¸½å­ï¼Ÿä¾‹å¦‚ç»™å®šæ•°ç»„ä¸ºï¼š<code>[2,1,5,6,2,3]</code>ï¼ˆé¡ºåºä¸ºä»é˜Ÿå°¾åˆ°é˜Ÿé¦–ï¼‰ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/monotone_stack/mono_stack_2.png" alt></p>
<p>å¦‚å›¾ç¤ºï¼Œç­”æ¡ˆä¸º3ã€‚ä»æš´åŠ›è§’åº¦å°è¯•å»è§£è¿™é“é¢˜ï¼Œæ˜¾ç„¶å¯ä»¥åšåˆ°ã€‚å¯¹äºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ï¼Œå‘å³å»æ‰¾æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ ï¼ˆæ‰¾ç¬¬ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼‰ï¼Œè¿™æ ·æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œæœ€åæƒ…å†µæ˜¯è¿™æ˜¯ä¸€ä¸ªå•è°ƒé€’å‡æ•°ç»„ï¼Œæ¯æ¬¡éƒ½è¦å‘å³æ‰¾åˆ°æ•°ç»„çš„æœ€æœ«å°¾ã€‚æ˜¾ç„¶è¿™ä¸æ˜¯ç†æƒ³çš„è§£æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨å•è°ƒæ ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countHats</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">    heights.push_back(INT_MAX);</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;heights.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>( !stk.empty() &amp;&amp; heights[i] &gt; heights[stk.top()]) ) &#123;</span><br><span class="line">            <span class="keyword">int</span> top = stk.top();</span><br><span class="line">            stk.pop();</span><br><span class="line">            sum += i â€“ top â€“ <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        stk.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»´æŠ¤äº†ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œåœ¨æ ˆä¸­çš„å…ƒç´ éƒ½æ˜¯å•è°ƒé€’å‡çš„ï¼Œè¿™è¡¨æ˜æ ˆå†…çš„å…ƒç´ è¿˜å¯èƒ½çœ‹åˆ°æ¯”å®ƒæ›´å°çš„å…ƒç´ ï¼ˆå¸½å­ï¼‰ã€‚å½“é‡åˆ°ä¸€ä¸ªæ¯”æ ˆé¡¶å…ƒç´ å¤§çš„å…ƒç´ æ—¶ï¼Œè¯´æ˜æ ˆé¡¶å…ƒç´ ä¸å¯èƒ½çœ‹åˆ°æ¯”å®ƒæ›´å°çš„å…ƒç´ äº†ï¼ˆå› ä¸ºé®æŒ¡ä½œç”¨ï¼‰ï¼Œè¿™æ—¶å°†æ ˆé¡¶å…ƒç´ popå‡ºæ¥ï¼ŒåŒæ—¶æ›´æ–°sumçš„å€¼ï¼Œ<code>sum += i â€“ top â€“ 1</code>ï¼Œè¡¨ç¤ºæ ˆé¡¶å…ƒç´ ä¸è¿™ä¸ªæ–°å…ƒç´ é—´çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯æ ˆé¡¶å…ƒç´ èƒ½çœ‹åˆ°çš„æœ€å¤šçš„å¸½å­æ•°ã€‚åœ¨forå¾ªç¯ä¸­ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå…¥æ ˆå’Œå‡ºæ ˆï¼Œåœ¨å‡ºæ ˆè¿‡ç¨‹ä¸­æ€»ä¼šè®¡ç®—å‡ºæ ˆé¡¶å…ƒç´ èƒ½çœ‹åˆ°çš„æœ€å¤šçš„å¸½å­æ•°ï¼Œå¹¶æ›´æ–°sumå€¼ï¼Œå½“æ•´ä¸ªé˜Ÿåˆ—å¾ªç¯ç»“æŸåï¼Œå¾—åˆ°çš„sumå€¼å°±æ˜¯æœ€åé˜Ÿä¼ä¸­èƒ½çœ‹åˆ°çš„å¸½å­æ€»æ•°ã€‚æ³¨æ„ä¸ºäº†ä½¿æ‰€æœ‰å…ƒç´ éƒ½èƒ½å‡ºæ ˆï¼Œï¼ˆç³Ÿç³•æƒ…å†µæ˜¯å•è°ƒé€’å‡æ•°åˆ—ï¼Œè¿™æ—¶ä¼¼ä¹ä¸€æ¬¡å‡ºæ ˆéƒ½æ²¡æœ‰å‘ç”Ÿï¼ŒåŸå› æ˜¯æœ€åä¸€ä¸ªå…ƒç´ åé¢ä¸å¯èƒ½æœ‰æ–°çš„å…ƒç´ å‡ºç°äº†ï¼Œä½†å•è°ƒæ ˆè¿˜åœ¨æœŸå¾…æ–°çš„å…ƒç´ å‡ºç°ï¼Œä¸ºäº†åæ˜ å…ƒç´ ä¸å†å‡ºç°è¿™ä¸€äº‹å®ï¼Œæˆ‘ä»¬å‡è®¾æœ€åä¸€ä¸ªå…ƒç´ åé¢å‡ºç°äº†ä¸€ä¸ªæ— ç©·å¤§çš„å…ƒç´ ï¼‰ï¼Œå³heights.push_back(INT_MAX)ã€‚</p>
<h3 id="å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°"><a href="#å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°" class="headerlink" title="å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°"></a>å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°</h3><p>ç»™ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªå¤§å°ç›¸åŒçš„æ•°ç»„ã€‚è¿”å›çš„æ•°ç»„çš„ç¬¬iä¸ªä½ç½®çš„å€¼åº”å½“æ˜¯ï¼Œå¯¹äºåŸæ•°ç»„ä¸­çš„ç¬¬iä¸ªå…ƒç´ ï¼Œè‡³å°‘å¾€å³èµ°å¤šå°‘æ­¥ï¼Œæ‰èƒ½é‡åˆ°ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„å…ƒç´ ï¼ˆå¦‚æœä¹‹åæ²¡æœ‰æ¯”è‡ªå·±å¤§çš„å…ƒç´ ï¼Œæˆ–è€…å·²ç»æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ™åœ¨è¿”å›æ•°ç»„çš„å¯¹åº”ä½ç½®æ”¾ä¸Š-1ï¼‰ã€‚<br>ä¾‹å¦‚ç»™å®šæ•°ç»„ä¸ºï¼š<code>[2,1,5,6,2,3]</code><br>è¿”å›æ•°ç»„åº”è¯¥ä¸ºï¼š<code>[2,1,1,-1,1,-1]</code><br>å…¶å®è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šå’Œæ•°å¸½å­é—®é¢˜æ˜¯ä¸€æ ·çš„ï¼Œæœ¬è´¨éƒ½æ˜¯æ‰¾åˆ°å…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°ï¼Œä»£ç ç¨ä½œæ”¹åŠ¨å³å¯ã€‚<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countSteps</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; results(heights.size(), <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;heights.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>( !stk.empty() &amp;&amp; heights[i] &gt; heights[stk.top()]) ) &#123;</span><br><span class="line">            results[stk.top()] = i â€“ stk.top();</span><br><span class="line">            stk.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        stk.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜"><a href="#æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜" class="headerlink" title="æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜"></a>æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜</h3><p><a href="https://leetcode-cn.com/problems/trapping-rain-water" target="_blank" rel="noopener">lc42, hard</a><br>ç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚<br>ç¤ºä¾‹ 1ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/monotone_stack/mono_stack_4.png" alt><br>è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šheight = [4,2,0,3,2,5]<br>è¾“å‡ºï¼š9</p>
<p><a href="https://leetcode-cn.com/problems/trapping-rain-water/solution/trapping-rain-water-by-ikaruga/" target="_blank" rel="noopener">å‚è€ƒ</a><br>ç†è§£é¢˜ç›®ï¼Œå‚è€ƒå›¾è§£ï¼Œæ³¨æ„é¢˜ç›®çš„æ€§è´¨ï¼Œå½“åé¢çš„æŸ±å­é«˜åº¦æ¯”å‰é¢çš„ä½æ—¶ï¼Œæ˜¯æ— æ³•æ¥é›¨æ°´çš„<br>å½“æ‰¾åˆ°ä¸€æ ¹æ¯”å‰é¢é«˜çš„æŸ±å­ï¼Œå°±å¯ä»¥è®¡ç®—æ¥åˆ°çš„é›¨æ°´, æ‰€ä»¥ä½¿ç”¨å•è°ƒé€’å‡æ ˆ</p>
<p>å¯¹æ›´ä½çš„æŸ±å­å…¥æ ˆ:  </p>
<ul>
<li>æ›´ä½çš„æŸ±å­ä»¥ä¸ºè¿™åé¢å¦‚æœèƒ½æ‰¾åˆ°é«˜æŸ±å­ï¼Œè¿™é‡Œå°±èƒ½æ¥åˆ°é›¨æ°´ï¼Œæ‰€ä»¥å…¥æ ˆæŠŠå®ƒä¿å­˜èµ·æ¥</li>
<li>å¹³åœ°ç›¸å½“äºé«˜åº¦ 0 çš„æŸ±å­ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å½±å“</li>
</ul>
<p>å½“å‡ºç°é«˜äºæ ˆé¡¶çš„æŸ±å­æ—¶:  </p>
<ul>
<li>è¯´æ˜å¯ä»¥å¯¹å‰é¢çš„æŸ±å­ç»“ç®—äº†</li>
<li>è®¡ç®—å·²ç»åˆ°æ‰‹çš„é›¨æ°´ï¼Œç„¶åå‡ºæ ˆå‰é¢æ›´ä½çš„æŸ±å­</li>
</ul>
<p>è®¡ç®—é›¨æ°´çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯:  </p>
<ul>
<li>é›¨æ°´åŒºåŸŸçš„å³è¾¹ r æŒ‡çš„è‡ªç„¶æ˜¯å½“å‰ç´¢å¼• i</li>
<li>åº•éƒ¨æ˜¯æ ˆé¡¶ st.top() ï¼Œå› ä¸ºé‡åˆ°äº†æ›´é«˜çš„å³è¾¹ï¼Œæ‰€ä»¥å®ƒå³å°†å‡ºæ ˆï¼Œä½¿ç”¨ cur æ¥è®°å½•å®ƒï¼Œå¹¶è®©å®ƒå‡ºæ ˆ</li>
<li>å·¦è¾¹ l å°±æ˜¯æ–°çš„æ ˆé¡¶ st.top()</li>
<li>é›¨æ°´çš„åŒºåŸŸå…¨éƒ¨ç¡®å®šäº†ï¼Œæ°´å‘çš„é«˜åº¦å°±æ˜¯å·¦å³ä¸¤è¾¹æ›´ä½çš„ä¸€è¾¹å‡å»åº•éƒ¨ï¼Œå®½åº¦æ˜¯åœ¨å·¦å³ä¸­é—´</li>
<li>ä½¿ç”¨ä¹˜æ³•å³å¯è®¡ç®—é¢ç§¯</li>
</ul>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/monotone_stack/monotone_stack_5.webm" type="video/webm"><br></video>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trap</span><span class="params">(self, height)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type height: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rain_sum = <span class="number">0</span></span><br><span class="line">        _monotone_stack = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(height)):</span><br><span class="line">            <span class="keyword">while</span> _monotone_stack <span class="keyword">and</span> height[i] &gt; height[_monotone_stack[<span class="number">-1</span>]]:</span><br><span class="line">                cur = _monotone_stack.pop(<span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> _monotone_stack:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                r = i</span><br><span class="line">                l = _monotone_stack[<span class="number">-1</span>]</span><br><span class="line">                w = r - l - <span class="number">1</span></span><br><span class="line">                h = min(height[l], height[r]) - height[cur]</span><br><span class="line">                rain_sum += w * h</span><br><span class="line">            _monotone_stack.append(i)</span><br><span class="line">        <span class="keyword">return</span> rain_sum</span><br></pre></td></tr></table></figure>
<h3 id="æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜"><a href="#æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜" class="headerlink" title="æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜"></a>æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜</h3><p><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">lc84</a><br>ç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/monotone_stack/mono_stack_3.png" alt><br>å¦‚ä¸Šå›¾ï¼ŒçŸ©å½¢æœ€å¤§é¢ç§¯ä¸º10ã€‚è¿™ä¸ªé—®é¢˜åŒæ ·å¯ä»¥å€ŸåŠ©å•è°ƒæ ˆæ¥è§£å†³ã€‚åœ¨è¿™ä¹‹å‰ï¼Œéœ€è¦ç†è§£å¦‚ä½•æ‰¾åˆ°è¿™ä¸ªæœ€å¤§é¢ç§¯çŸ©å½¢ï¼Œè¿™ä¸ªçŸ©å½¢çš„é™åˆ¶æ¡ä»¶æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯é«˜åº¦ï¼ˆä¹Ÿå³ç»„æˆçŸ©å½¢çš„æœ€çŸ­çš„é‚£æ ¹æŸ±å­é«˜åº¦ï¼‰ï¼Œä¸€ä¸ªæ˜¯å®½åº¦ï¼Œï¼ˆä¹Ÿå³ç»„æˆçŸ©å½¢çš„æŸ±å­ä¸ªæ•°ï¼‰ã€‚ä¸ºäº†æ‰¾åˆ°è¿™ä¸ªå…¨å±€æœ€å¤§å€¼ï¼Œæˆ‘ä»¬éå†æ‰€æœ‰å±€éƒ¨æœ€ä¼˜æƒ…å†µã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å±€éƒ¨æœ€ä¼˜è§£å‘¢ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæŸ±å­çš„é«˜åº¦ä½œä¸ºåŒ…å«å®ƒçš„çŸ©å½¢çš„é«˜åº¦ï¼Œä¹Ÿå³è¿™ä¸ªæŸ±å­ä¸€å®šæ˜¯è¿™ä¸ªçŸ©å½¢ä¸­æœ€ä½çš„ä¸€ä¸ªæŸ±å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸‹ä¸€æ­¥æ˜¯æ±‚è§£è¿™ä¸ªçŸ©å½¢çš„å®½åº¦ï¼Œæ˜¾ç„¶æˆ‘ä»¬åªéœ€æ‰¾åˆ°è¿™ä¸ªæŸ±å­å·¦è¾¹ï¼Œå³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒä½çš„æŸ±å­ï¼Œå°±å¯ä»¥æ±‚å‡ºå®½åº¦ã€‚è¿™æ˜¾ç„¶è®©æˆ‘ä»¬æƒ³åˆ°ä½¿ç”¨å•è°ƒæ ˆçš„æ•°æ®ç»“æ„ã€‚ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; heights)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line">    heights.push_back(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk; <span class="comment">//monotone stack(ascending)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;heights.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stk.empty() &amp;&amp; heights[i] &lt; heights[stk.top()]) &#123;</span><br><span class="line">            <span class="keyword">int</span> top = stk.top();</span><br><span class="line">            stk.pop(); <span class="comment">//find the smaller element to the left of the current element</span></span><br><span class="line">            maxArea = max(maxArea,heights[top]*(stk.empty() ? i : (i - stk.top()<span class="number">-1</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        stk.push(i);    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œå½“é‡åˆ°ä¸€ä¸ªæ–°å…ƒç´ å°äºæ ˆé¡¶å…ƒç´ æ—¶ï¼Œå‘ç”Ÿå‡ºæ ˆè¡Œä¸ºï¼Œè¡¨ç¤ºæ ˆé¡¶å…ƒç´ å‘å³é‡åˆ°äº†ç¬¬ä¸€ä¸ªå°äºå®ƒçš„å…ƒç´ ï¼ŒåŒæ—¶åœ¨æ ˆå†…çš„æ ˆé¡¶å…ƒç´ çš„ä¸‹é¢ä¸€ä¸ªå…ƒç´ å³æ˜¯æ ˆé¡¶å…ƒç´ å‘å·¦å¯»æ‰¾æ—¶ç¬¬ä¸€ä¸ªå°äºå®ƒçš„å…ƒç´ ã€‚ï¼ˆè¿™ä¸€ç‚¹çš„åŸå› å€¼å¾—ä»”ç»†æ€è€ƒï¼Œå…¶å®æ˜¯å› ä¸ºæ ˆé¡¶å…ƒç´ ä¸å…¶ä¸‹é¢çš„å…ƒç´ é—´åœ¨åŸæ•°ç»„ä¸­æˆ–è®¸å­˜åœ¨å¾ˆå¤šçš„å…ƒç´ ï¼Œä½†å®ƒä»¬å¿…ç„¶æ˜¯æ¯”æ ˆé¡¶å…ƒç´ å¤§ä¸”æ¯”æ ˆé¡¶å…ƒç´ ä¸‹é¢çš„å…ƒç´ å°çš„ï¼Œå®ƒä»¬éƒ½åœ¨ä¹‹å‰è¢«å¼¹å‡ºäº†æ ˆã€‚ï¼‰åœ¨å‡ºæ ˆè¡Œä¸ºå‘ç”Ÿåï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ä»¥æ ˆé¡¶å…ƒç´ çš„é«˜åº¦å€¼ä½œä¸ºçŸ©å½¢é«˜åº¦æ—¶çš„çŸ©å½¢é¢ç§¯ï¼Œè€ŒçŸ©å½¢å®½åº¦å·²ç»å¯ä»¥è®¡ç®—äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†æ ˆé¡¶å…ƒç´ å·¦å³ä¸¤ä¾§å°äºå®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œäºæ˜¯å±€éƒ¨æœ€ä¼˜è§£å¾—åˆ°è®¡ç®—ã€‚åœ¨æ•´ä¸ªå¾ªç¯ä¸­ï¼Œæ‰€æœ‰å…ƒç´ è¿›æ ˆä¸€æ¬¡ï¼Œå‡ºæ ˆä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p>
<h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><p><a href="https://blog.csdn.net/qq_38975553/article/details/108154673" target="_blank" rel="noopener">å‚è€ƒ</a>  </p>
<p>å‡è®¾æœ‰ n ä¸ªæ‘åº„ï¼Œæœ‰äº›æ‘åº„ä¹‹é—´æœ‰è¿æ¥çš„è·¯ï¼Œæœ‰äº›æ‘åº„ä¹‹é—´å¹¶æ²¡æœ‰è¿æ¥çš„è·¯</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_1.jpg" alt></p>
<p>è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ‰§è¡Œ 2 ä¸ªæ“ä½œ:  </p>
<ul>
<li>æŸ¥è¯¢ 2 ä¸ªæ‘åº„ä¹‹é—´æ˜¯å¦æœ‰è¿æ¥çš„è·¯</li>
<li>è¿æ¥ 2 ä¸ªæ‘åº„ </li>
</ul>
<p>ä½¿ç”¨æ•°ç»„ã€é“¾è¡¨ã€å¹³è¡¡äºŒå‰æ ‘ã€é›†åˆ (Set), æŸ¥è¯¢ã€è¿æ¥çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯: O(n), ä½†æ˜¯:  </p>
<ul>
<li>å¹¶æŸ¥é›†èƒ½å¤ŸåŠåˆ°æŸ¥è¯¢ã€è¿æ¥çš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(Î±(n)), Î±(n) &lt; 5  </li>
<li><strong>å¹¶æŸ¥é›†éå¸¸é€‚åˆè§£å†³è¿™ç±» â€œè¿æ¥â€ ç›¸å…³çš„é—®é¢˜</strong></li>
</ul>
<p>å¹¶æŸ¥é›†æœ‰2ä¸ªæ ¸å¿ƒæ“ä½œ:  </p>
<ul>
<li>æŸ¥æ‰¾(Find): æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨çš„é›†åˆ(è¿™é‡Œçš„é›†åˆå¹¶ä¸æ˜¯ç‰¹æŒ‡Setè¿™ç§æ•°æ®ç»“æ„, æ˜¯æŒ‡å¹¿ä¹‰çš„æ•°æ®é›†åˆ)</li>
<li>åˆå¹¶(Union): å°†ä¸¤ä¸ªå…ƒç´ æ‰€åœ¨çš„é›†åˆåˆå¹¶ä¸ºä¸€ä¸ªé›†åˆ</li>
</ul>
<p>å‡è®¾å¹¶æŸ¥é›†å¤„ç†çš„æ•°æ®éƒ½æ˜¯æ•´å‹ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨æ•´å‹æ•°ç»„æ¥å­˜å‚¨æ•°æ®, æ¯ä¸ªæ•°ç»„åæ ‡indexè¡¨ç¤ºæŸä¸ªnode, è€Œæ¯ä¸ªæ•°ç»„å…ƒç´ çš„å€¼è¡¨ç¤ºnodeçš„parent.  </p>
<p>åˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªå…ƒç´ å„è‡ªå±äºä¸€ä¸ªå•å…ƒç´ é›†åˆ, çˆ¶èŠ‚ç‚¹parentéƒ½æ˜¯è‡ªå·±:<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_11.jpg" alt></p>
<p>ä¸¾ä¸ªæ™®é€šä¾‹å­, å¦‚æœæœ‰ä¸‹å›¾è¿™ç§æƒ…å†µ:<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_2.jpg" alt title="å¹¶æŸ¥é›†ä¾‹å­å›¾1"></p>
<p>åˆ™, ä»ä¸Šå›¾ä¸­ä¸éš¾çœ‹å‡º:   </p>
<ul>
<li>0ã€1ã€3 å±äºåŒä¸€é›†åˆ, è¿™ä¸‰ä¸ªnodeçš„æ ¹èŠ‚ç‚¹éƒ½æ˜¯1</li>
<li>2 å•ç‹¬å±äºä¸€ä¸ªé›†åˆ, å…¶æ ¹èŠ‚ç‚¹æ˜¯è‡ªå·±ä¹Ÿå°±æ˜¯2</li>
<li>4ã€5ã€6ã€7 å±äºåŒä¸€é›†åˆ, è¿™å››ä¸ªnodeçš„æ ¹èŠ‚ç‚¹éƒ½æ˜¯6</li>
</ul>
<p>å› æ­¤ï¼Œå¹¶æŸ¥é›†æ˜¯å¯ä»¥ç”¨æ•°ç»„å®ç°çš„æ ‘å½¢ç»“æ„ (äºŒå‰å †ã€ä¼˜å…ˆçº§é˜Ÿåˆ—ä¹Ÿæ˜¯å¯ä»¥ç”¨æ•°ç»„å®ç°çš„æ ‘å½¢ç»“æ„)</p>
<h3 id="Findæ“ä½œ"><a href="#Findæ“ä½œ" class="headerlink" title="Findæ“ä½œ"></a>Findæ“ä½œ</h3><p>å¹¶æŸ¥é›†çš„findæŸ¥æ‰¾æ“ä½œæŒ‡çš„æ˜¯: é€šè¿‡parenté“¾æ¡ä¸æ–­åœ°å‘ä¸Šæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æ ¹èŠ‚ç‚¹.<br>å¦‚å¹¶æŸ¥é›†ä¾‹å­å›¾1, åˆ™</p>
<ul>
<li>find(0) == 1</li>
<li>find(1) == 1</li>
<li>find(3) == 1</li>
<li>find(2) == 2</li>
<li>find(5) == 6</li>
<li>find(4) == 6</li>
<li>find(7) == 6</li>
</ul>
<h3 id="Unionæ“ä½œ"><a href="#Unionæ“ä½œ" class="headerlink" title="Unionæ“ä½œ"></a>Unionæ“ä½œ</h3><p>Quick Union çš„ union(v1, v2)ï¼šè®© v1 çš„æ ¹èŠ‚ç‚¹æŒ‡å‘ v2 çš„æ ¹èŠ‚ç‚¹</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_3.jpg" alt></p>
<p>åœ¨Unionçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°æ ‘ä¸å¹³è¡¡çš„æƒ…å†µï¼Œç”šè‡³é€€åŒ–æˆé“¾è¡¨</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_5.jpg" alt></p>
<p>æ‰€ä»¥ä¸€èˆ¬éƒ½ä¼šåŸºäºrank(ä¹Ÿç¿»è¯‘ä¸ºç§©, å…¶å®å°±æ˜¯è¿™æ£µæ ‘çš„å±‚æ•°)çš„ä¼˜åŒ–, å³å±‚æ•°å°‘çš„è¿åˆ°å±‚æ•°å¤šçš„æ ¹èŠ‚ç‚¹å», æ¯”å¦‚ä¸‹å›¾:  </p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_6.jpg" alt></p>
<h3 id="å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©"><a href="#å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©" class="headerlink" title="å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©"></a>å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©</h3><p>è·¯å¾„å‡åŠï¼ˆPath Halvingï¼‰ï¼šä½¿è·¯å¾„ä¸Šæ¯éš”ä¸€ä¸ªèŠ‚ç‚¹å°±æŒ‡å‘å…¶ç¥–çˆ¶èŠ‚ç‚¹(parentçš„parent), è¿™æ˜¯é åœ¨findçš„æ—¶å€™é¡ºä¾¿å‹ç¼©çš„</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/union_find_4.jpg" alt></p>
<h3 id="å¹¶æŸ¥é›†ä»£ç å®ç°"><a href="#å¹¶æŸ¥é›†ä»£ç å®ç°" class="headerlink" title="å¹¶æŸ¥é›†ä»£ç å®ç°"></a>å¹¶æŸ¥é›†ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, node_count)</span>:</span></span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªå…ƒç´ å„è‡ªå±äºä¸€ä¸ªå•å…ƒç´ é›†åˆ, çˆ¶èŠ‚ç‚¹parentéƒ½æ˜¯è‡ªå·±</span></span><br><span class="line">        self.parent_list = [ i <span class="keyword">for</span> i <span class="keyword">in</span> range(node_count) ]</span><br><span class="line">        <span class="comment"># ç§©éƒ½åˆå§‹åŒ–ä¸º1, å› ä¸ºåªæœ‰è‡ªå·±ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™, å±‚æ•°ä¸º1</span></span><br><span class="line">        self.rank_list = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(node_count) ]</span><br><span class="line">        <span class="comment"># è¿é€šåˆ†é‡ä¸ªæ•°åˆå§‹åŒ–ä¸ºnodeä¸ªæ•°, ç­‰åšunionåˆå¹¶æ“ä½œçš„æ—¶å€™å†å‡å°‘</span></span><br><span class="line">        self.connected_component_count = node_count</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰¾åˆ°valçš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, val)</span>:</span></span><br><span class="line">        <span class="keyword">while</span>(val != self.parent_list[val]):</span><br><span class="line">            <span class="comment"># è¿™ä¸€æ­¥å°±æ˜¯è·¯å¾„å‹ç¼©äº†, è·¯å¾„å‡åŠ</span></span><br><span class="line">            self.parent_list[val] = self.parent_list[self.parent_list[val]]</span><br><span class="line">            val = self.parent_list[val]</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŠŠval1æ‰€å±çš„é›†åˆä¸val2æ‰€å±çš„é›†åˆåˆå¹¶, ä¹Ÿå°±æ˜¯æŠŠval1çš„æ ¹èŠ‚ç‚¹æŒ‡å‘val2çš„æ ¹èŠ‚ç‚¹(æˆ–è€…åä¹‹)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unite</span><span class="params">(self, val1, val2)</span>:</span></span><br><span class="line">        <span class="comment"># å…ˆæ‰¾åˆ°val1å’Œval2çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        parent1 = self.find(val1)</span><br><span class="line">        parent2 = self.find(val2)</span><br><span class="line">        <span class="keyword">if</span> parent1 == parent2:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> self.rank_list[parent1] &lt; self.rank_list[parent2]:</span><br><span class="line">            self.parent_list[parent1] = parent2</span><br><span class="line">        <span class="keyword">elif</span> self.rank_list[parent1] &gt; self.rank_list[parent2]:</span><br><span class="line">            self.parent_list[parent2] = parent1</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># parent1å’Œparent2çš„ç§©ç›¸ç­‰</span></span><br><span class="line">            <span class="comment"># è¿™é‡Œåè¿‡æ¥`self.parent_list[parent1] = parent2`ä¹Ÿè¡Œ</span></span><br><span class="line">            self.parent_list[parent2] = parent1</span><br><span class="line">            <span class="comment"># parent2æŒ‡å‘parent1äº†, åˆ™æ˜¾è€Œæ˜“è§çš„parent2çš„ç§©è¦åŠ 1</span></span><br><span class="line">            self.rank_list[parent2] += <span class="number">1</span></span><br><span class="line">        self.connected_component_count -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_connected</span><span class="params">(self, val1, val2)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(val1) == self.find(val2)</span><br></pre></td></tr></table></figure>
<h3 id="å¹¶æŸ¥é›†å®æˆ˜"><a href="#å¹¶æŸ¥é›†å®æˆ˜" class="headerlink" title="å¹¶æŸ¥é›†å®æˆ˜"></a>å¹¶æŸ¥é›†å®æˆ˜</h3><h4 id="å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜"><a href="#å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜" class="headerlink" title="å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜"></a>å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜</h4><ul>
<li><a href="https://leetcode-cn.com/problems/friend-circles/" target="_blank" rel="noopener">æœ‹å‹åœˆé—®é¢˜, lc547, medium</a> </li>
<li><a href="https://leetcode-cn.com/problems/number-of-islands/" target="_blank" rel="noopener">å²›å±¿æ•°é‡é—®é¢˜, lc200, medium</a>  </li>
</ul>
<p>è¿™ä¸¤é¢˜è™½ç„¶è¡¨è¿°ä¸ä¸€æ ·ä½†æ˜¯å…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜â€¦å¥½å¥‡leetcodeä¸ºå•¥æ²¡æ ‡æ³¨ä¸ºä¸€æ ·<br><a href="https://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-shu-liang-dfs-by-wang-xiao-shuai-ve/" target="_blank" rel="noopener">å‚è€ƒ</a>  </p>
<p>è§£å†³æœ¬é¢˜çš„æ€è·¯å¯ä»¥ç”¨dfsæ€è·¯(è§æœ¬æ–‡<a href="#å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜">å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜</a>),<br>ä¹Ÿå¯ä»¥ç”¨å¹¶æŸ¥é›†, æ–°å»ºä¸€ä¸ªå¹¶æŸ¥é›†ç±» åŒ…æ‹¬parentæ¯ç»“ç‚¹æ•°ç»„ï¼Œrankç§©æ•°ç»„(ä¼˜åŒ–ç”¨)å’Œ count æ•°é‡<br>æ„é€ åˆå§‹åŒ–æ—¶ éœ€è¦å…¨å›¾éå†ä¸€æ¬¡ æŠŠparentå¯¹åº”çš„æœ‰é™†åœ°çš„æ ‡å·ç½®ä¸ºå’Œparentæ•°ç»„ä¸‹æ ‡ä¸€æ ·çš„å€¼ã€‚æµ·æ´‹éƒ½æ˜¯-1<br>æ¯”å¦‚:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1 1 1 0</span><br><span class="line">0 0 1 1</span><br></pre></td></tr></table></figure></p>
<p>åˆ™ <code>parent = [0,1,2,-1,-1,-1,6,7]</code><br>rankä¸ºç§© é»˜è®¤ä¸º0 è‹¥æ•°æœ‰2ä¸ªç»“ç‚¹ åˆ™ç§©ä¸º1<br>æ¯”å¦‚å‰ä¸¤ä¸ªé™†åœ° 1 1 åˆå¹¶å å˜ä¸º <code>parent = [1,1,2,-1,-1,-1,6,7]</code> ç¬¬ä¸€å—ç§©ä¸º1<br>count åˆå§‹åŒ– é‡åˆ°é™†åœ°å°±+1 æ¯”å¦‚ ä¹‹å‰çš„<code>count = 5</code><br>æ­£å¼æ±‚è§£æ—¶ å†éå†å…¨å›¾ æ¯ä¸ªç‚¹å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘åˆå¹¶ åˆå¹¶ä¸€å—<code>count--</code><br>ä¹‹å‰çš„ ä¼šåˆå¹¶4æ¬¡ countå‡å»4æ¬¡ å°±å˜æˆ1äº† åªå‰©1å—å²›å±¿<br>å…·ä½“è§ä¸‹æ–¹cppä»£ç , æ³¨é‡Šå†™çš„å¾ˆè¯¦ç»†äº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¹¶æŸ¥é›†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Djset</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// æ•°ç›®</span></span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="comment">// æ¯ç»“ç‚¹é›†åˆ</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent;</span><br><span class="line">    <span class="comment">// ç§©ï¼ˆä¼˜åŒ–ç”¨ï¼‰</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rank;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// åˆå§‹æ„é€ å‡½æ•° ä¸»è¦åˆå§‹åŒ–3ä¸ªç§æœ‰æˆå‘˜</span></span><br><span class="line">	<span class="comment">// é»˜è®¤parentæ•°å€¼ä¸º-1 ä¸€ç»´ï¼Œå¤§å° æ˜¯gridçŸ©é˜µè¡Œæ•°*åˆ—æ•°</span></span><br><span class="line">	<span class="comment">// é»˜è®¤rank ç§©ä¸º 0 ä¸€ç»´ï¼Œå¤§å° æ˜¯gridçŸ©é˜µè¡Œæ•°*åˆ—æ•°</span></span><br><span class="line">	<span class="comment">// é»˜è®¤countæ•°é‡ä¸º0</span></span><br><span class="line">    Djset(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid):</span><br><span class="line">        count(<span class="number">0</span>), parent(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;((grid.size()) * (grid[<span class="number">0</span>].size()),<span class="number">-1</span>)),</span><br><span class="line">        rank(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;((grid.size()) * (grid[<span class="number">0</span>].size()), <span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> row = grid.size();</span><br><span class="line">        <span class="keyword">int</span> col = grid[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;row; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;col; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j]==<span class="string">'1'</span>)&#123;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ– è‹¥æœ‰é™†åœ°å— åˆ™æ¯ç»“ç‚¹ç­‰äºè‡ªå·± å¦åˆ™æ˜¯é»˜è®¤å€¼-1</span></span><br><span class="line"><span class="comment">// å› ä¸ºæ˜¯äºŒç»´ æ‰€ä»¥æ˜ å°„åˆ°ä¸€ç»´æ•°ç»„éœ€è¦è½¬æ¢ä¸€ä¸‹å…³ç³»</span></span><br><span class="line"><span class="comment">// : è¡Œå·*è¡Œæ•° + åˆ—å·                    </span></span><br><span class="line">                    parent[i*col+j] = i*col+j;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡åˆ°ä¸€å—é™†åœ°å°±+1 åé¢æ ¹æ®è¿é€šåˆ†é‡å†åˆ </span></span><br><span class="line"><span class="comment">// è¿™ä¸ªcount ä¸æ˜¯æœ€ç»ˆç­”æ¡ˆ                    </span></span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// æŸ¥ (æ‰¾ç»“ç‚¹æ‰€åœ¨æ ‘çš„æ ¹èŠ‚ç‚¹) å¦‚1-&gt;2-&gt;3-&gt;5  find(1) å¾—åˆ° 5</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="comment">// if(x!=parent[x])&#123;</span></span><br><span class="line">        <span class="comment">// ï¼ˆ1ï¼‰è·¯å¾„å‹ç¼© ä¼˜åŒ–</span></span><br><span class="line">        <span class="comment">// æ‰€æœ‰å­ç»“ç‚¹å…¨éƒ¨æŒ‡å‘æ ¹èŠ‚ç‚¹ å‡å°‘æ ‘çš„æ·±åº¦ ä½†å¼€é”€è¾ƒå¤§ ä¸æ¨è</span></span><br><span class="line">        <span class="comment">//     parent[x] = find(parent[x]);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// return parent[x];</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ï¼ˆ2ï¼‰è·¯å¾„å‡åŠ ä¼˜åŒ–</span></span><br><span class="line">		<span class="comment">// ä½¿è·¯å¾„ä¸Šæ¯éš”ä¸€ä¸ªèŠ‚ç‚¹å°±æŒ‡å‘å…¶ç¥–çˆ¶èŠ‚ç‚¹(parentçš„parent)</span></span><br><span class="line">		<span class="comment">// ä»¥ 1-&gt;2-&gt;3-&gt;4-&gt;5 ä¸ºä¾‹  è‹¥find(1) è·¯å¾„æŸ¥æ‰¾ä¼˜åŒ–ä¸º</span></span><br><span class="line">		<span class="comment">// 1-&gt;3-&gt;5 è·¯å¾„å‡åŠ å‡å°‘æ ‘çš„æ·±åº¦ </span></span><br><span class="line">        <span class="keyword">while</span>(x!=parent[x])&#123;</span><br><span class="line">            parent[x] = parent[parent[x]];</span><br><span class="line">            x = parent[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// å¹¶ (ä¸€ä¸ªç»“ç‚¹æ ‘å¹¶åˆ°å¦ä¸€ä¸ªç»“ç‚¹æ ‘ä¸Š)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> x2)</span></span>&#123;</span><br><span class="line">		<span class="comment">// ä½¿ç”¨ç§©ä¼˜åŒ– æŒ‰ç§©åˆå¹¶ é¿å…åˆæˆåå˜æˆå•é“¾è¡¨ O(n)å¤æ‚åº¦</span></span><br><span class="line">		<span class="comment">// æ‰¾åˆ° x1 å’Œ x2ä¸¤ä¸ªæ ‘çš„æ ¹ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> f1 = find(x1);</span><br><span class="line">        <span class="keyword">int</span> f2 = find(x2);</span><br><span class="line">		<span class="comment">// ä¸ç›¸ç­‰æ‰åˆå¹¶ ç›¸ç­‰å°±ä¸éœ€è¦åˆå¹¶äº† è¯æ˜åœ¨ä¸€æ£µæ ‘ä¸Š</span></span><br><span class="line">        <span class="keyword">if</span>(f1!=f2)&#123;</span><br><span class="line">		    <span class="comment">// ç§©f1&gt;f2 f1é•¿ä¸€äº› æŠŠf2çš„æ ‘å¹¶åœ¨f1ä¸Š ç§©ä¸å¢åŠ  æ ‘æ€»æ·±åº¦ä¸å˜æ·±</span></span><br><span class="line">            <span class="keyword">if</span>(rank[f1]&gt;rank[f2])&#123;</span><br><span class="line">                parent[f2] = f1;  <span class="comment">// ç†è§£ä¸º f2-&gt;f1</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		        <span class="comment">// ç§©f1&lt;=f2 æŠŠf1çš„æ ‘å¹¶åœ¨f2ä¸Š</span></span><br><span class="line">                parent[f1] = f2;  <span class="comment">// f1-&gt;f2</span></span><br><span class="line">		        <span class="comment">// è‹¥ ç§©f1=f2 åˆå¹¶åç§©ä¼š+1</span></span><br><span class="line">		        <span class="comment">// ä¾‹ï¼š f1:1-&gt;2  f2:3&lt;-4   åˆï¼š 1-&gt;2-&gt;3&lt;-4 </span></span><br><span class="line">                <span class="keyword">if</span>(rank[f1]==rank[f2])&#123;</span><br><span class="line">                    rank[f2]++ ;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">		    <span class="comment">// ä¸¤å—é™†åœ°åˆå¹¶æˆä¸€å— å‡å»ä¸€ä¸ªæ•°é‡ å¾ˆé‡è¦ï¼</span></span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_count</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = grid.size();</span><br><span class="line">        <span class="keyword">if</span>(!row)&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">        <span class="keyword">int</span> col = grid[<span class="number">0</span>].size();</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†å¯¹è±¡</span></span><br><span class="line">        <span class="function">Djset <span class="title">djs</span><span class="params">(grid)</span></span>;</span><br><span class="line">        <span class="comment">// å…¨å›¾éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;row; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;col; ++j)&#123;</span><br><span class="line">                <span class="comment">// å½“å‰å—ä¸ºé™†åœ°</span></span><br><span class="line">                <span class="keyword">if</span>(grid[i][j]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                    <span class="comment">// éå†è¿‡ é¿å…é‡å¤</span></span><br><span class="line">                    grid[i][j]=<span class="string">'2'</span>;</span><br><span class="line">                    <span class="comment">// å‘å››ä¸ªæ–¹å‘åˆå¹¶ æœ‰åˆå¹¶å°±ä¼šå‡å»é™†åœ°æ•°ç›®å¾—åˆ°æœ€ç»ˆçš„æ•°ç›®</span></span><br><span class="line">                    <span class="comment">// å‘ä¸Š</span></span><br><span class="line">                    <span class="keyword">if</span>(i<span class="number">-1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[i<span class="number">-1</span>][j]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                        djs.unite(i*col+j, (i<span class="number">-1</span>)*col + j);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// å‘å·¦</span></span><br><span class="line">                    <span class="keyword">if</span>(j<span class="number">-1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[i][j<span class="number">-1</span>]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                        djs.unite(i*col+j, (i)*col + j<span class="number">-1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// å‘ä¸‹</span></span><br><span class="line">                    <span class="keyword">if</span>(i+<span class="number">1</span>&lt;row &amp;&amp; grid[i+<span class="number">1</span>][j]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                        djs.unite(i*col+j, (i+<span class="number">1</span>)*col + j);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// å‘å³</span></span><br><span class="line">                    <span class="keyword">if</span>(j+<span class="number">1</span>&lt;col &amp;&amp; grid[i][j+<span class="number">1</span>]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                        djs.unite(i*col+j, (i)*col + j+<span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¾—åˆ°æœ€ç»ˆæ•°é‡</span></span><br><span class="line">        <span class="keyword">return</span> djs.get_count();       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§"><a href="#ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§" class="headerlink" title="ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§"></a>ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§</h4><p><a href="https://leetcode-cn.com/problems/satisfiability-of-equality-equations" target="_blank" rel="noopener">lc990, medium</a><br>ç»™å®šä¸€ä¸ªç”±è¡¨ç¤ºå˜é‡ä¹‹é—´å…³ç³»çš„å­—ç¬¦ä¸²æ–¹ç¨‹ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²æ–¹ç¨‹ equations[i] çš„é•¿åº¦ä¸º 4ï¼Œå¹¶é‡‡ç”¨ä¸¤ç§ä¸åŒçš„å½¢å¼ä¹‹ä¸€ï¼šâ€a==bâ€ æˆ– â€œa!=bâ€ã€‚åœ¨è¿™é‡Œï¼Œa å’Œ b æ˜¯å°å†™å­—æ¯ï¼ˆä¸ä¸€å®šä¸åŒï¼‰ï¼Œè¡¨ç¤ºå•å­—æ¯å˜é‡åã€‚<br>åªæœ‰å½“å¯ä»¥å°†æ•´æ•°åˆ†é…ç»™å˜é‡åï¼Œä»¥ä¾¿æ»¡è¶³æ‰€æœ‰ç»™å®šçš„æ–¹ç¨‹æ—¶æ‰è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼š[â€œa==bâ€,â€b!=aâ€]<br>è¾“å‡ºï¼šfalse<br>è§£é‡Šï¼šå¦‚æœæˆ‘ä»¬æŒ‡å®šï¼Œa = 1 ä¸” b = 1ï¼Œé‚£ä¹ˆå¯ä»¥æ»¡è¶³ç¬¬ä¸€ä¸ªæ–¹ç¨‹ï¼Œä½†æ— æ³•æ»¡è¶³ç¬¬äºŒä¸ªæ–¹ç¨‹ã€‚æ²¡æœ‰åŠæ³•åˆ†é…å˜é‡åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼š[â€œb==aâ€,â€a==bâ€]<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‡å®š a = 1 ä¸” b = 1 ä»¥æ»¡è¶³æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚<br>ç¤ºä¾‹ 3ï¼š<br>è¾“å…¥ï¼š[â€œa==bâ€,â€b==câ€,â€a==câ€]<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 4ï¼š<br>è¾“å…¥ï¼š[â€œa==bâ€,â€b!=câ€,â€c==aâ€]<br>è¾“å‡ºï¼šfalse<br>ç¤ºä¾‹ 5ï¼š<br>è¾“å…¥ï¼š[â€œc==câ€,â€b==dâ€,â€x!=zâ€]<br>è¾“å‡ºï¼štrue</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/union_find/990_fig1.gif" alt>  </p>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°† equations ä¸­çš„ç®—å¼æ ¹æ® == å’Œ != åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå…ˆå¤„ç† == ç®—å¼ï¼Œä½¿å¾—ä»–ä»¬é€šè¿‡ç›¸ç­‰å…³ç³»å„è‡ªå‹¾ç»“æˆé—¨æ´¾ï¼›ç„¶åå¤„ç† != ç®—å¼ï¼Œæ£€æŸ¥ä¸ç­‰å…³ç³»æ˜¯å¦ç ´åäº†ç›¸ç­‰å…³ç³»çš„è¿é€šæ€§ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 26 ä¸ªè‹±æ–‡å­—æ¯</span></span><br><span class="line">unionFind = UnionFind(<span class="number">26</span>)</span><br><span class="line"><span class="comment"># å…ˆè®©ç›¸ç­‰çš„å­—æ¯å½¢æˆè¿é€šåˆ†é‡</span></span><br><span class="line"><span class="keyword">for</span> equation <span class="keyword">in</span> equations:</span><br><span class="line">    <span class="keyword">if</span> equation[<span class="number">1</span>] == <span class="string">'='</span>:</span><br><span class="line">        <span class="comment"># ord() å‡½æ•°å®ƒä»¥ä¸€ä¸ªå­—ç¬¦ä½œä¸ºå‚æ•°ï¼Œè¿”å›å¯¹åº”çš„ ASCII æ•°å€¼</span></span><br><span class="line">        index1 = ord(equation[<span class="number">0</span>]) - ord(<span class="string">'a'</span>)</span><br><span class="line">        index2 = ord(equation[<span class="number">3</span>]) - ord(<span class="string">'a'</span>)</span><br><span class="line">        unionFind.union(index1, index2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ä¸ç­‰å…³ç³»æ˜¯å¦æ‰“ç ´ç›¸ç­‰å…³ç³»çš„è¿é€šæ€§</span></span><br><span class="line"><span class="keyword">for</span> equation <span class="keyword">in</span> equations:</span><br><span class="line">    <span class="keyword">if</span> equation[<span class="number">1</span>] == <span class="string">'!'</span>:</span><br><span class="line">        index1 = ord(equation[<span class="number">0</span>]) - ord(<span class="string">'a'</span>)</span><br><span class="line">        index2 = ord(equation[<span class="number">3</span>]) - ord(<span class="string">'a'</span>)</span><br><span class="line">        <span class="keyword">if</span> (unionFind.is_connected(index1, index2)):</span><br><span class="line">            <span class="comment"># å¦‚æœç›¸ç­‰å…³ç³»æˆç«‹ï¼Œå°±æ˜¯é€»è¾‘å†²çª</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<h1 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h1><h2 id="ä½è¿ç®—çš„å¥—è·¯æŠ€å·§"><a href="#ä½è¿ç®—çš„å¥—è·¯æŠ€å·§" class="headerlink" title="ä½è¿ç®—çš„å¥—è·¯æŠ€å·§"></a>ä½è¿ç®—çš„å¥—è·¯æŠ€å·§</h2><ul>
<li><strong>å¼‚æˆ–</strong><ul>
<li>å¼‚æˆ–çš„æ€§è´¨:  <ul>
<li>ä¸¤ä¸ªæ•°å­—å¼‚æˆ–çš„ç»“æœa^bæ˜¯å°† a å’Œ b çš„äºŒè¿›åˆ¶æ¯ä¸€ä½è¿›è¡Œè¿ç®—ï¼Œå¾—å‡ºçš„æ•°å­—ã€‚ </li>
<li>è¿ç®—çš„é€»è¾‘æ˜¯: å¦‚æœåŒä¸€ä½çš„æ•°å­—ç›¸åŒåˆ™ä¸º 0ï¼Œä¸åŒåˆ™ä¸º 1</li>
</ul>
</li>
<li>å¼‚æˆ–çš„è§„å¾‹:  <ul>
<li>ä»»ä½•æ•°å’Œæœ¬èº«å¼‚æˆ–åˆ™ä¸º0</li>
<li>ä»»ä½•æ•°å’Œ 0 å¼‚æˆ–æ˜¯æœ¬èº«</li>
<li>ä»»ä½•æ•°å’Œ 1 å¼‚æˆ– ç›¸å½“ä¸å–å</li>
<li>å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼Œå³: <code>a ^ b ^ c = a ^ c ^ b</code></li>
</ul>
</li>
<li>å¼‚æˆ–è¿˜å¯ä»¥æ¨¡æ‹Ÿä¸ç®—è¿›ä½çš„åŠ æ³•:<br>  12 äºŒè¿›åˆ¶ï¼š1100<br>  15 äºŒè¿›åˆ¶ï¼š1111<br>  å„ä½ç½®ä¸Šçš„æ•°å­—åˆ†åˆ«ç›¸åŠ å…ˆä¸ç®¡è¿›ä½çš„é—®é¢˜, å¾—åˆ°ä¸´æ—¶äºŒè¿›åˆ¶ç»“æœï¼š<br>  1100 + 1111 = 0011<br>  è¿™ä¹Ÿå¯ä»¥ç”¨<code>1100 ^ 1111 = 0011</code>å¾—åˆ°.<br>  æœ¬æ–‡ç®—æ³•é¢˜<a href="#ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•">ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</a>æœ‰åº”ç”¨</li>
</ul>
</li>
<li>ç§»é™¤æœ€åä¸€ä¸ª1: <code>a=n&amp;(n-1)</code>, æ¯”å¦‚<code>n = 0b11010; print bin(n&amp;(n-1))</code>, åˆ™æ‰“å°<code>0b11000</code></li>
<li>è·å–æœ€åä¸€ä¸ª 1: <code>diff=(n&amp;(n-1))^n</code>, å¯ä»¥çœ‹å‡ºæ¥æ˜¯ä¸ ç§»é™¤æœ€åä¸€ä¸ª1äº†ä¹‹åçš„æ•°åšä¸ªå¼‚æˆ–.</li>
</ul>
<h2 id="pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§"><a href="#pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§" class="headerlink" title="pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§"></a>pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§</h2><p>é¦–å…ˆpython/cpp/javaè¯­è¨€ä¸­çš„æ•°å­—éƒ½æ˜¯ä»¥<strong>è¡¥ç </strong>å½¢å¼å­˜å‚¨çš„, ä½†pythonæ²¡æœ‰int/longç­‰ä¸åŒé•¿åº¦çš„æ•´å½¢, pythonç¼–ç¨‹æ— éœ€å…³å¿ƒæ•´å½¢å˜é‡ä½æ•°.</p>
<p>pyçš„æ•´å½¢æ•°å­—å¯ä»¥è§†ä¸ºæ˜¯ä»¥ä¸€ä¸ªæ— é™é•¿çš„ä½å­˜å‚¨æ–¹å¼æ¥å®ç°çš„: </p>
<ul>
<li>æ¯”å¦‚æ­£æ•°<code>1</code>å…¶å®æ˜¯<code>000000000000000000000000...000000000001</code>, <strong>è¿œä¸æ­¢32ä½</strong>, è€Œ..å¦‚æœæ˜¯c++çš„32ä½çš„æ­£æ•°<code>1</code>åˆ™åªæ˜¯<code>0x00000001</code></li>
<li>è€Œæ¯”å¦‚pyçš„è´Ÿæ•°<code>-1</code>çš„è¡¥ç å­˜å‚¨åˆ™æ˜¯  <code>111111111111111111111111111...111</code>, <strong>è¿œä¸æ­¢32ä½</strong>, è€Œ..å¦‚æœæ˜¯c++çš„32ä½çš„è´Ÿæ•°<code>-1</code>åˆ™åªæ˜¯<code>0xffffffff</code></li>
</ul>
<p>ä½†æ˜¯python:  </p>
<ul>
<li>Python ä¸­ bin ä¸€ä¸ªè´Ÿæ•°ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰ï¼Œæ‰“å°è¾“å‡ºçš„å´æ˜¯å®ƒçš„åŸç çš„äºŒè¿›åˆ¶è¡¨ç¤ºåŠ ä¸Šä¸ªè´Ÿå·ï¼Œæ–¹ä¾¿æŸ¥çœ‹ï¼ˆæ–¹ä¾¿ä¸ªé¬¼å•Šï¼‰</li>
<li>æ‰€ä»¥æƒ³çœ‹pythonè´Ÿæ•°çš„è¡¥ç å¾—ç”¨å¥¹å’Œ0xffffffffè¿›è¡Œä¸æ“ä½œ, å¯ä»¥ç†è§£ä¸ºè¶…è¿‡32ä½çš„ä¸œè¥¿å°±ä¸è¿›è¡Œè€ƒè™‘äº†ï¼Œç›´æ¥æ¥æŸ¥çœ‹å32ä½</li>
<li><strong>é‡ç‚¹</strong>: é‚£å¦‚æœæƒ³ä»ä¸€ä¸ªè´Ÿæ•°çš„è¡¥ç è¿˜åŸæˆpythonçš„è´Ÿæ•°, æ¯”å¦‚æŠŠ<code>-3</code>çš„è¡¥ç <code>0xfffffffd</code>è¿˜åŸæˆpythonçš„è´Ÿæ•°, å› ä¸ºpyçš„æ•´å½¢æ•°å­—å¯ä»¥è§†ä¸ºæ˜¯ä»¥ä¸€ä¸ªæ— é™é•¿çš„ä½å­˜å‚¨æ–¹å¼æ¥å®ç°çš„, æ‰€ä»¥ç›´æ¥<code>print 0xfffffffd</code>ä»–ä¼šæ‰“å°<code>4294967293</code>, å› ä¸ºpythonæŠŠ<code>0xfffffffd</code>å½“æˆäº†<code>0x000000000fffffffd</code>, ç¬¦å·ä½åœ¨æœ€å‰é¢ä¸º0, å½“æˆæ­£æ•°äº†, æ‰€ä»¥æˆ‘ä»¬å¾—å¯¹å®ƒçš„å32ä½ä¹‹å‰çš„æ‰€æœ‰0éƒ½å–åå˜ä¸º1, è¿™æ ·ç¬¦å·ä½ä¸º1æ‰æ˜¯pythonå­˜å‚¨<code>-1</code>çš„çœŸæ­£è¡¥ç å½¢å¼, æ‰€ä»¥å¯¹äºä¸€ä¸ªè´Ÿæ•°<code>res</code>æ¥è¯´, å¾—è¿™ä¹ˆè¿˜åŸ: <code>~(res ^ 0xffffffff)</code>, è¦å…ˆå°† æœ«å°¾32 ä½å–åï¼ˆå³ <code>res ^ 0xffffffff</code> ï¼‰ï¼Œå†å°†æ‰€æœ‰ä½å–åï¼ˆå³ ~ ). ä¸¤ä¸ªç»„åˆæ“ä½œå®è´¨ä¸Šæ˜¯å°†æ•°å­— æœ«å°¾32 ä»¥å‰çš„ä½å–åï¼Œ æœ«å°¾32 ä½ä¸å˜ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = bin(<span class="number">3</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># out: 0b11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python ä¸­ bin ä¸€ä¸ªè´Ÿæ•°ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment"># æ‰“å°è¾“å‡ºçš„å´æ˜¯å®ƒçš„åŸç çš„äºŒè¿›åˆ¶è¡¨ç¤ºåŠ ä¸Šä¸ªè´Ÿå·ï¼Œæ–¹ä¾¿æŸ¥çœ‹ï¼ˆæ–¹ä¾¿ä¸ªé¬¼å•Šï¼‰</span></span><br><span class="line">a = bin(<span class="number">-3</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># out: -0b11</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ‰€ä»¥æƒ³çœ‹pythonè´Ÿæ•°çš„è¡¥ç å¾—ç”¨å¥¹å’Œ0xffffffffè¿›è¡Œä¸æ“ä½œ,</span></span><br><span class="line"><span class="comment"># å¯ä»¥ç†è§£ä¸ºè¶…è¿‡32ä½çš„ä¸œè¥¿å°±ä¸è¿›è¡Œè€ƒè™‘äº†ï¼Œç›´æ¥æ¥æŸ¥çœ‹å32ä½</span></span><br><span class="line">b = bin(<span class="number">-3</span> &amp; <span class="number">0xffffffff</span>)</span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># out: 0b11111111111111111111111111111101</span></span><br><span class="line"></span><br><span class="line">b = <span class="number">0xfffffffd</span></span><br><span class="line">b = ~(b ^ <span class="number">0xffffffff</span>)</span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># out: -3</span></span><br></pre></td></tr></table></figure>
<h2 id="äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°"><a href="#äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°" class="headerlink" title="äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°"></a>äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</h2><p><a href="https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof" target="_blank" rel="noopener">å‰‘æŒ‡15</a><br>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼ŒæŠŠ 9 è¡¨ç¤ºæˆäºŒè¿›åˆ¶æ˜¯ 1001ï¼Œæœ‰ 2 ä½æ˜¯ 1ã€‚å› æ­¤ï¼Œå¦‚æœè¾“å…¥ 9ï¼Œåˆ™è¯¥å‡½æ•°è¾“å‡º 2ã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼š00000000000000000000000000001011<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º â€˜1â€™ã€‚</p>
<p>å…¶å®è¿™é“é¢˜ç”¨pythonæ¥è§£ä¸æ˜¯å¾ˆèˆ’æœ, æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨é€‚ç”¨äºå¤§å¤šæ•°è¯­è¨€çš„æ€è·¯æ¥å†™ä»£ç .<br>å› ä¸ºpythonçš„intå‹æ˜¯æ— é™é•¿åº¦çš„, æ‰€ä»¥æˆ‘ä»¬å‡å®šnä½64ä½, æˆ‘ä»¬ä¸èƒ½ç”¨æŠŠnå³ç§»ä½çš„æ€è·¯, å› ä¸ºå¤§å¤šæ•°è¯­è¨€å¯¹äºè´Ÿæ•°çš„äºŒè¿›åˆ¶è¡¨è¾¾éƒ½æ˜¯è¡¥ç å…¶ç¬¦å·ä½æ˜¯1(pythonçš„è´Ÿæ•°è¡¨è¾¾ä¸å¤ªä¸€æ ·, -2æ‰“å°å‡ºæ¥è¡¨ç¤ºä¸º<code>-0b10</code>, ä½†å®é™…ä¸Šå†…å­˜ä¸­è¿˜æ˜¯ä»¥è¡¥ç æ¥å­˜çš„, ä¸º<code>11111110</code>, æ‰€ä»¥ä¸‹æ–¹ä»£ç å¯¹äºpythonä¹Ÿæ˜¯å¯¹çš„), å³ç§»çš„è¯, å·¦è¾¹æ˜¯è¦è¡¥1çš„, ä»£ç ä¸å¥½å†™.<br>å› æ­¤æˆ‘ä»¬é‡‡å–ç”¨<code>flag=1</code>æ¯æ¬¡å·¦ç§»ä¸€ä½ç„¶åä¸nåšä½ä¸è¿ç®—å³å¯<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_jzo15</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hammingWeight</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬é‡‡å–ç”¨1æ¯æ¬¡å·¦ç§»ä¸€ä½ç„¶åä¸nåšä½ä¸è¿ç®—å³å¯</span></span><br><span class="line">        _flag = <span class="number">1</span></span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        move_cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> _flag:</span><br><span class="line">            <span class="keyword">if</span> n &amp; _flag:</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">            _flag = _flag &lt;&lt; <span class="number">1</span></span><br><span class="line">            move_cnt += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> move_cnt &gt;= <span class="number">64</span>:</span><br><span class="line">                <span class="comment"># å› ä¸ºpythonçš„intå‹æ˜¯æ— é™é•¿åº¦çš„...</span></span><br><span class="line">                <span class="comment"># æ‰€ä»¥è¦ç”¨64æ¬¡é™åˆ¶ä¸€ä¸‹..</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"><a href="#ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•" class="headerlink" title="ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"></a>ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</h2><p><a href="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/" target="_blank" rel="noopener">å‰‘æŒ‡65</a><br>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚<br>ç¤ºä¾‹:<br>è¾“å…¥: a = 1, b = 1<br>è¾“å‡º: 2</p>
<p><a href="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/solution/jin-zhi-tao-wa-ru-he-yong-wei-yun-suan-wan-cheng-j/" target="_blank" rel="noopener">å‚è€ƒ</a><br>ä¸¾ä¸ªä¾‹å­:<br>12 äºŒè¿›åˆ¶ä¸ºï¼š<code>1100</code><br>15 äºŒè¿›åˆ¶ä¸ºï¼š<code>1111</code><br>å„ä½ç½®ä¸Šçš„æ•°å­—åˆ†åˆ«ç›¸åŠ å…ˆä¸ç®¡è¿›ä½çš„é—®é¢˜åˆ™ï¼š<code>1100 + 1111 = 0011</code><br><strong>å¾—åˆ°ä¸´æ—¶ä¸ç®¡è¿›ä½çš„äºŒè¿›åˆ¶ç»“æœ</strong><code>temp</code>: <code>0011</code>(åè¿›åˆ¶ä½3), é‚£ä¸ç”¨åŠ æ³•å¦‚ä½•æ¨¡æ‹Ÿ? å¯ä»¥ç”¨å¼‚æˆ–æ¨¡æ‹Ÿ<br><code>1100 ^ 1111 = 0011</code><br>è®¡ç®—è¿›ä½çš„æ•°å­—, å¾—åˆ°è¿›ä½ç»“æœ: <code>11000</code>(åè¿›åˆ¶ä¸º24), è¿›ä½è®¡ç®—å¦‚ä½•ä¸ç”¨åŠ æ³•æ¨¡æ‹Ÿ?<br><strong>ç›¸ä¸ï¼Œå·¦ç§»ä¸€ä½åˆ™å¯å¾—åˆ°è¿›ä½ç»“æœ</strong><code>carry</code>:<br><code>(1100 &amp; 1111) &lt;&lt; 1 = 11000</code><br>ç„¶å<code>temp + carry</code> åˆ™ä¸º åè¿›åˆ¶çš„<code>3+24=27</code>, ç”¨ä¸Šè¿°çš„æ–¹æ³•å†ç®—ä¸€æ¬¡<code>temp + carry</code><br>åˆ™cppä»£ç å¦‚ä¸‹:<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (b) &#123;</span><br><span class="line">            <span class="comment">// LeetCode c++ ä¸å…è®¸è´Ÿæ•°å·¦ç§»æ“ä½œï¼Œæ‰€ä»¥è¦è½¬æ¢æˆæ— ç¬¦å·æ•´æ•°</span></span><br><span class="line">            <span class="comment">// å½“ç„¶é¢è¯•çš„æ—¶å€™ä¸éœ€è¦è½¬æ¢å“ˆ</span></span><br><span class="line">            <span class="keyword">int</span> carry = (<span class="keyword">unsigned</span> <span class="keyword">int</span>)(a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            a ^= b;</span><br><span class="line">            b = carry;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>å› ä¸º<a href="#pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§">pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§</a>, éœ€è¦ç‰¹æ®Šå¤„ç†ä¸€å“ˆ, å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, a, b)</span>:</span></span><br><span class="line">        a &amp;= <span class="number">0xffffffff</span></span><br><span class="line">        b &amp;= <span class="number">0xffffffff</span></span><br><span class="line">        <span class="keyword">while</span> b != <span class="number">0</span>:</span><br><span class="line">            temp = a ^ b</span><br><span class="line">            carry = (a &amp; b) &lt;&lt; <span class="number">1</span> &amp; <span class="number">0xffffffff</span></span><br><span class="line"></span><br><span class="line">            a = temp</span><br><span class="line">            b = carry</span><br><span class="line">        <span class="comment"># return a if (a &amp; 0xffffffff) &gt;&gt; 31 == 0 else ~(a ^ 0xffffffff)</span></span><br><span class="line">        <span class="keyword">if</span> a &lt; <span class="number">0x80000000</span>:<span class="comment">#å¦‚æœæ˜¯æ­£æ•°çš„è¯ç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> a</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span>  ~(a^<span class="number">0xffffffff</span>)<span class="comment">#æ˜¯è´Ÿæ•°çš„è¯,è½¬åŒ–æˆå…¶åŸç </span></span><br></pre></td></tr></table></figure></p>
<h2 id="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—"><a href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—" class="headerlink" title="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—"></a>åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—</h2><h3 id="å‡ºç°å¥‡æ•°æ¬¡"><a href="#å‡ºç°å¥‡æ•°æ¬¡" class="headerlink" title="å‡ºç°å¥‡æ•°æ¬¡"></a>å‡ºç°å¥‡æ•°æ¬¡</h3><p>é¢˜ç›®: ç»™å®šä¸€ä¸ªå«æœ‰nä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„aï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ å‡ºç°å¥‡æ•°æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸ªå…ƒç´ ã€‚<br>è§£å†³é—®é¢˜çš„å…³é”®æ˜¯è¦æƒ³æ˜ç™½ï¼ŒæŒ‰ä½å¼‚æˆ–è¿ç®—æ»¡è¶³ç»“åˆå¾‹ï¼Œå¶æ•°ä¸ªå¼‚æˆ–ç»“æœæ˜¯0ï¼Œå¥‡æ•°ä¸ªå¼‚æˆ–ç»“æœæ˜¯æœ¬èº«ï¼Œå¦‚<code>1 ^ 2 ^ 3 ^ 1 ^ 2 ^ 3 ^ 3 = (3 ^ 3 ^ 3) ^ (1 ^ 1) ^ (2 ^ 2) = 3^ 0 ^ 0 = 3</code></p>
<h3 id="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1"><a href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1" class="headerlink" title="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1"></a>åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1</h3><p><a href="https://leetcode-cn.com/problems/single-number/" target="_blank" rel="noopener">lc136</a><br>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡å…¨å‘˜å¼‚æˆ–å³å¯</span></span><br><span class="line">        single_number = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            single_number ^= num</span><br><span class="line">        <span class="keyword">return</span> single_number</span><br></pre></td></tr></table></figure></p>
<h3 id="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2"><a href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2" class="headerlink" title="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2"></a>åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2</h3><p><a href="https://leetcode-cn.com/problems/single-number-ii" target="_blank" rel="noopener">lc137</a><br>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°äº†ä¸‰æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚<br>è¯´æ˜ï¼š<br>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ<br>ç¤ºä¾‹ 1:<br>è¾“å…¥: [2,2,3,2]<br>è¾“å‡º: 3<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: [0,1,0,1,0,1,99]<br>è¾“å‡º: 99</p>
<p><a href="https://leetcode-cn.com/problems/single-number-ii/solution/single-number-ii-mo-ni-san-jin-zhi-fa-by-jin407891/" target="_blank" rel="noopener">å‚è€ƒ</a><br>å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º 32 çš„æ•°ç»„ counts ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•å¯è®°å½•æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½çš„ 1 çš„å‡ºç°æ¬¡æ•°ã€‚<br>å°† counts å„å…ƒç´ å¯¹ 3 æ±‚ä½™ï¼Œåˆ™ç»“æœä¸º â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½ã€‚<br>åˆ©ç”¨ å·¦ç§»æ“ä½œ å’Œ æˆ–è¿ç®— ï¼Œå¯å°† counts æ•°ç»„ä¸­å„äºŒè¿›ä½çš„å€¼æ¢å¤åˆ°æ•°å­— res ä¸Š<br>æœ€ç»ˆè¿”å› res å³å¯ã€‚<br>å®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼ m ï¼Œå³å¯å®ç°è§£å†³ é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä½™æ•°å­—éƒ½å‡ºç° m æ¬¡ çš„é€šç”¨é—®é¢˜.<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_lc137</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        counts = [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">32</span>) ]</span><br><span class="line">        <span class="comment"># å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º 32 çš„æ•°ç»„ counts ï¼Œé€šè¿‡ä»¥ä¸Šæ–¹æ³•å¯è®°å½•æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½çš„ 1 çš„å‡ºç°æ¬¡æ•°ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> cur_num <span class="keyword">in</span> nums:</span><br><span class="line">            _flag = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">32</span>):</span><br><span class="line">                <span class="keyword">if</span> cur_num &amp; _flag:</span><br><span class="line">                    counts[j] += <span class="number">1</span></span><br><span class="line">                _flag = _flag &lt;&lt; <span class="number">1</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        m = <span class="number">3</span></span><br><span class="line">        <span class="comment"># å°† counts å„å…ƒç´ å¯¹ 3 æ±‚ä½™ï¼Œåˆ™ç»“æœä¸º â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½ã€‚</span></span><br><span class="line">        <span class="comment"># åˆ©ç”¨ å·¦ç§»æ“ä½œ å’Œ æˆ–è¿ç®— ï¼Œå¯å°† counts æ•°ç»„ä¸­å„äºŒè¿›ä½çš„å€¼æ¢å¤åˆ°æ•°å­— res ä¸Š</span></span><br><span class="line">        <span class="comment"># æœ€ç»ˆè¿”å› res å³å¯ã€‚</span></span><br><span class="line">        <span class="comment"># å®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼ m ï¼Œå³å¯å®ç°è§£å†³ é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œ</span></span><br><span class="line">        <span class="comment"># å…¶ä½™æ•°å­—éƒ½å‡ºç° m æ¬¡ çš„é€šç”¨é—®é¢˜.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">32</span>):</span><br><span class="line">            res &lt;&lt;= <span class="number">1</span></span><br><span class="line">            res |= counts[<span class="number">31</span>-i] % m</span><br><span class="line">        <span class="comment"># é‚£å¦‚æœæƒ³ä»ä¸€ä¸ªè´Ÿæ•°çš„è¡¥ç è¿˜åŸæˆpythonçš„è´Ÿæ•°, </span></span><br><span class="line">        <span class="comment"># æ¯”å¦‚æŠŠ`-3`çš„è¡¥ç `0xfffffffd`è¿˜åŸæˆpythonçš„è´Ÿæ•°,</span></span><br><span class="line">        <span class="comment">#  å› ä¸ºpyçš„æ•´å½¢æ•°å­—å¯ä»¥è§†ä¸ºæ˜¯ä»¥ä¸€ä¸ªæ— é™é•¿çš„ä½å­˜å‚¨æ–¹å¼æ¥å®ç°çš„,</span></span><br><span class="line">        <span class="comment">#   æ‰€ä»¥ç›´æ¥`print 0xfffffffd`ä»–ä¼šæ‰“å°`4294967293`,</span></span><br><span class="line">        <span class="comment">#    å› ä¸ºpythonæŠŠ`0xfffffffd`å½“æˆäº†`0x000000000fffffffd`, </span></span><br><span class="line">        <span class="comment">#    ç¬¦å·ä½åœ¨æœ€å‰é¢ä¸º0, å½“æˆæ­£æ•°äº†, æ‰€ä»¥æˆ‘ä»¬å¾—å¯¹å®ƒçš„å32ä½ä¹‹å‰çš„æ‰€æœ‰0éƒ½å–åå˜ä¸º1,</span></span><br><span class="line">        <span class="comment">#     è¿™æ ·ç¬¦å·ä½ä¸º1æ‰æ˜¯pythonå­˜å‚¨`-1`çš„çœŸæ­£è¡¥ç å½¢å¼,</span></span><br><span class="line">        <span class="comment"># 	 æ‰€ä»¥å¯¹äºä¸€ä¸ªè´Ÿæ•°`res`æ¥è¯´, å¾—è¿™ä¹ˆè¿˜åŸ: `~(res ^ 0xffffffff)`, </span></span><br><span class="line">        <span class="comment"># 	 è¦å…ˆå°† æœ«å°¾32 ä½å–åï¼ˆå³ res ^ 0xffffffff ï¼‰ï¼Œå†å°†æ‰€æœ‰ä½å–åï¼ˆå³ ~ ).</span></span><br><span class="line">        <span class="comment"># 	  ä¸¤ä¸ªç»„åˆæ“ä½œå®è´¨ä¸Šæ˜¯å°†æ•°å­— æœ«å°¾32 ä»¥å‰çš„ä½å–åï¼Œ æœ«å°¾32 ä½ä¸å˜ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> res <span class="keyword">if</span> (counts[<span class="number">31</span>] % m) == <span class="number">0</span> <span class="keyword">else</span> ~(res ^ <span class="number">0xffffffff</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3"><a href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3" class="headerlink" title="åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3"></a>åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3</h3><p><a href="https://leetcode-cn.com/problems/single-number-iii" target="_blank" rel="noopener">lc260</a><br>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚<br>ç¤ºä¾‹ :<br>è¾“å…¥: [1,2,1,3,2,5]<br>è¾“å‡º: [3,5]<br>æ³¨æ„ï¼š<br>ç»“æœè¾“å‡ºçš„é¡ºåºå¹¶ä¸é‡è¦ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œ [5, 3] ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚<br>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥å®ç°ï¼Ÿ</p>
<p><a href="https://leetcode-cn.com/problems/single-number-iii/solution/java-yi-huo-100-yao-shi-kan-bu-dong-wo-jiu-qu-chu-/" target="_blank" rel="noopener">å‚è€ƒ</a><br>ç°åœ¨æ•°ç»„ä¸­æœ‰ä¸¤ä¸ªæ•°å­—åªå‡ºç°1æ¬¡ï¼Œç›´æ¥å¼‚æˆ–ä¸€æ¬¡åªèƒ½å¾—åˆ°è¿™ä¸¤ä¸ªæ•°å­—çš„å¼‚æˆ–ç»“æœï¼Œä½†å…‰ä»è¿™ä¸ªç»“æœè‚¯å®šæ— æ³•å¾—åˆ°è¿™ä¸ªä¸¤ä¸ªæ•°å­—ã€‚å› æ­¤åŸºäºsingle number I çš„æ€è·¯â€”â€”æ•°ç»„åªèƒ½æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°1æ¬¡ã€‚</p>
<p>è®¾é¢˜ç›®ä¸­è¿™ä¸¤ä¸ªåªå‡ºç°1æ¬¡çš„æ•°å­—åˆ†åˆ«ä¸ºAå’ŒBï¼Œå¦‚æœèƒ½å°†Aï¼ŒBåˆ†å¼€åˆ°äºŒä¸ªæ•°ç»„ä¸­ï¼Œé‚£æ˜¾ç„¶ç¬¦åˆâ€œå¼‚æˆ–â€è§£æ³•çš„å…³é”®ç‚¹äº†ã€‚</p>
<p>å› æ­¤è¿™ä¸ªé¢˜ç›®çš„å…³é”®ç‚¹å°±æ˜¯å°†Aï¼ŒBåˆ†å¼€åˆ°äºŒä¸ªæ•°ç»„ä¸­ã€‚ç”±äºAï¼ŒBè‚¯å®šæ˜¯ä¸ç›¸ç­‰çš„ï¼Œå› æ­¤åœ¨äºŒè¿›åˆ¶ä¸Šå¿…å®šæœ‰ä¸€ä½æ˜¯ä¸åŒçš„ã€‚æ ¹æ®è¿™ä¸€ä½æ˜¯0è¿˜æ˜¯1å¯ä»¥å°†Aï¼ŒBåˆ†å¼€åˆ°Aç»„å’ŒBç»„ã€‚è€Œè¿™ä¸ªæ•°ç»„ä¸­å…¶å®ƒæ•°å­—è¦ä¹ˆå°±å±äºAç»„ï¼Œè¦ä¹ˆå°±å±äºBç»„ã€‚å†å¯¹Aç»„å’ŒBç»„åˆ†åˆ«æ‰§è¡Œâ€œå¼‚æˆ–â€è§£æ³•å°±å¯ä»¥å¾—åˆ°Aï¼ŒBäº†ã€‚è€Œè¦åˆ¤æ–­Aï¼ŒBåœ¨å“ªä¸€ä½ä¸Šä¸ç›¸åŒï¼Œåªè¦æ ¹æ®Aå¼‚æˆ–Bçš„ç»“æœå°±å¯ä»¥çŸ¥é“äº†ï¼Œè¿™ä¸ªç»“æœåœ¨äºŒè¿›åˆ¶ä¸Šä¸º1çš„ä½å°±è¯´æ˜Aï¼ŒBåœ¨è¿™ä¸€ä½ä¸Šæ˜¯ä¸ç›¸åŒçš„ã€‚</p>
<p>æ¯”å¦‚ <code>int a[] = {1, 1, 3, 5, 2, 2}</code>, æ•´ä¸ªæ•°ç»„å¼‚æˆ–çš„ç»“æœä¸º<code>3^5</code>ï¼Œå³ <code>0b0011 ^ 0b0101 = 0b0110</code>, è€Œ<br><code>0b0110</code>åˆ™è¡¨ç¤º3å’Œ5è¿™ä¸¤ä¸ªæ•°åœ¨ç¬¬1ä½å’Œç¬¬2ä½ä¸åŒã€‚æˆ‘ä»¬å–ç¬¬1ä½æ¥åˆ†ç»„(å½“ç„¶å–ç¬¬2ä½æ¥åˆ†ç»„ä¹Ÿå¯ä»¥), å› æ­¤æ•´ä¸ªæ•°ç»„æ ¹æ®è¿™ä¸€ä½æ˜¯0è¿˜æ˜¯1åˆ†æˆä¸¤ç»„ã€‚<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a[0] =1  0b0001  ç¬¬ä¸€ç»„</span><br><span class="line">a[1] =1  0b0001  ç¬¬ä¸€ç»„</span><br><span class="line">a[2] =3  0b0011  ç¬¬äºŒç»„</span><br><span class="line">a[3] =5  0b0101  ç¬¬ä¸€ç»„</span><br><span class="line">a[4] =2  0b0010  ç¬¬äºŒç»„</span><br><span class="line">a[5] =2  0b0010  ç¬¬äºŒç»„</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬ä¸€ç»„æœ‰{1,1,5}ï¼Œç¬¬äºŒç»„æœ‰{3,2,2}ï¼Œç„¶åå¯¹è¿™äºŒç»„åˆ†åˆ«æ‰§è¡Œâ€œå¼‚æˆ–â€è§£æ³•å°±å¯ä»¥å¾—åˆ°5å’Œ3äº†ã€‚ ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">    ret = <span class="number">0</span>  <span class="comment"># æ‰€æœ‰æ•°å­—å¼‚æˆ–çš„ç»“æœ</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">        ret ^= n</span><br><span class="line">    <span class="comment"># æ‰¾åˆ°ç¬¬ä¸€ä½ä¸æ˜¯0çš„</span></span><br><span class="line">    h = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span>(ret &amp; h == <span class="number">0</span>):</span><br><span class="line">        h &lt;&lt;= <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">        <span class="comment"># æ ¹æ®è¯¥ä½æ˜¯å¦ä¸º0å°†å…¶åˆ†ä¸ºä¸¤ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (h &amp; n == <span class="number">0</span>):</span><br><span class="line">            a ^= n</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            b ^= n</span><br><span class="line">    <span class="keyword">return</span> [a, b]</span><br></pre></td></tr></table></figure></p>
<h1 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h1><h2 id="å„ç±»æ’åºæ€»è§ˆ"><a href="#å„ç±»æ’åºæ€»è§ˆ" class="headerlink" title="å„ç±»æ’åºæ€»è§ˆ"></a>å„ç±»æ’åºæ€»è§ˆ</h2><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/sort_algo_complexity.png" alt title="å„ç±»æ’åºç®—æ³•çš„å¤æ‚åº¦"></p>
<ul>
<li>æ¯”è¾ƒäº¤æ¢ç±»æ’åº:<ul>
<li>å †æ’åº</li>
<li>å¿«æ’</li>
<li>æ’æ’</li>
<li>å†’æ³¡æ’åº</li>
<li>é€‰æ‹©æ’åº</li>
<li>å¸Œå°”æ’åº</li>
</ul>
</li>
<li>æ¡¶æ€æƒ³ç±»æ’åº:<ul>
<li>åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ï¼›</li>
<li>è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼ï¼›</li>
<li>æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼ï¼›</li>
</ul>
</li>
</ul>
<h2 id="ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ"><a href="#ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ" class="headerlink" title="ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ"></a>ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ</h2><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p>æ¯ä¸€è½®å¾ªç¯éƒ½ä¼šæœ‰ä¸€ä¸ªæœ€å¤§çš„æ•°æ…¢æ…¢ç§»åŠ¨åˆ°æœ€å, å¾ˆåƒæ˜¯å†’å‡ºä¸€ä¸ªæ³¡æ³¡, å› è€Œå¾—å.<br>ç®—æ³•æ­¥éª¤:  </p>
<ol>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚</li>
<li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚</li>
</ol>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/uncommon_sort_algo/bubble_sort.mp4" type="video/mp4"><br></video>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> arr_len)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr_len; ++i)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; arr_len; ++j)&#123;</span><br><span class="line">      <span class="keyword">if</span>(arr[i] &gt; arr[j])&#123;</span><br><span class="line">        <span class="keyword">auto</span> temp = arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p>é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶å<strong>é€‰æ‹©å®ƒ</strong>å­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ã€‚<br>å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶å<strong>é€‰æ‹©å®ƒ</strong>æ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚<br>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/selection_sort.gif" alt></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> arr_len)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr_len; ++i)&#123;</span><br><span class="line">    <span class="keyword">auto</span> cur_min_index = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; arr_len; ++j)&#123;</span><br><span class="line">      <span class="keyword">if</span>(arr[cur_min_index] &gt; arr[j])&#123;</span><br><span class="line">        cur_min_index = j;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> temp = arr[i];</span><br><span class="line">    arr[i] = arr[cur_min_index];</span><br><span class="line">    arr[cur_min_index] = temp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><p>å¸Œå°”æ’åº(Shell Sort)æ˜¯æ’å…¥æ’åºçš„ä¸€ç§ç®—æ³•ï¼Œæ˜¯å¯¹ç›´æ¥æ’å…¥æ’åºçš„ä¸€ä¸ªä¼˜åŒ–ï¼Œä¹Ÿç§°ç¼©å°å¢é‡æ’åºã€‚å¸Œå°”æ’åºæ˜¯éç¨³å®šæ’åºç®—æ³•ã€‚å¸Œå°”æ’åºå› DLï¼Shelläº1959å¹´æå‡ºè€Œå¾—åã€‚</p>
<p>ç®€å•æ’å…¥æ’åºå¾ˆå¾ªè§„è¹ˆçŸ©ï¼Œä¸ç®¡æ•°ç»„åˆ†å¸ƒæ˜¯æ€ä¹ˆæ ·çš„ï¼Œä¾ç„¶ä¸€æ­¥ä¸€æ­¥çš„å¯¹å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œç§»åŠ¨ï¼Œæ’å…¥ï¼Œæ¯”å¦‚[5,4,3,2,1,0]è¿™ç§å€’åºåºåˆ—ï¼Œæ•°ç»„æœ«ç«¯çš„0è¦å›åˆ°é¦–ä½ç½®å¾ˆæ˜¯è´¹åŠ²ï¼Œæ¯”è¾ƒå’Œç§»åŠ¨å…ƒç´ å‡éœ€n-1æ¬¡ã€‚</p>
<p>è€Œå¸Œå°”æ’åºåœ¨æ•°ç»„ä¸­é‡‡ç”¨è·³è·ƒå¼åˆ†ç»„çš„ç­–ç•¥ï¼Œé€šè¿‡æŸä¸ªå¢é‡å°†æ•°ç»„å…ƒç´ åˆ’åˆ†ä¸ºè‹¥å¹²ç»„ï¼Œç„¶ååˆ†ç»„è¿›è¡Œæ’å…¥æ’åºï¼Œéšåé€æ­¥ç¼©å°å¢é‡ï¼Œç»§ç»­æŒ‰ç»„è¿›è¡Œæ’å…¥æ’åºæ“ä½œï¼Œç›´è‡³å¢é‡ä¸º1æ—¶æ’å®Œå°±å®Œæ¯•äº†ã€‚</p>
<p>å¸Œå°”æ’åºé€šè¿‡è¿™ç§ç­–ç•¥ä½¿å¾—æ•´ä¸ªæ•°ç»„åœ¨åˆå§‹é˜¶æ®µè¾¾åˆ°ä»å®è§‚ä¸Šçœ‹åŸºæœ¬æœ‰åºï¼Œå°çš„åŸºæœ¬åœ¨å‰ï¼Œå¤§çš„åŸºæœ¬åœ¨åã€‚ç„¶åç¼©å°å¢é‡ï¼Œåˆ°å¢é‡ä¸º1æ—¶ï¼Œå…¶å®å¤šæ•°æƒ…å†µä¸‹åªéœ€å¾®è°ƒå³å¯ï¼Œä¸ä¼šæ¶‰åŠè¿‡å¤šçš„æ•°æ®ç§»åŠ¨, æ­¤æ—¶æ’åºå®Œæ¯•äº†.</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/shell_sort_1.png" alt></p>
<h3 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h3><p>è®©æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ç»å…¸çš„æ’åºç®—æ³•ï¼Œæ— è®ºæ˜¯å½’å¹¶æ’åºï¼Œå†’æ³¡æ’åºè¿˜æ˜¯å¿«é€Ÿæ’åºç­‰ç­‰ï¼Œéƒ½æ˜¯åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒæ¥è¿›è¡Œæ’åºçš„ã€‚ä½†æ˜¯æœ‰ä¸€ç§ç‰¹æ®Šçš„æ’åºç®—æ³•å«è®¡æ•°æ’åºï¼Œ<strong>è¿™ç§æ’åºç®—æ³•ä¸æ˜¯åŸºäºå…ƒç´ æ¯”è¾ƒï¼Œè€Œæ˜¯åˆ©ç”¨æ•°ç»„ä¸‹æ ‡æ¥ç¡®å®šå…ƒç´ çš„æ­£ç¡®ä½ç½®ã€‚</strong></p>
<p>æœ‰è¿™æ ·ä¸€é“æ’åºé¢˜ï¼šæ•°ç»„é‡Œæœ‰20ä¸ªéšæœºæ•°ï¼Œå–å€¼èŒƒå›´ä¸ºä»0åˆ°10ï¼Œè¦æ±‚ç”¨æœ€å¿«çš„é€Ÿåº¦æŠŠè¿™20ä¸ªæ•´æ•°ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚è¯·é—®æ€ä¹ˆåš?</p>
<p>åœ¨è¿™ä¸ªé¢˜ç›®é‡Œï¼Œéšå³æ•´æ•°çš„å–å€¼èŒƒå›´æ˜¯ä»0åˆ°10ï¼Œé‚£ä¹ˆè¿™äº›æ•´æ•°çš„å€¼è‚¯å®šæ˜¯åœ¨0åˆ°10è¿™11ä¸ªæ•°é‡Œé¢ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º11çš„æ•°ç»„ï¼Œæ•°ç»„ä¸‹æ ‡ä»0åˆ°10ï¼Œå…ƒç´ åˆå§‹å€¼å…¨ä¸º0ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/counting_sot_1.jpg" alt><br>å…ˆå‡è®¾20ä¸ªéšæœºæ•´æ•°çš„å€¼æ˜¯ï¼š9, 3, 5, 4, 9, 1, 2, 7, 8ï¼Œ1ï¼Œ3, 6, 5, 3, 4, 0, 10, 9, 7, 9<br>è®©æˆ‘ä»¬å…ˆéå†è¿™ä¸ªæ— åºçš„éšæœºæ•°ç»„ï¼Œæ¯ä¸€ä¸ªæ•´æ•°æŒ‰ç…§å…¶å€¼å¯¹å·å…¥åº§ï¼Œå¯¹åº”æ•°ç»„ä¸‹æ ‡çš„å…ƒç´ è¿›è¡ŒåŠ 1æ“ä½œã€‚<br>æ¯”å¦‚ç¬¬ä¸€ä¸ªæ•´æ•°æ˜¯9ï¼Œé‚£ä¹ˆæ•°ç»„ä¸‹æ ‡ä¸º9çš„å…ƒç´ åŠ 1ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/counting_sot_2.jpg" alt><br>ç¬¬äºŒä¸ªæ•´æ•°æ˜¯3ï¼Œé‚£ä¹ˆæ•°ç»„ä¸‹æ ‡ä¸º3çš„å…ƒç´ åŠ 1ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/counting_sot_3.jpg" alt><br>ç»§ç»­éå†æ•°åˆ—å¹¶ä¿®æ”¹æ•°ç»„â€¦â€¦<br>æœ€ç»ˆï¼Œæ•°åˆ—éå†å®Œæ¯•æ—¶ï¼Œæ•°ç»„çš„çŠ¶æ€å¦‚ä¸‹ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/counting_sot_4.jpg" alt><br>æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼Œä»£è¡¨äº†æ•°åˆ—ä¸­å¯¹åº”æ•´æ•°çš„å‡ºç°æ¬¡æ•°ã€‚<br>æœ‰äº†è¿™ä¸ªç»Ÿè®¡ç»“æœï¼Œæ’åºå°±å¾ˆç®€å•äº†ï¼Œç›´æ¥éå†æ•°ç»„ï¼Œè¾“å‡ºæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡å€¼ï¼Œå…ƒç´ çš„å€¼æ˜¯å‡ ï¼Œå°±è¾“å‡ºå‡ æ¬¡ï¼š<br><code>0, 1, 1, 2, 3, 3, 3, 4, 4, 5, 5, 6, 7, 7, 8, 9, 9, 9, 9, 10</code><br>æ˜¾ç„¶ï¼Œè¿™ä¸ªè¾“å‡ºçš„æ•°åˆ—å·²ç»æ˜¯æœ‰åºçš„äº†ã€‚</p>
<p>è¿™å°±æ˜¯è®¡æ•°æ’åºçš„åŸºæœ¬è¿‡ç¨‹ï¼Œå®ƒé€‚ç”¨äºä¸€å®šèŒƒå›´çš„æ•´æ•°æ’åºã€‚åœ¨å–å€¼èŒƒå›´ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„æ€§èƒ½åœ¨æŸäº›æƒ…å†µç”šè‡³å¿«è¿‡é‚£äº›O(nlogn)çš„æ’åºï¼Œä¾‹å¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€‚</p>
<h3 id="æ¡¶æ’åº"><a href="#æ¡¶æ’åº" class="headerlink" title="æ¡¶æ’åº"></a>æ¡¶æ’åº</h3><p>æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°è¿™ä¸¤ç‚¹ï¼š  </p>
<ul>
<li>åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡</li>
<li>ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­</li>
</ul>
<p>åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚</p>
<ul>
<li>ä»€ä¹ˆæ—¶å€™æœ€å¿«: å½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­ã€‚</li>
<li>ä»€ä¹ˆæ—¶å€™æœ€æ…¢: å½“è¾“å…¥çš„æ•°æ®è¢«åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­<ul>
<li><strong>å¦‚ä½•è§£å†³åˆ†å¸ƒä¸å¹³å‡çš„æƒ…å†µ</strong>: è¿ç”¨å¤šå±‚æ¡¶çš„æ€æƒ³, æ¯”å¦‚æ¸¸æˆæ’è¡Œæ¦œå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æ¡¶æ’åºé€‚ç”¨åœºæ™¯, é’ˆå¯¹è¿™äº›åˆ’åˆ†ä¹‹åè¿˜æ˜¯æœ‰ä¸€äº›æ¡¶åŒºé—´æ•°é‡éå¸¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åˆ’åˆ†ï¼Œæ¯”å¦‚ï¼Œæˆ˜åŠ›åœ¨1åˆ°1000ä¹‹é—´çš„ç©å®¶æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬å°±å°†è¿™ä¸ªåŒºé—´ç»§ç»­åˆ’åˆ†ä¸º10ä¸ªå°åŒºé—´ï¼Œ1åˆ°100ï¼Œ101åˆ°200ï¼Œ201åˆ°300â€¦901åˆ°1000ã€‚å¦‚æœåˆ’åˆ†ä¹‹åï¼Œ101åˆ°200å…ƒä¹‹é—´çš„è¿˜æ˜¯å¤ªå¤šï¼Œé‚£å°±ç»§ç»­å†åˆ’åˆ†</li>
</ul>
</li>
</ul>
<p>å…ƒç´ åˆ†å¸ƒåœ¨æ¡¶ä¸­ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/bucket_sort_1.png" alt><br>ç„¶åï¼Œå…ƒç´ åœ¨æ¯ä¸ªæ¡¶ä¸­æ’åºï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/bucket_sort_2.png" alt></p>
<h3 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h3><p>åŸºæ•°æ’åºæ˜¯ä¸€ç§éæ¯”è¾ƒå‹æ•´æ•°æ’åºç®—æ³•ï¼Œå…¶åŸç†æ˜¯å°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚ç”±äºæ•´æ•°ä¹Ÿå¯ä»¥è¡¨è¾¾å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—æˆ–æ—¥æœŸï¼‰å’Œç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥åŸºæ•°æ’åºä¹Ÿä¸æ˜¯åªèƒ½ä½¿ç”¨äºæ•´æ•°ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/radix_sort_1.png" alt title="åŸºæ•°æ’åºé™æ€ç¤ºæ„å›¾"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/uncommon_sort_algo/radix_sort_2.gif" alt title="åŸºæ•°æ’åºåŠ¨ç”»æ¼”ç¤º"></p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">radix_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    i = <span class="number">0</span>  <span class="comment"># è®°å½•å½“å‰æ­£åœ¨æ’æ‹¿ä¸€ä½,æœ€ä½ä½ä¸º1</span></span><br><span class="line">    max_num = max(s)  <span class="comment"># æœ€å¤§å€¼</span></span><br><span class="line">    j = len(str(max_num))  <span class="comment"># è®°å½•æœ€å¤§å€¼çš„ä½æ•°</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; j:</span><br><span class="line">        bucket_list = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">10</span>)]  <span class="comment"># åˆå§‹åŒ–æ¡¶æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> s:</span><br><span class="line">            bucket_list[int(x / (<span class="number">10</span> ** i)) % <span class="number">10</span>].append(x)  <span class="comment"># æ‰¾åˆ°ä½ç½®æ”¾å…¥æ¡¶æ•°ç»„</span></span><br><span class="line">        print(bucket_list)</span><br><span class="line">        s.clear()</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> bucket_list:  <span class="comment"># æ”¾å›åŸåºåˆ—</span></span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> x:</span><br><span class="line">                s.append(y)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">334</span>, <span class="number">5</span>, <span class="number">67</span>, <span class="number">345</span>, <span class="number">7</span>, <span class="number">345345</span>, <span class="number">99</span>, <span class="number">4</span>, <span class="number">23</span>, <span class="number">78</span>, <span class="number">45</span>, <span class="number">1</span>, <span class="number">3453</span>, <span class="number">23424</span>]</span><br><span class="line">radix_sort(a)</span><br><span class="line">print(<span class="string">'æœ€åçš„ç»“æœæ˜¯:'</span>, a)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">[[], [1], [], [23, 3453], [334, 4, 23424], [5, 345, 345345, 45], [], [67, 7], [78], [99]]</span></span><br><span class="line"><span class="string">[[1, 4, 5, 7], [], [23, 23424], [334], [345, 345345, 45], [3453], [67], [78], [], [99]]</span></span><br><span class="line"><span class="string">[[1, 4, 5, 7, 23, 45, 67, 78, 99], [], [], [334, 345, 345345], [23424, 3453], [], [], [], [], []]</span></span><br><span class="line"><span class="string">[[1, 4, 5, 7, 23, 45, 67, 78, 99, 334, 345], [], [], [23424, 3453], [], [345345], [], [], [], []]</span></span><br><span class="line"><span class="string">[[1, 4, 5, 7, 23, 45, 67, 78, 99, 334, 345, 3453], [], [23424], [], [345345], [], [], [], [], []]</span></span><br><span class="line"><span class="string">[[1, 4, 5, 7, 23, 45, 67, 78, 99, 334, 345, 3453, 23424], [], [], [345345], [], [], [], [], [], []]</span></span><br><span class="line"><span class="string">æœ€åçš„ç»“æœæ˜¯: [1, 4, 5, 7, 23, 45, 67, 78, 99, 334, 345, 3453, 23424, 345345]</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure></p>
<h2 id="å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“"><a href="#å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“" class="headerlink" title="å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“"></a>å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“</h2><ul>
<li>å®ç”¨çš„åŸºç¡€æ’åºç®—æ³•æœ‰å››ç§:<ul>
<li><a href="#æ’å…¥æ’åº"><strong>æ’å…¥æ’åº</strong></a> : åœ¨å°æ•°æ®é‡æˆ–è€…æ•°æ®éƒ½è¾ƒä¸ºæœ‰åºçš„æ—¶å€™æ¯”èµ·å½’å¹¶å’Œå¿«é€Ÿæ’åºæœ‰æ›´ä½³çš„æ—¶é—´æ•ˆç‡, æ’å…¥æ’åºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä»å¤´åˆ°å°¾æ‰«æä¸€éï¼Œäº¤æ¢ã€ç§»åŠ¨å°‘æ•°å…ƒç´ å³å¯ï¼›æ—¶é—´å¤æ‚åº¦è¿‘ä¹ o(N)))ã€‚ æ‰€ä»¥æ’å…¥æ’åºç»å¸¸å¯ä»¥å½“ä½œæ˜¯å…¶ä»–æ’åºç®—æ³•çš„å­è¿‡ç¨‹, ä¸‹é¢ä»£ç ä¼šæœ‰ä½“ç°</li>
<li><a href="#å¿«é€Ÿæ’åº"><strong>å¿«é€Ÿæ’åº</strong></a> : æ—¶é—´å¤æ‚åº¦ä¾èµ–æ•°æ®æ‰“ä¹±çš„ç¨‹åº¦<ul>
<li>å¿«æ’æœ€å·®æƒ…å½¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n2), å¹³å‡æ˜¯O(nlogn)</li>
<li>å°±åœ°å¿«é€Ÿæ’åºä½¿ç”¨çš„ç©ºé—´æ˜¯O(1)çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ªå¸¸æ•°çº§ï¼›è€ŒçœŸæ­£æ¶ˆè€—ç©ºé—´çš„å°±æ˜¯é€’å½’è°ƒç”¨äº†ï¼Œå› ä¸ºæ¯æ¬¡é€’å½’å°±è¦ä¿æŒä¸€äº›æ•°æ®ï¼›<ul>
<li>æœ€ä¼˜çš„æƒ…å†µä¸‹ç©ºé—´å¤æ‚åº¦ä¸ºï¼šO(logn) ï¼›æ¯ä¸€æ¬¡éƒ½å¹³åˆ†æ•°ç»„çš„æƒ…å†µ</li>
<li>æœ€å·®çš„æƒ…å†µä¸‹ç©ºé—´å¤æ‚åº¦ä¸ºï¼šO( n ) ï¼›é€€åŒ–ä¸ºå†’æ³¡æ’åºçš„æƒ…å†µ</li>
</ul>
</li>
<li>é€‰æ‹©åŸºå‡†çš„æ–¹å¼å†³å®šäº†ä¸¤ä¸ªåˆ†å‰²åä¸¤ä¸ªå­åºåˆ—çš„é•¿åº¦ï¼Œè¿›è€Œå¯¹æ•´ä¸ªç®—æ³•çš„æ•ˆç‡äº§ç”Ÿå†³å®šæ€§å½±å“, æ¯”å¦‚å½“å¦‚æœä¸€ä¸ªæœ‰åºé€’å¢åºåˆ—, æ¯æ¬¡é€‰åŸºå‡†éƒ½é€‰æœ€åä¸€ä¸ª, é‚£è‚¯å®šæ•ˆç‡ å¾ˆå·®äº†å•Š, æ­¤æ—¶æœ€å·®æƒ…å½¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n2)</li>
<li>ä¸ç¨³å®šæ˜¯å› ä¸ºç­‰äºpivotçš„numå’Œpivotäº¤æ¢: å¦‚æœä¸€ä¸ªæ•°numåˆšå¥½è·Ÿpivotç›¸ç­‰, é‚£partitionå®Œçš„æ—¶å€™, pivotè¦å’Œpartition indexä½ç½®çš„æ•°åšäº¤æ¢, å¦‚æœè¿™ä¸ªæ•°numåˆšå¥½åœ¨partition indexè¿™ä¸ªä½ç½®, é‚£è¿™ä¸¤ä¸ªæ•°å°±ä¼šå‘ç”Ÿäº¤æ¢, ç„¶åè‚¯å®šå°±ä¸ç¨³å®šäº†å•Š<ul>
<li>ä¸¾ä¸ªä¾‹å­ï¼š<br>å¾…æ’åºæ•°ç»„: <code>int a[] ={1, 2, 2, 3, 4, 5, 6};</code><br>åœ¨å¿«é€Ÿæ’åºçš„éšæœºé€‰æ‹©æ¯”è¾ƒå­(å³pivot)é˜¶æ®µï¼š<br>è‹¥éšæœºé€‰æ‹©åˆ°äº†a[2]ï¼ˆå³æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ª2ï¼‰ä¸ºæ¯”è¾ƒå­ï¼Œï¼Œè€ŒæŠŠå¤§äºç­‰äºæ¯”è¾ƒå­çš„æ•°å‡æ”¾ç½®åœ¨å¤§æ•°æ•°ç»„ä¸­ï¼Œåˆ™a[1]ï¼ˆå³æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ª2ï¼‰ä¼šåˆ°pivotçš„å³è¾¹ï¼Œ é‚£ä¹ˆæ•°ç»„ä¸­çš„ä¸¤ä¸ª2éåŸåºï¼ˆè¿™å°±æ˜¯â€œä¸ç¨³å®šâ€ï¼‰ã€‚<br>è‹¥éšæœºé€‰æ‹©åˆ°äº†a[1]ä¸ºæ¯”è¾ƒå­ï¼Œè€ŒæŠŠ å°äºç­‰äº æ¯”è¾ƒå­çš„æ•°å‡æ”¾ç½®åœ¨å°æ•°æ•°ç»„ä¸­ï¼Œåˆ™æ•°ç»„ä¸­çš„ä¸¤ä¸ª2é¡ºåºä¹ŸéåŸåº<br>è¿™å°±è¯´æ˜ï¼Œquick sortæ˜¯ä¸ç¨³å®šçš„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><a href="#å½’å¹¶æ’åº"><strong>å½’å¹¶æ’åº</strong></a> : æ—¶é—´å¤æ‚åº¦ç¨³å®šä½†æ˜¯å ç”¨2Nçš„å†…å­˜<ul>
<li>å½’å¹¶çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯é‚£ä¸ªä¸´æ—¶çš„æ•°ç»„å’Œé€’å½’æ—¶å‹å…¥æ ˆçš„æ•°æ®å ç”¨çš„ç©ºé—´ï¼šn + lognï¼›æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º: O(n)</li>
<li>è¿˜æœ‰ä¸€ç§ç©ºé—´å¤æ‚åº¦ä¸ºO(1)çš„å½’å¹¶æ’åºçš„è‡ªåº•å‘ä¸Šçš„å®ç°, <a href="#å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°">ä¸‹æ–‡ä¼šè®²</a></li>
</ul>
</li>
<li><a href="#å †æ’åº"><strong>å †æ’åº</strong></a>: ä¸ºä»€ä¹ˆåœ¨å¹³å‡æƒ…å†µä¸‹å¿«é€Ÿæ’åºæ¯”å †æ’åºè¦ä¼˜ç§€?<br>  å †æ’åºæ˜¯æ¸è¿›æœ€ä¼˜çš„æ¯”è¾ƒæ’åºç®—æ³•ï¼Œè¾¾åˆ°äº†O(nlgn)è¿™ä¸€ä¸‹ç•Œï¼Œè€Œå¿«æ’æœ‰ä¸€å®šçš„å¯èƒ½æ€§ä¼šäº§ç”Ÿæœ€ååˆ’åˆ†ï¼Œæ—¶é—´å¤æ‚åº¦å¯èƒ½ä¸ºO(n^2)ï¼Œé‚£ä¸ºä»€ä¹ˆå¿«æ’åœ¨å®é™…ä½¿ç”¨ä¸­é€šå¸¸ä¼˜äºå †æ’åºï¼Ÿ<ul>
<li>è™½ç„¶quick_sortä¼šn^2ï¼ˆå…¶å®æœ‰ç¨³å®šçš„nlgnçš„ç‰ˆæœ¬, æ¯”å¦‚ä¼˜åŒ–ç‰ˆçš„ä¸‰è·¯å¿«æ’ï¼‰ï¼Œä½†è¿™æ¯•ç«Ÿå¾ˆå°‘å‡ºç°ã€‚heap_sortå¤§å¤šæ•°æƒ…å†µä¸‹æ¯”è¾ƒæ¬¡æ•°éƒ½å¤šäºquick_sortï¼Œå°½ç®¡å¤§å®¶éƒ½æ˜¯nlognã€‚é‚£å°±è®©å€’éœ‰è›‹å€’éœ‰å¥½äº†ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¿«æ‰æ˜¯ç¡¬é“ç†ã€‚</li>
<li>å †æ’æ¯”è¾ƒçš„å‡ ä¹éƒ½ä¸æ˜¯ç›¸é‚»å…ƒç´ ï¼Œå¯¹cacheæä¸å‹å¥½ï¼Œè¿™æ‰æ˜¯å¾ˆå°‘è¢«é‡‡ç”¨çš„åŸå› ã€‚æ•°å­¦ä¸Šçš„æ—¶é—´å¤æ‚åº¦ä¸ä»£è¡¨å®é™…è¿è¡Œæ—¶çš„æƒ…å†µ.å¿«æ’æ˜¯åˆ†è€Œæ²»ä¹‹ï¼Œæ¯æ¬¡éƒ½åœ¨åŒä¸€å°æ®µè¿›è¡Œæ¯”è¾ƒï¼Œæœ€åè¶Šæ¥çº¦æ¥è¿‘å±€éƒ¨æ€§ã€‚åè§‚å †æ’ï¼Œå †åŒ–è¿‡ç¨‹ä¸­éœ€è¦ä¸€ç›´æ‹¿indexçš„å½“å‰å…ƒç´ Aå’Œå¤„äº<code>index*2 + 1</code> çš„å·¦å­å…ƒç´ Bä»¥åŠå¤„äº<code>index*2 + 2</code> çš„å³å­å…ƒç´ Cæ¯”è¾ƒ, ä¸¤ä¸ªå…ƒç´ è·ç¦»è¾ƒè¿œã€‚(å±€éƒ¨æ€§åŸç†æ˜¯æŒ‡CPUè®¿é—®å­˜å‚¨å™¨æ—¶ï¼Œæ— è®ºæ˜¯å­˜å–æŒ‡ä»¤è¿˜æ˜¯å­˜å–æ•°æ®ï¼Œæ‰€è®¿é—®çš„å­˜å‚¨å•å…ƒéƒ½è¶‹äºèšé›†åœ¨ä¸€ä¸ªè¾ƒå°çš„è¿ç»­åŒºåŸŸä¸­ã€‚)</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ä»£ç ä¹¦å†™æŠ€å·§</strong>:</p>
<ul>
<li>å½’å¹¶å’Œå¿«æ’éƒ½æ˜¯å½“<code>left_index &gt;= right_index</code>æ—¶, åœæ­¢é€’å½’</li>
<li><p>å¿«æ’çš„partitionè¿‡ç¨‹åˆ†å‰²indexå’Œéå†çš„åˆå§‹indexçš„é€‰æ‹©:</p>
<ul>
<li><p>æ™®é€šå¿«æ’:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># partition_index åœ¨è¿˜æ²¡å¼€å§‹éå†ä¹‹å‰æ—¶åº”è¯¥æŒ‡å‘å¾…éå†å…ƒç´ çš„æœ€å·¦è¾¹çš„é‚£ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="comment"># åœ¨è¿™é‡Œè¿™ç§å†™æ³•å°±æ˜¯ `left_index`</span></span><br><span class="line"><span class="comment"># è¿™æ‰ç¬¦åˆpartition_indexçš„å®šä¹‰:</span></span><br><span class="line"><span class="comment">#       partition_indexyæŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line"><span class="comment">#       å³ less_than_pivots_last_elem_index</span></span><br><span class="line"><span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line"><span class="comment"># partition_indexæ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„</span></span><br><span class="line">partition_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line"></span><br><span class="line">i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸‰è·¯å¿«æ’:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># lt_index æŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å³è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line"><span class="comment"># lt_index å³ less_than_pivots_last_elem_index</span></span><br><span class="line"><span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line"><span class="comment"># lt_index æ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„, </span></span><br><span class="line"><span class="comment"># gt_index åŒç†, gt_indexæŒ‡å‘å¤§äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å·¦è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line">lt_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line">gt_index = right_index + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å †æ’åº:<br>  å¦‚æœæ˜¯å¯¹æ•°ç»„çš„<code>[left_index, right_index]</code>æ¥æ’åº, ä¸”æ•°ç»„çš„é¦–indexä¸º0çš„è¯, åˆ™:</p>
<ul>
<li>æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„indexä¸º<code>left_index + (length/2 - 1)</code></li>
<li><code>left_child_index = 2 * (pending_heapify_index-left_index) + 1</code></li>
<li><code>right_child_index = left_child_index + 1</code></li>
</ul>
</li>
</ul>
</li>
<li>æ˜¯å¦åŸå€: <ul>
<li>åŸå€: æ’å…¥æ’åºã€å †æ’åºã€å¿«é€Ÿæ’åº</li>
<li>éåŸå€: å½’å¹¶æ’åº</li>
</ul>
</li>
<li>ç¨³å®šæ€§: <ul>
<li>ç¨³å®š: æ’å…¥æ’åºã€å½’å¹¶æ’åº</li>
<li>ä¸ç¨³å®š: å †æ’åºã€å¿«é€Ÿæ’åº</li>
</ul>
</li>
<li><strong><a href="/introsort/" title="å†…çœæ’åº:">å†…çœæ’åº:</a></strong> stdçš„sortå°±æ˜¯ç”¨çš„å†…çœæ’åº. æ­¤ç®—æ³•é¦–å…ˆä»å¿«é€Ÿæ’åºå¼€å§‹ï¼Œå½“é€’å½’æ·±åº¦è¶…è¿‡ä¸€å®šæ·±åº¦ï¼ˆæ·±åº¦ä¸ºæ’åºå…ƒç´ æ•°é‡çš„å¯¹æ•°å€¼å³logN, å¿«é€Ÿæ’åºåœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼Œåº”å½“é€’å½’çº¦ log n æ¬¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œå¦‚æœé€’å½’æ·±åº¦æ˜æ˜¾å¤§äº log nï¼Œå¿«é€Ÿæ’åºå°±æ‰è¿›é™·é˜±äº†ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯¥é˜ˆå€¼è®¾ç½®ä¸º log n çš„æŸä¸€å€æ•°ï¼Œæ¯”å¦‚ 2log nï¼›ä¸€æ—¦é€’å½’æ·±åº¦è¶…è¿‡ 2log nï¼Œå°±ä»å¿«é€Ÿæ’åºåˆ‡æ¢åˆ°å †æ’åºã€‚ï¼‰åè½¬ä¸ºå †æ’åºã€‚é‡‡ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå†…çœæ’åºæ—¢èƒ½åœ¨å¸¸è§„æ•°æ®é›†ä¸Šå®ç°å¿«é€Ÿæ’åºçš„é«˜æ€§èƒ½ï¼Œåˆèƒ½åœ¨æœ€åæƒ…å†µä¸‹ä»ä¿æŒO(NlogN)çš„æ—¶é—´å¤æ‚åº¦ã€‚ä¸éš¾å½’çº³ï¼Œè¿™æ ·çš„å†…çœå¼æ’åºï¼Œç­–ç•¥åº”è¯¥å¦‚ä¸‹ï¼š<br>  1. åœ¨æ•°æ®é‡è¶³å¤Ÿå¤§çš„æƒ…å†µä½¿ç”¨å¿«é€Ÿæ’åºï¼›<br>  2. åœ¨å¿«é€Ÿæ’åºæ‰å…¥é™·é˜±æ—¶ï¼Œä¸»åŠ¨åˆ‡æ¢åˆ°å †æ’åºï¼›<br>  3. åœ¨å¿«é€Ÿæ’åºå’Œå †æ’åºå·²ç»åšåˆ°åŸºæœ¬æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæˆ–è€…æ•°æ®é‡è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨åˆ‡æ¢åˆ°æ’å…¥æ’åºã€‚</li>
</ul>
<h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><p>æƒ³è±¡æ‰‹ä¸Šæœ‰å‡ å¼ ç‰Œï¼Œ ç°åœ¨ä½ æŠ½äº†ä¸€å¼ ç‰Œï¼Œ ç„¶åéœ€è¦ä»æ‰‹ä¸Šæœ€å³è¾¹çš„ç‰Œå¼€å§‹æ¯”è¾ƒï¼Œç„¶åæ’å…¥åˆ°ç›¸åº”ä½ç½®</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/insert_sort/insert_sort_1.png" alt></p>
<p>é€šè¿‡ä¸æ–­çš„ä¸å‰é¢å·²ç»æ’å¥½åºçš„å…ƒç´ æ¯”è¾ƒå¹¶äº¤æ¢,<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/insert_sort/insert_sort_2.png" alt title="insert sort"></p>
<p>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹:</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/insert_sort/insert_sort_anim.mp4" type="video/mp4"><br></video>

<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(left_index+<span class="number">1</span>, right_index+<span class="number">1</span>):  <span class="comment"># ä»left_index+1å¼€å§‹, ä¹Ÿå°±æ˜¯ä»ç¬¬äºŒä¸ªå¼€å§‹</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(i, left_index, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> arr[j] &lt; arr[j<span class="number">-1</span>]:  <span class="comment"># æ³¨æ„ä¿è¯j-1å¤§äº0</span></span><br><span class="line">                <span class="comment"># é€šè¿‡ä¸æ–­çš„ä¸å‰é¢å·²ç»æ’å¥½åºçš„å…ƒç´ æ¯”è¾ƒå¹¶äº¤æ¢, </span></span><br><span class="line">                arr[j<span class="number">-1</span>], arr[j] = arr[j], arr[j<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>ä¸</p>
<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_sort</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> arr_len)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr_len; ++i)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">      <span class="keyword">if</span>(arr[j] &lt; arr[j<span class="number">-1</span>])&#123;</span><br><span class="line">        swap_elem(arr, j<span class="number">-1</span>, j);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ’æ’ä¼˜åŒ–"><a href="#æ’æ’ä¼˜åŒ–" class="headerlink" title="æ’æ’ä¼˜åŒ–"></a>æ’æ’ä¼˜åŒ–</h3><p>å› ä¸ºåŸºæœ¬çš„æ’å…¥æ’åºæœ‰å¤ªå¤šäº¤æ¢æ“ä½œäº†, æˆ‘ä»¬å¯ä»¥ç”¨ç›´æ¥èµ‹å€¼æ¥ä¼˜åŒ–</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/insert_sort/insert_sort_optimized.mp4" type="video/mp4"><br></video>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort_optimized</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(left_index+<span class="number">1</span>, right_index+<span class="number">1</span>):  <span class="comment"># ä»left_index+1å¼€å§‹, ä¹Ÿå°±æ˜¯ä»ç¬¬äºŒä¸ªå¼€å§‹</span></span><br><span class="line">        temp_i_val = arr[i]</span><br><span class="line">        j = i</span><br><span class="line">        <span class="keyword">while</span> j &gt;= left_index+<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> temp_i_val &lt; arr[j<span class="number">-1</span>]:  <span class="comment"># æ³¨æ„ä¿è¯j-1å¤§äº0</span></span><br><span class="line">                arr[j] = arr[j<span class="number">-1</span>]  <span class="comment"># é€šè¿‡ä¸æ–­çš„ä¸å‰é¢å·²ç»æ’å¥½åºçš„å…ƒç´ æ¯”è¾ƒå¹¶ç›´æ¥èµ‹å€¼</span></span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span>        </span><br><span class="line">        arr[j] = temp_i_val  <span class="comment"># å·²ç»æ‰¾åˆ°è¯¥æ’å…¥çš„åœ°æ–¹äº†, ç›´æ¥èµ‹å€¼</span></span><br></pre></td></tr></table></figure>
<h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p>å½’å¹¶æ’åºç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œæœ‰å¾ˆå¤šç®—æ³•åœ¨ç»“æ„ä¸Šæ˜¯é€’å½’çš„ï¼šä¸ºäº†è§£å†³ä¸€ä¸ªç»™å®šçš„é—®é¢˜ï¼Œç®—æ³•è¦ä¸€æ¬¡æˆ–å¤šæ¬¡åœ°é€’å½’è°ƒç”¨å…¶è‡ªèº«æ¥è§£å†³ç›¸å…³çš„å­é—®é¢˜ã€‚è¿™äº›ç®—æ³•é€šå¸¸é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ˆdivide-and-conquierï¼‰ï¼šå°†åŸé—®é¢˜åˆ’åˆ†æˆnä¸ªè§„æ¨¡è¾ƒå°è€Œç»“æ„ä¸åŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜ï¼›é€’å½’åœ°è§£å†³è¿™äº›å­é—®é¢˜ï¼Œç„¶åå†åˆå¹¶å…¶ç»“æœï¼Œå°±å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</p>
<p><strong>åˆ†æ²»æ¨¡å¼</strong>åœ¨æ¯ä¸€å±‚é€’å½’ä¸Šéƒ½æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š  </p>
<ol>
<li>åˆ†è§£ï¼ˆdivideï¼‰ï¼šå°†åŸé—®é¢˜åˆ†è§£æˆä¸€ç³»åˆ—å­é—®é¢˜ï¼›</li>
<li>è§£å†³ï¼ˆconquerï¼‰ï¼šé€’å½’åœ°è§£å„å­é—®é¢˜ã€‚è‹¥å­é—®é¢˜è¶³å¤Ÿå°ï¼Œåˆ™ç›´æ¥æ±‚è§£ï¼›</li>
<li>åˆå¹¶ï¼šå°†å­é—®é¢˜çš„ç»“æœåˆå¹¶æˆåŸé—®é¢˜çš„è§£ã€‚</li>
</ol>
<p>å½’å¹¶çš„å…·ä½“æ€è·¯:  </p>
<p>å›åˆ°æˆ‘ä»¬ç©æ‰‘å…‹ç‰Œçš„ä¾‹å­ï¼Œå‡è®¾æ¡Œä¸Šæœ‰ä¸¤å †ç‰Œé¢æœä¸Šçš„ç‰Œï¼Œæ¯å †éƒ½å·²<strong>æ’åº</strong>ï¼Œæœ€å°çš„ç‰Œåœ¨é¡¶ä¸Šã€‚<br>æˆ‘ä»¬å¸Œæœ›æŠŠè¿™ä¸¤å †ç‰Œåˆå¹¶æˆå•ä¸€çš„æ’å¥½åºçš„è¾“å‡ºå †ï¼Œç‰Œé¢æœä¸‹åœ°æ”¾åœ¨æ¡Œä¸Šã€‚<br>æˆ‘ä»¬çš„åŸºæœ¬æ­¥éª¤åŒ…æ‹¬åœ¨ç‰Œé¢æœä¸Šçš„ä¸¤å †ç‰Œçš„é¡¶ä¸Šä¸¤å¼ ç‰Œä¸­é€‰å–è¾ƒå°çš„ä¸€å¼ ï¼Œå°†è¯¥ç‰Œä»å…¶å †ä¸­ç§»å¼€ï¼ˆè¯¥å †çš„é¡¶ä¸Šå°†<br>æ˜¾éœ²ä¸€å¼ æ–°ç‰Œï¼‰å¹¶ç‰Œé¢æœä¸‹åœ°å°†è¯¥ç‰Œæ”¾ç½®åˆ°è¾“å‡ºå †ã€‚<br>é‡å¤è¿™ä¸ªæ­¥éª¤ï¼Œç›´åˆ°ä¸€ä¸ªè¾“å…¥å †ä¸ºç©ºï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯æ‹¿èµ·å‰©ä½™çš„è¾“å…¥å †å¹¶ç‰Œé¢æœä¸‹åœ°å°†è¯¥å †æ”¾ç½®åˆ°è¾“å‡ºå †ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/merge_sort/merge_sort_2.png" alt title="å½’å¹¶æ’åºåˆ†è§£å›¾"></p>
<p>åŠ¨ç”»æ¼”ç¤º:</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/merge_sort/merge_sort_anim1.mp4" type="video/mp4"><br></video>


<h3 id="å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹"><a href="#å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹" class="headerlink" title="å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹"></a>å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/merge_sort/merge_sort_anim2.mp4" type="video/mp4"><br></video>

<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_merge</span><span class="params">(arr, left_index, mid_index, right_index)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å½’å¹¶çš„å…·ä½“æ€è·¯:  </span></span><br><span class="line"><span class="string">        å›åˆ°æˆ‘ä»¬ç©æ‰‘å…‹ç‰Œçš„ä¾‹å­ï¼Œå‡è®¾æ¡Œä¸Šæœ‰ä¸¤å †ç‰Œé¢æœä¸Šçš„ç‰Œï¼Œæ¯å †éƒ½å·²**æ’åº**ï¼Œæœ€å°çš„ç‰Œåœ¨é¡¶ä¸Šã€‚</span></span><br><span class="line"><span class="string">        æˆ‘ä»¬å¸Œæœ›æŠŠè¿™ä¸¤å †ç‰Œåˆå¹¶æˆå•ä¸€çš„æ’å¥½åºçš„è¾“å‡ºå †ï¼Œç‰Œé¢æœä¸‹åœ°æ”¾åœ¨æ¡Œä¸Šã€‚</span></span><br><span class="line"><span class="string">        æˆ‘ä»¬çš„åŸºæœ¬æ­¥éª¤åŒ…æ‹¬åœ¨ç‰Œé¢æœä¸Šçš„ä¸¤å †ç‰Œçš„é¡¶ä¸Šä¸¤å¼ ç‰Œä¸­é€‰å–è¾ƒå°çš„ä¸€å¼ ï¼Œå°†è¯¥ç‰Œä»å…¶å †ä¸­ç§»å¼€ï¼ˆè¯¥å †çš„é¡¶ä¸Šå°†</span></span><br><span class="line"><span class="string">        æ˜¾éœ²ä¸€å¼ æ–°ç‰Œï¼‰å¹¶ç‰Œé¢æœä¸‹åœ°å°†è¯¥ç‰Œæ”¾ç½®åˆ°è¾“å‡ºå †ã€‚</span></span><br><span class="line"><span class="string">        é‡å¤è¿™ä¸ªæ­¥éª¤ï¼Œç›´åˆ°ä¸€ä¸ªè¾“å…¥å †ä¸ºç©ºï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯æ‹¿èµ·å‰©ä½™çš„è¾“å…¥å †å¹¶ç‰Œé¢æœä¸‹åœ°å°†è¯¥å †æ”¾ç½®åˆ°è¾“å‡ºå †ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># æ³¨é‡Šæ‰ä¸‹é¢è¿™å¥æ˜¯å› ä¸ºmidä¸ä¸€å®šç­‰äº(l+r)/2, æ¯”å¦‚åœ¨`merge_sort_bottom_up()`å°±æœ‰å¯èƒ½</span></span><br><span class="line">    <span class="comment"># mid_index = left_index + (right_index - left_index) / 2</span></span><br><span class="line">    temp_arr = []</span><br><span class="line">    i = left_index</span><br><span class="line">    j = mid_index + <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid_index <span class="keyword">and</span> j &lt;= right_index:</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt;= arr[j]:</span><br><span class="line">            temp_arr.append(arr[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            temp_arr.append(arr[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="comment"># è¿™ä¸€æ­¥æ˜¯æ¨¡æ‹Ÿ: ç›´åˆ°ä¸€ä¸ªè¾“å…¥å †ä¸ºç©ºï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯æ‹¿èµ·å‰©ä½™çš„è¾“å…¥å †å¹¶ç‰Œé¢æœä¸‹åœ°å°†è¯¥å †æ”¾ç½®åˆ°è¾“å‡ºå †ã€‚</span></span><br><span class="line">    temp_arr.extend(arr[i:mid_index+<span class="number">1</span>]) </span><br><span class="line">    temp_arr.extend(arr[j:right_index+<span class="number">1</span>])  <span class="comment"># æ³¨æ„å³è¾¹ç•Œæ˜¯å°äºç­‰äºright_indexçš„</span></span><br><span class="line">    <span class="comment"># æŠŠå½’å¹¶å¥½çš„æ•°ç»„æ•°æ®æ”¾åˆ°åŸæ•°ç»„left_indexåˆ°right_indexçš„ä½ç½®ä¸Šå»</span></span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> xrange(<span class="number">0</span>, right_index-left_index+<span class="number">1</span>):</span><br><span class="line">        arr[left_index+m] = temp_arr[m]</span><br></pre></td></tr></table></figure>
<p>ä¸</p>
<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> left_i, <span class="keyword">int</span> mid_i, <span class="keyword">int</span> right_i)</span></span>&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp_vec = <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line">  <span class="keyword">int</span> i = left_i, j = mid_i + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(i &lt;= mid_i &amp;&amp; j &lt;= right_i)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i] &lt; arr[j])&#123;</span><br><span class="line">      temp_vec.push_back(arr[i]);</span><br><span class="line">      ++i;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      temp_vec.push_back(arr[j]);</span><br><span class="line">      ++j;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(; i &lt;= mid_i; ++i)</span><br><span class="line">    temp_vec.push_back(arr[i]);</span><br><span class="line">  <span class="keyword">for</span>(; j &lt;= right_i; ++j)</span><br><span class="line">    temp_vec.push_back(arr[j]);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> k = left_i; k &lt;= right_i; ++k)</span><br><span class="line">    arr[k] = temp_vec[k-left_i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(left_index &gt;= right_index)&#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">auto</span> mid = left_index + (right_index - left_index) / <span class="number">2</span>;</span><br><span class="line">  merge_sort(arr, left_index, mid);</span><br><span class="line">  merge_sort(arr, mid+<span class="number">1</span>, right_index);</span><br><span class="line">  <span class="keyword">if</span> (arr[mid] &gt; arr[mid+<span class="number">1</span>])</span><br><span class="line">    merge(arr, left_index, mid, right_index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°"><a href="#å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°" class="headerlink" title="å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°"></a>å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="comment"># å½“ `merge_sort()` é€’å½’åˆ°left_indexç­‰äºright_indexçš„æ—¶å€™, </span></span><br><span class="line">    <span class="comment"># è¯´æ˜left_index, right_indexå·²ç»ç›¸é‚»äº†,</span></span><br><span class="line">    <span class="comment"># è¯´æ˜å·²ç»åˆ†è§£åˆ°åº•äº†, å·¦å³éƒ½åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ äº†, æ‰€ä»¥æ­¤æ—¶åº”è¯¥returnç„¶åæ‰§è¡Œ `_merge()` äº†</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr <span class="keyword">or</span> left_index &gt;= right_index:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># æ³¨æ„è¿™é‡Œä¸èƒ½ç›´æ¥ `mid_index=(left_index+right_index)/2`,</span></span><br><span class="line">    <span class="comment"># é˜²æ­¢å½“left_indexå’Œright_indexå¾ˆå¤§çš„æ—¶å€™ä»–ä»¬ä¹‹å’Œæº¢å‡º</span></span><br><span class="line">    mid_index = left_index + (right_index - left_index) / <span class="number">2</span></span><br><span class="line">    merge_sort(arr, left_index, mid_index)</span><br><span class="line">    merge_sort(arr, mid_index+<span class="number">1</span>, right_index)</span><br><span class="line">    _merge(arr, left_index, mid_index, right_index)</span><br></pre></td></tr></table></figure>
<h4 id="å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°"><a href="#å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°" class="headerlink" title="å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°"></a>å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°</h4><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">def merge_sort_optimized(arr, left_index, right_index):</span><br><span class="line">    # å½“ `merge_sort()` é€’å½’åˆ°left_indexç­‰äºright_indexçš„æ—¶å€™, </span><br><span class="line">    # è¯´æ˜left_index, right_indexå·²ç»ç›¸é‚»äº†,</span><br><span class="line">    # è¯´æ˜å·²ç»åˆ†è§£åˆ°åº•äº†, å·¦å³éƒ½åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ äº†, æ‰€ä»¥æ­¤æ—¶åº”è¯¥returnç„¶åæ‰§è¡Œ `_merge()` äº†</span><br><span class="line">    if not arr or left_index &gt;= right_index:</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line"><span class="addition">+    # ä¼˜åŒ–1:</span></span><br><span class="line"><span class="addition">+    #   æ•°æ®é‡è¾ƒå°åˆ™ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="addition">+    if (right_index - left_index) &lt; 15:</span></span><br><span class="line"><span class="addition">+        insert_sort_optimized(arr, left_index, right_index)</span></span><br><span class="line"><span class="addition">+        return</span></span><br><span class="line"></span><br><span class="line">    # æ³¨æ„è¿™é‡Œä¸èƒ½ç›´æ¥ `mid_index=(left_index+right_index)/2`,</span><br><span class="line">    # é˜²æ­¢å½“left_indexå’Œright_indexå¾ˆå¤§çš„æ—¶å€™ä»–ä»¬ä¹‹å’Œæº¢å‡º</span><br><span class="line">    mid_index = left_index + (right_index - left_index) / 2</span><br><span class="line">    merge_sort(arr, left_index, mid_index)</span><br><span class="line">    merge_sort(arr, mid_index+1, right_index)</span><br><span class="line"></span><br><span class="line"><span class="addition">+    # ä¼˜åŒ–2: </span></span><br><span class="line"><span class="addition">+    #   å› ä¸ºæ­¤æ—¶arr[mid_index]æ˜¯å·¦è¾¹çš„æ•°ç»„é‡Œæœ€å¤§çš„, è€Œarr[mid_index+1]æ˜¯å³è¾¹æœ€å°çš„,</span></span><br><span class="line"><span class="addition">+    #   å¦‚æœarr[mid_index] &lt;= arr[mid_index+1]åˆ™è¯´æ˜è¿™ä¸€è½®é€’å½’çš„arrçš„leftåˆ°rightå·²ç»æ˜¯ä»å°åˆ°å¤§æœ‰åºçš„äº†</span></span><br><span class="line"><span class="addition">+    #   æ‰€ä»¥åªåœ¨å¯¹äºarr[mid_index] &gt; arr[mid_index+1]çš„æƒ…å†µ,è¿›è¡Œmerge, </span></span><br><span class="line"><span class="addition">+    #   å¯¹äºè¿‘ä¹æœ‰åºçš„æ•°ç»„éå¸¸æœ‰æ•ˆ,ä½†æ˜¯å¯¹äºä¸€èˆ¬æƒ…å†µ,æœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±(å› ä¸ºå¤šäº†è¿™è¡Œä»£ç åˆ¤æ–­å¤§å°)</span></span><br><span class="line"><span class="addition">+    if arr[mid_index] &gt; arr[mid_index+1]:</span></span><br><span class="line">        _merge(arr, left_index, mid_index, right_index)</span><br></pre></td></tr></table></figure>
<h3 id="å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°"><a href="#å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°" class="headerlink" title="å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°"></a>å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/merge_sort/merge_sort_bottom_up.mp4" type="video/mp4"><br></video>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort_bottom_up</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr <span class="keyword">or</span> left_index &gt;= right_index:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    arr_len = right_index - left_index + <span class="number">1</span></span><br><span class="line">    size = <span class="number">1</span></span><br><span class="line">    <span class="comment"># æ³¨æ„è¿™é‡Œä¸æ˜¯ `while size &lt;= arr_len/2`,</span></span><br><span class="line">    <span class="comment"># å¦åˆ™æ¯”å¦‚arr_len=12, sizeä¸º4çš„è¯, åªèƒ½æŠŠ[0...7]å’Œ[8..11]çš„è¿™ä¸¤ä¸ªåŒºé—´çš„å…ƒç´ å½’å¹¶æˆæœ‰åº,</span></span><br><span class="line">    <span class="comment"># size=8çš„è¯, å¤§äºarr_len/2äº†,</span></span><br><span class="line">    <span class="comment"># ä½†åªæœ‰sizeä¸º8, è¿™æ ·2å€sizeæ‰èƒ½æŠŠarrå…¨éƒ¨å½’å¹¶, æ‰€ä»¥åº”è¯¥`while size &lt; arr_len`</span></span><br><span class="line">    <span class="keyword">while</span> size &lt; arr_len:</span><br><span class="line">        cur_left_index = left_index</span><br><span class="line">        <span class="keyword">while</span> cur_left_index &lt;= right_index-size:</span><br><span class="line">            cur_mid_index = cur_left_index + size <span class="number">-1</span></span><br><span class="line">            possible_right_index = cur_left_index + <span class="number">2</span>*size <span class="number">-1</span></span><br><span class="line">            <span class="comment"># possible_right_indexæœ‰å¯èƒ½å·²ç»å¤§äºright_indexäº†, æ‰€ä»¥è¦minä¸€ä¸‹</span></span><br><span class="line">            cur_right_index = min(possible_right_index, right_index)</span><br><span class="line">            <span class="comment"># å½’å¹¶ä»iä½ç½®å¼€å§‹çš„ä¸¤å€sizeçš„ä¸€ç»„æ•°æ®</span></span><br><span class="line">            _merge(arr, cur_left_index, cur_mid_index, cur_right_index)</span><br><span class="line">            cur_left_index += size * <span class="number">2</span>  <span class="comment"># æ¯æ¬¡å½’å¹¶å®Œä¸€ç»„æ•°æ®å°±iç§»åŠ¨sizeçš„ä¸¤å€</span></span><br><span class="line">        <span class="comment"># print "size: %d" % size</span></span><br><span class="line">        <span class="comment"># print arr</span></span><br><span class="line">        size *= <span class="number">2</span>  <span class="comment"># sizeä»1å¼€å§‹æ¯æ¬¡å¢åŠ ä¸¤å€</span></span><br></pre></td></tr></table></figure>
<h4 id="å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°"><a href="#å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°" class="headerlink" title="å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°"></a>å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°</h4><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">def merge_sort_bottom_up_optimized(arr, left_index, right_index):</span><br><span class="line">    if not arr or left_index &gt;= right_index:</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line"><span class="addition">+    # ä¼˜åŒ–1:</span></span><br><span class="line"><span class="addition">+    #   å…ˆä»¥sizeä¸º16ä¸ºä¸€ç»„æ•°æ®æ¥é€ä¸ªå¯¹æ¯ç»„æ’å…¥æ’åºä¸€é</span></span><br><span class="line"><span class="addition">+    size = 16</span></span><br><span class="line"><span class="addition">+    cur_left_index = left_index</span></span><br><span class="line"><span class="addition">+    while cur_left_index &lt; right_index:</span></span><br><span class="line"><span class="addition">+        possible_right_index = cur_left_index + 2*size -1</span></span><br><span class="line"><span class="addition">+         # possible_right_indexæœ‰å¯èƒ½å·²ç»å¤§äºright_indexäº†, æ‰€ä»¥è¦minä¸€ä¸‹</span></span><br><span class="line"><span class="addition">+        cur_right_index = min(possible_right_index, right_index)</span></span><br><span class="line"><span class="addition">+        insert_sort(arr, cur_left_index, cur_right_index)</span></span><br><span class="line"><span class="addition">+        cur_left_index += size  # å³ç§»åˆ°ä¸‹ä¸€ä¸ªsizeå¤§å°å¼€å¤´ä½ç½®</span></span><br><span class="line">    </span><br><span class="line">    arr_len = right_index - left_index + 1</span><br><span class="line"><span class="deletion">-   size = 1</span></span><br><span class="line">    # æ³¨æ„è¿™é‡Œä¸æ˜¯ `while size &lt;= arr_len/2`,</span><br><span class="line">    # æ¯”å¦‚arr_len=12, sizeä¸º4çš„è¯, åªèƒ½æŠŠ[0, 7]å’Œ[8, 11]çš„ä¸¤ä¸ªå­æ•°ç»„å½’å¹¶æˆæœ‰åº</span><br><span class="line">    # é‚£åªæœ‰sizeä¸º8, è¿™æ ·2å€sizeæ‰èƒ½æŠŠarrå…¨éƒ¨å½’å¹¶</span><br><span class="line">    # ä½†size=8çš„è¯, å¤§äºarr_len/2äº†, æ‰€ä»¥åº”è¯¥`while size &lt; arr_len`</span><br><span class="line">    while size &lt; arr_len:</span><br><span class="line">        cur_left_index = left_index</span><br><span class="line">        while cur_left_index &lt;= right_index-size:</span><br><span class="line">            cur_mid_index = cur_left_index + size -1</span><br><span class="line">            possible_right_index = cur_left_index + 2*size -1</span><br><span class="line">            # possible_right_indexæœ‰å¯èƒ½å·²ç»å¤§äºright_indexäº†, æ‰€ä»¥è¦minä¸€ä¸‹</span><br><span class="line">            cur_right_index = min(possible_right_index, right_index)</span><br><span class="line">            # å½’å¹¶ä»iä½ç½®å¼€å§‹çš„ä¸¤å€sizeçš„ä¸€ç»„æ•°æ®</span><br><span class="line"><span class="addition">+           # ä¼˜åŒ–2: </span></span><br><span class="line"><span class="addition">+           #   å› ä¸ºæ­¤æ—¶arr[mid_index]å·¦è¾¹çš„æ•°ç»„é‡Œæœ€å¤§çš„, è€Œarr[mid_index+1]æ˜¯å³è¾¹æœ€å°çš„,</span></span><br><span class="line"><span class="addition">+           #   å¦‚æœarr[mid_index] &lt;= arr[mid_index+1]åˆ™è¯´æ˜è¿™ä¸€è½®é€’å½’çš„arrçš„leftåˆ°rightå·²ç»æ˜¯ä»å°åˆ°å¤§æœ‰åºçš„äº†</span></span><br><span class="line"><span class="addition">+           #   æ‰€ä»¥åªåœ¨å¯¹äºarr[mid_index] &gt; arr[mid_index+1]çš„æƒ…å†µ,è¿›è¡Œmerge, </span></span><br><span class="line"><span class="addition">+           #   å¯¹äºè¿‘ä¹æœ‰åºçš„æ•°ç»„éå¸¸æœ‰æ•ˆ,ä½†æ˜¯å¯¹äºä¸€èˆ¬æƒ…å†µ,æœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±(å› ä¸ºå¤šäº†è¿™è¡Œä»£ç åˆ¤æ–­å¤§å°)</span></span><br><span class="line"><span class="addition">+           if arr[cur_mid_index] &gt; arr[cur_mid_index+1]:</span></span><br><span class="line">                _merge(arr, cur_left_index, cur_mid_index, cur_right_index)</span><br><span class="line">            cur_left_index += size * 2  # æ¯æ¬¡å½’å¹¶å®Œä¸€ç»„æ•°æ®å°±iç§»åŠ¨sizeçš„ä¸¤å€</span><br><span class="line">        # print "size: %d" % size</span><br><span class="line">        # print arr</span><br><span class="line">        size *= 2  # sizeä»1å¼€å§‹æ¯æ¬¡å¢åŠ ä¸¤å€</span><br></pre></td></tr></table></figure>
<h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>ä¸å½’å¹¶æ’åºä¸€æ ·ï¼Œ å¿«æ’ä¹Ÿæ˜¯ç”¨äº†åˆ†æ²»çš„æ€æƒ³ã€‚</p>
<p><strong>ç‰¹åˆ«æ³¨æ„</strong> : å¿«æ’çš„æ ¸å¿ƒæ¨¡å—æ˜¯Partition, è€ŒPartitionçš„å¤æ‚åº¦ä¸ºO(N).</p>
<p><strong>ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸ªä¸¤å‰¯ç‰Œç„¶åéšæ„å–å‡ºä¸€å¼ ç‰Œpivotï¼Œå…¶ä»–çš„æ‰€æœ‰ç‰Œéƒ½è·Ÿè¿™å¼ pivotç‰Œæ¯”è¾ƒï¼Œ</strong> </p>
<p>å¤§çš„æ”¾å³è¾¹é‚£ä¸€æ‘Aï¼Œå°çš„æ”¾å·¦è¾¹Bã€‚<br>æ¥ç€å†ä»å·¦è¾¹è¿™ä¸€æ‘Bå†éšæ„å–å‡ºä¸€å¼ ç‰Œpivotï¼Œå…¶ä»–çš„æ‰€æœ‰ç‰Œéƒ½è·Ÿè¿™å¼ pivotç‰Œæ¯”è¾ƒï¼Œ </p>
<p>å¤§çš„æ”¾å³è¾¹é‚£ä¸€æ‘ï¼Œå°çš„æ”¾å·¦è¾¹ï¼Œé€’å½’ä¸‹å»ã€‚<br>Aä¹Ÿé‡å¤ä¸Šè¿°æ­¥éª¤é€’å½’ã€‚</p>
<p>é€’å½’ç»“æŸä¹‹åï¼Œ å·¦è¾¹çš„éƒ½æ¯”å³è¾¹çš„å°ï¼Œ è€Œä¸”æ˜¯æœ‰åºçš„ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_na_tricks/image-14.png" alt="alt text"></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/quick_sort/quick_sort_2.png" alt></p>
<p>åŠ¨ç”»æ¼”ç¤º:</p>
<video width="100%" controls="controls"><br>    <source src="/img/algo_newbie/quick_sort/quick_sort_partition_anim.mp4" type="video/mp4"><br></video>


<h3 id="å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ"><a href="#å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ" class="headerlink" title="å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ"></a>å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ</h3><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/quick_sort/quick_sort_3.png" alt></p>
<p>å¯¹äºåˆ†æ²»ç®—æ³•ï¼Œå½“æ¯æ¬¡åˆ’åˆ†æ—¶ï¼Œç®—æ³•è‹¥éƒ½èƒ½åˆ†æˆä¸¤ä¸ªç­‰é•¿çš„å­åºåˆ—æ—¶ï¼Œé‚£ä¹ˆåˆ†æ²»ç®—æ³•æ•ˆç‡ä¼šè¾¾åˆ°æœ€å¤§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºå‡†çš„é€‰æ‹©æ˜¯å¾ˆé‡è¦çš„ã€‚é€‰æ‹©åŸºå‡†çš„æ–¹å¼å†³å®šäº†ä¸¤ä¸ªåˆ†å‰²åä¸¤ä¸ªå­åºåˆ—çš„é•¿åº¦ï¼Œè¿›è€Œå¯¹æ•´ä¸ªç®—æ³•çš„æ•ˆç‡äº§ç”Ÿå†³å®šæ€§å½±å“<br>æ‰€ä»¥å½“å¦‚æœä¸€ä¸ªæœ‰åºé€’å¢åºåˆ—, æ¯æ¬¡é€‰åŸºå‡†éƒ½é€‰æœ€åä¸€ä¸ª, é‚£è‚¯å®šæ•ˆç‡å¾ˆå·®äº†å•Š</p>
<h3 id="æ™®é€šå¿«æ’"><a href="#æ™®é€šå¿«æ’" class="headerlink" title="æ™®é€šå¿«æ’"></a>æ™®é€šå¿«æ’</h3><p><strong>æ³¨æ„åˆå§‹indexçš„ä½ç½®:</strong><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># partition_index åœ¨è¿˜æ²¡å¼€å§‹éå†ä¹‹å‰æ—¶åº”è¯¥æŒ‡å‘å¾…éå†å…ƒç´ çš„æœ€å·¦è¾¹çš„é‚£ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="comment"># åœ¨è¿™é‡Œè¿™ç§å†™æ³•å°±æ˜¯ `left_index`</span></span><br><span class="line"><span class="comment"># è¿™æ‰ç¬¦åˆpartition_indexçš„å®šä¹‰:</span></span><br><span class="line"><span class="comment">#       partition_indexæŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line"><span class="comment">#       å³ less_than_pivots_last_elem_index</span></span><br><span class="line"><span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line"><span class="comment"># partition_indexæ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„</span></span><br><span class="line">partition_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line"></span><br><span class="line">i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br></pre></td></tr></table></figure></p>
<p>ä¸‹é¢æ˜¯åŸä»£ç :<br><figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_partition</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="comment"># é€‰ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´é‡,</span></span><br><span class="line">    <span class="comment"># ä¸ºäº†æ¨¡æ‹Ÿä¸Šé¢è¿™ä¸ªåŠ¨ç”»æ¼”ç¤º, è¿™é‡Œæˆ‘ä»¬é€‰å–æœ€å·¦è¾¹çš„å…ƒç´ </span></span><br><span class="line">    pivot_index = left_index</span><br><span class="line">    pivot = arr[pivot_index]</span><br><span class="line">    <span class="comment"># partition_index åœ¨è¿˜æ²¡å¼€å§‹éå†ä¹‹å‰æ—¶åº”è¯¥æŒ‡å‘å¾…éå†å…ƒç´ çš„æœ€å·¦è¾¹çš„é‚£ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®</span></span><br><span class="line">    <span class="comment"># åœ¨è¿™é‡Œè¿™ç§å†™æ³•å°±æ˜¯ `left_index`</span></span><br><span class="line">    <span class="comment"># è¿™æ‰ç¬¦åˆpartition_indexçš„å®šä¹‰:</span></span><br><span class="line">    <span class="comment">#       partition_index æŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line">    <span class="comment">#       å³ less_than_pivots_last_elem_index</span></span><br><span class="line">    <span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line">    <span class="comment"># partition_indexæ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„</span></span><br><span class="line">    partition_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line"></span><br><span class="line">    i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= right_index:</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt; pivot:</span><br><span class="line">            <span class="comment"># arr[i] å’Œ å¤§äºpivotçš„ç¬¬ä¸€ä¸ªå…ƒç´  Q äº¤æ¢(Q äº¦å³: å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ çš„åé¢ä¸€ä¸ªå…ƒç´ , æ‰€ä»¥æ˜¯partition + 1) </span></span><br><span class="line">            arr[i], arr[partition_index+<span class="number">1</span>] = arr[partition_index+<span class="number">1</span>], arr[i]</span><br><span class="line">            partition_index += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    arr[pivot_index], arr[partition_index] = arr[partition_index], arr[pivot_index]</span><br><span class="line">    <span class="keyword">return</span> partition_index</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="comment"># å¦‚æœleftç­‰äºrightåˆ™è¯´æ˜å·²ç»partitionåˆ°åªæœ‰ä¸€ä¸ªå…ƒç´ äº†, å¯ä»¥ç›´æ¥returnäº†</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr <span class="keyword">or</span> left_index &gt;= right_index:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    partition_index = _partition(arr, left_index, right_index)</span><br><span class="line">    <span class="comment"># æŠŠpartition_indexå·¦è¾¹çš„æ•°æ®å†é€’å½’å¿«æ’ä¸€é</span></span><br><span class="line">    quick_sort(arr, left_index, partition_index<span class="number">-1</span>)</span><br><span class="line">    quick_sort(arr, partition_index+<span class="number">1</span>, right_index)</span><br></pre></td></tr></table></figure></p>
<p>ä¸ </p>
<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap_elem</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> index_a, <span class="keyword">int</span> index_b)</span></span>&#123;</span><br><span class="line">  <span class="keyword">auto</span> temp = arr[index_a];</span><br><span class="line">  arr[index_a] = arr[index_b];</span><br><span class="line">  arr[index_b] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> p_index = left_index;</span><br><span class="line">  <span class="keyword">int</span> left_end = p_index;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = left_index+<span class="number">1</span>; i &lt;= right_index; ++i)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i] &lt; arr[p_index])&#123;</span><br><span class="line">      swap_elem(arr, i, left_end+<span class="number">1</span>);</span><br><span class="line">      left_end += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap_elem(arr, left_end, p_index);</span><br><span class="line">  <span class="keyword">return</span> left_end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!arr || left_index &gt;= right_index)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">auto</span> p_index = partition(arr, left_index, right_index);</span><br><span class="line">  quick_sort(arr, left_index, p_index<span class="number">-1</span>);</span><br><span class="line">  quick_sort(arr, p_index+<span class="number">1</span>, right_index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ™®é€šå¿«æ’çš„ä¼˜åŒ–"><a href="#æ™®é€šå¿«æ’çš„ä¼˜åŒ–" class="headerlink" title="æ™®é€šå¿«æ’çš„ä¼˜åŒ–"></a>æ™®é€šå¿«æ’çš„ä¼˜åŒ–</h3><p>é€šè¿‡<a href="#å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ">å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ</a>, æˆ‘ä»¬çŸ¥é“å¿«æ’åœ¨é¢å¯¹å·²ç»æ¯”è¾ƒæœ‰åºæ•°ç»„çš„æ—¶å€™æ•ˆç‡å¦‚æœå›ºå®šé€‰æ‹©æŸä¸ªä½ç½®çš„pivotåˆ™æ€§èƒ½è¾ƒå·®, æ‰€ä»¥æˆ‘ä»¬åŠ ä¸Šä¸¤ç§ä¼˜åŒ–æ–¹å¼:</p>
<ul>
<li>éšæœºé€‰pivot</li>
<li>å°æ•°ç»„ç”¨æ’æ’</li>
</ul>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="addition">+ import random</span></span><br><span class="line"></span><br><span class="line">def _partition_optimized(arr, left_index, right_index):</span><br><span class="line">    # é€‰ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´é‡,</span><br><span class="line">    # ä¸ºäº†æ¨¡æ‹Ÿä¸Šé¢è¿™ä¸ªåŠ¨ç”»æ¼”ç¤º, è¿™é‡Œæˆ‘ä»¬é€‰å–æœ€å·¦è¾¹çš„å…ƒç´ </span><br><span class="line">    pivot_index = left_index</span><br><span class="line"></span><br><span class="line"><span class="addition">+   # ä¼˜åŒ–1:</span></span><br><span class="line"><span class="addition">+   #   éšæœºé€‰ä¸€ä¸ªå…ƒç´ å’Œæœ€å·¦è¾¹çš„äº¤æ¢,</span></span><br><span class="line"><span class="addition">+   #   é…åˆä¸‹æ–¹çš„`pivot = arr[left_index]`å°±è¾¾åˆ°äº†éšæœºé€‰ä¸€ä¸ªå…ƒç´ å½“pivotçš„æ•ˆæœ</span></span><br><span class="line"><span class="addition">+   rand_index = random.randint(left_index, right_index)</span></span><br><span class="line"><span class="addition">+   arr[pivot_index], arr[rand_index] = arr[rand_index], arr[pivot_index]</span></span><br><span class="line"></span><br><span class="line">    pivot = arr[pivot_index]</span><br><span class="line">    # partition_index åœ¨è¿˜æ²¡å¼€å§‹éå†ä¹‹å‰æ—¶åº”è¯¥æŒ‡å‘å¾…éå†å…ƒç´ çš„æœ€å·¦è¾¹çš„é‚£ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªä½ç½®</span><br><span class="line">    # åœ¨è¿™é‡Œè¿™ç§å†™æ³•å°±æ˜¯ `left_index`</span><br><span class="line">    # è¿™æ‰ç¬¦åˆpartition_indexçš„å®šä¹‰:</span><br><span class="line">    #       partition_indexyæŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ ,</span><br><span class="line">    #       å³ less_than_pivots_last_elem_index</span><br><span class="line">    # å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span><br><span class="line">    # partition_indexæ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„</span><br><span class="line">    partition_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line"></span><br><span class="line">    i = left_index + 1  # å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span><br><span class="line">    while i &lt;= right_index:</span><br><span class="line">        if arr[i] &lt; pivot:</span><br><span class="line">            arr[i], arr[partition_index+1] = arr[partition_index+1], arr[i]</span><br><span class="line">            partition_index += 1</span><br><span class="line">        i += 1</span><br><span class="line">    arr[pivot_index], arr[partition_index] = arr[partition_index], arr[pivot_index]</span><br><span class="line">    return partition_index</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def quick_sort_optimized(arr, left_index, right_index):</span><br><span class="line">    # å¦‚æœleftç­‰äºrightåˆ™è¯´æ˜å·²ç»partitionåˆ°åªæœ‰ä¸€ä¸ªå…ƒç´ äº†, å¯ä»¥ç›´æ¥returnäº†</span><br><span class="line">    if not arr or left_index &gt;= right_index:</span><br><span class="line">        return</span><br><span class="line"><span class="addition">+   # ä¼˜åŒ–2:</span></span><br><span class="line"><span class="addition">+   #   å°æ•°ç»„ç”¨æ’æ’</span></span><br><span class="line"><span class="addition">+   if (right_index - left_index) &lt;= 15:</span></span><br><span class="line"><span class="addition">+       insert_sort(arr, left_index, right_index)</span></span><br><span class="line"><span class="addition">+       return</span></span><br><span class="line">    partition_index = _partition(arr, left_index, right_index)</span><br><span class="line">    # æŠŠpartition_indexå·¦è¾¹çš„æ•°æ®å†é€’å½’å¿«æ’ä¸€é</span><br><span class="line">    quick_sort(arr, left_index, partition_index-1)</span><br><span class="line">    quick_sort(arr, partition_index+1, right_index)</span><br></pre></td></tr></table></figure>
<h3 id="è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜"><a href="#è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜" class="headerlink" title="è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜"></a>è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜</h3><p>å¯¹äºåˆ†æ²»ç®—æ³•ï¼Œå½“æ¯æ¬¡åˆ’åˆ†æ—¶ï¼Œç®—æ³•è‹¥éƒ½èƒ½åˆ†æˆä¸¤ä¸ªç­‰é•¿çš„å­åºåˆ—æ—¶ï¼Œé‚£ä¹ˆåˆ†æ²»ç®—æ³•æ•ˆç‡ä¼šè¾¾åˆ°æœ€å¤§.<br>å½“æ•°ç»„ä¸­æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ—¶å€™, ä¸ç®¡æ€ä¹ˆé€‰pivotéƒ½å¾ˆå®¹æ˜“å˜æˆä¸‹é¢è¿™ç§æƒ…å†µå¯¼è‡´åˆ†æˆå­åºåˆ—çš„ä¸å¹³è¡¡, è¿™å°†æå¤§çš„å½±å“æ—¶é—´å¤æ‚åº¦, æœ€å·®çš„æƒ…å†µä¼šé€€åŒ–æˆO(N2)<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/quick_sort/quick_sort_4.png" alt></p>
<h4 id="åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"><a href="#åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜" class="headerlink" title="åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"></a>åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜</h4><p>æ‰€ä»¥äº§ç”Ÿäº†åŒè·¯å¿«æ’çš„æ–¹å¼, ä»–ä½¿ç”¨ä¸¤ä¸ªç´¢å¼•å€¼ï¼ˆiã€jï¼‰ç”¨æ¥éå†æˆ‘ä»¬çš„åºåˆ—ï¼Œå°†å°äºç­‰äºvçš„å…ƒç´ æ”¾åœ¨ç´¢å¼•iæ‰€æŒ‡å‘ä½ç½®çš„å·¦è¾¹ï¼Œè€Œå°†å¤§äºç­‰äºvçš„å…ƒç´ æ”¾åœ¨ç´¢å¼•jæ‰€æŒ‡å‘ä½ç½®çš„å³è¾¹, é€šè¿‡ä¸‹å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“ç­‰äºvçš„æƒ…å†µä¹Ÿä¼šå‘ç”Ÿäº¤æ¢, è¿™å°±åŸºæœ¬å¯ä»¥ä¿è¯ç­‰äºvçš„å…ƒç´ ä¹Ÿå¯ä»¥è¾ƒä¸ºå‡åŒ€çš„æ”¾åˆ°å·¦å³ä¸¤è¾¹</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/quick_sort/quick_sort_5.mp4" type="video/mp4"><br></video>

<p><strong>å¾…æ”¹è¿›çš„åœ°æ–¹</strong>: è¿˜æ˜¯æŠŠç­‰äºvçš„å…ƒç´ åŠ å…¥åˆ°äº†å¾…å¤„ç†çš„æ•°æ®ä¸­, ä¹‹ååˆå»é‡å¤è®¡ç®—è¿™äº›ç­‰äºvçš„å…ƒç´ äº†, ä¸ºäº†æ’é™¤è¿™äº›å·²ç»ç­‰äºvçš„å…ƒç´ , æ‰€ä»¥äº§ç”Ÿäº†ä¸‰è·¯å¿«æ’</p>
<h4 id="ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"><a href="#ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜" class="headerlink" title="ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"></a>ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜</h4><p>è¿™æ˜¯æœ€ç»å…¸çš„è§£å†³æœ‰å¤§é‡é‡å¤å…ƒç´ çš„é—®é¢˜çš„å¿«æ’æ–¹æ¡ˆ, è¢«å¤§å¤šæ•°ç³»ç»Ÿæ‰€ä½¿ç”¨.</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/quick_sort/quick_sort_6.mp4" type="video/mp4"><br></video>

<p><strong>æ³¨æ„åˆå§‹indexçš„ä½ç½®:</strong><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pivot = arr[pivot_index]</span><br><span class="line"><span class="comment"># lt_index æŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å³è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line"><span class="comment"># lt_index å³ less_than_pivots_last_elem_index</span></span><br><span class="line"><span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line"><span class="comment"># lt_index æ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„, </span></span><br><span class="line"><span class="comment"># gt_index åŒç†, gt_indexæŒ‡å‘å¤§äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å·¦è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line">lt_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line">gt_index = right_index + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æ˜¯å®Œæ•´ä»£ç :<br><figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">partition_3_ways</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> p_index = left_index;</span><br><span class="line">  <span class="keyword">auto</span> left_end = left_index;</span><br><span class="line">  <span class="keyword">auto</span> right_start = right_index + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=left_index + <span class="number">1</span>; i &lt; right_start;)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i] &lt; arr[p_index])&#123;</span><br><span class="line">      swap_elem(arr, i, left_end + <span class="number">1</span>);</span><br><span class="line">      left_end += <span class="number">1</span>;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(arr[i] &gt; arr[p_index])&#123;</span><br><span class="line">      swap_elem(arr, i, right_start - <span class="number">1</span>);</span><br><span class="line">      right_start -= <span class="number">1</span>;</span><br><span class="line">      <span class="comment">// æ³¨æ„!! è¿™ä¸ªæƒ…å†µæ˜¯ä¸ `++i` çš„ !</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap_elem(arr, left_end, p_index);</span><br><span class="line">  <span class="keyword">int</span>* ret_arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">  ret_arr[<span class="number">0</span>] = left_end;</span><br><span class="line">  ret_arr[<span class="number">1</span>] = right_start;</span><br><span class="line">  <span class="keyword">return</span> ret_arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort_3_ways</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!arr || left_index &gt;= right_index)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">auto</span> ret_arr = partition_3_ways(arr, left_index, right_index);</span><br><span class="line">  <span class="keyword">auto</span> left_end = ret_arr[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">auto</span> right_start = ret_arr[<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">delete</span>[] ret_arr;</span><br><span class="line">  quick_sort_3_ways(arr, left_index, left_end);</span><br><span class="line">  quick_sort_3_ways(arr, right_start, right_index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»¥åŠ:  </p>
<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort_3_ways</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="comment"># å¦‚æœleftç­‰äºrightåˆ™è¯´æ˜å·²ç»partitionåˆ°åªæœ‰ä¸€ä¸ªå…ƒç´ äº†, å¯ä»¥ç›´æ¥returnäº†</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr <span class="keyword">or</span> left_index &gt;= right_index:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> (right_index - left_index) &lt;= <span class="number">15</span>:</span><br><span class="line">        insert_sort(arr, left_index, right_index)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€‰ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´é‡,</span></span><br><span class="line">    <span class="comment"># ä¸ºäº†æ¨¡æ‹Ÿä¸Šé¢è¿™ä¸ªåŠ¨ç”»æ¼”ç¤º, è¿™é‡Œæˆ‘ä»¬é€‰å–æœ€å·¦è¾¹çš„å…ƒç´ </span></span><br><span class="line">    pivot_index = left_index</span><br><span class="line">    <span class="comment"># éšæœºé€‰ä¸€ä¸ªå…ƒç´ å’Œæœ€å·¦è¾¹çš„äº¤æ¢,</span></span><br><span class="line">    <span class="comment"># é…åˆä¸‹æ–¹çš„`pivot = arr[left_index]`å°±è¾¾åˆ°äº†éšæœºé€‰ä¸€ä¸ªå…ƒç´ å½“pivotçš„æ•ˆæœ</span></span><br><span class="line">    rand_index = random.randint(left_index, right_index)</span><br><span class="line">    arr[pivot_index], arr[rand_index] = arr[rand_index], arr[pivot_index]</span><br><span class="line">    </span><br><span class="line">    pivot = arr[pivot_index]</span><br><span class="line">    <span class="comment"># lt_index æŒ‡å‘å°äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å³è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line">    <span class="comment"># lt_index å³ less_than_pivots_last_elem_index</span></span><br><span class="line">    <span class="comment"># å› ä¸ºè¿˜æ²¡æ‰¾åˆ°æ¯”pivotå°çš„å…ƒç´ ä¹‹å‰, </span></span><br><span class="line">    <span class="comment"># lt_index æ˜¯ä¸åº”è¯¥æŒ‡å‘ä»»ä½•å¾…éå†çš„å…ƒç´ çš„, </span></span><br><span class="line">    <span class="comment"># gt_index åŒç†, gt_indexæŒ‡å‘å¤§äºpivotçš„é‚£äº›å…ƒç´ çš„æœ€å·¦è¾¹çš„ä¸€ä¸ªå…ƒç´ ,</span></span><br><span class="line">    lt_index = less_than_pivots_last_elem_index = left_index</span><br><span class="line">    gt_index = right_index + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    i = left_index + <span class="number">1</span>  <span class="comment"># å› ä¸ºpivot_indexå–left_indexäº†, åˆ™æˆ‘ä»¬ä»left_index+1å¼€å§‹éå†</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; gt_index:</span><br><span class="line">        <span class="keyword">if</span> arr[i] &lt; pivot:</span><br><span class="line">            arr[i], arr[lt_index+<span class="number">1</span>] = arr[lt_index+<span class="number">1</span>], arr[i]</span><br><span class="line">            lt_index += <span class="number">1</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> arr[i] &gt; pivot:  <span class="comment"># æ³¨æ„!! è¿™ä¸ªæƒ…å†µæ˜¯ä¸ `i += 1` çš„ !</span></span><br><span class="line">            arr[i], arr[gt_index<span class="number">-1</span>] = arr[gt_index<span class="number">-1</span>], arr[i]</span><br><span class="line">            gt_index -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">    arr[pivot_index], arr[lt_index] = arr[lt_index], arr[pivot_index]</span><br><span class="line"></span><br><span class="line">    quick_sort_3_ways(arr, left_index, lt_index)</span><br><span class="line">    quick_sort_3_ways(arr, gt_index, right_index)</span><br></pre></td></tr></table></figure>
<h2 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h2><p>æœ€å¤§å †çš„å †æ’åºä¹‹åçš„æ•°ç»„æ˜¯å‡åº, æœ€å°å †åä¹‹.<br>å †æ’åº HeapSort ç”± ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆ :</p>
<ul>
<li><a href="#å †åŒ–">å †åŒ– MaxHeapify</a></li>
<li><a href="#å»ºå †">å»ºå † BuildMaxHeap</a></li>
</ul>
<h3 id="TopKé—®é¢˜"><a href="#TopKé—®é¢˜" class="headerlink" title="TopKé—®é¢˜"></a>TopKé—®é¢˜</h3><p>æ±‚ä¸€å †æ•°ç»„çš„æœ€å¤§çš„kä¸ªæ•°</p>
<p>å¦‚æœæ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°åˆ™ç”¨æœ€å°å †, åä¹‹åˆ™ç”¨æœ€å¤§å †</p>
<p>ç®—æ³•çš„å¤æ‚åº¦åˆ†æ:<br>ç”±äºä½¿ç”¨äº†ä¸€ä¸ªå¤§å°ä¸º k çš„å †ï¼Œç©ºé—´å¤æ‚åº¦ä¸º <code>O(k)</code><br>å…¥å †å’Œå‡ºå †æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º <code>O(logk)</code>ï¼Œæ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡å…¥å †æ“ä½œï¼Œæ•…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(nlogk)</code></p>
<h3 id="å †æ’åºçš„å¤æ‚åº¦"><a href="#å †æ’åºçš„å¤æ‚åº¦" class="headerlink" title="å †æ’åºçš„å¤æ‚åº¦"></a>å †æ’åºçš„å¤æ‚åº¦</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong> : <ul>
<li><strong>MaxHeapify</strong> : <strong>O(logN)</strong>.</li>
<li><strong>BuildMaxHeap</strong> : <strong>O(N)</strong>.<br>çœ‹èµ·æ¥åƒæ˜¯O(NlogN), å…¶å®æ˜¯O(N), å› ä¸ºä¸åŒç»“ç‚¹è¿è¡Œ MaxHeapify çš„ æ—¶é—´å’Œè¯¥ç»“ç‚¹çš„æ ‘é«˜ç›¸å…³, è€Œå¤§éƒ¨åˆ†ç»“ç‚¹çš„é«˜åº¦éƒ½å¾ˆå°, &lt;&lt;ç®—æ³•å¯¼è®º&gt;&gt;ä¸­æœ‰ç›¸å…³è¯æ˜</li>
<li><strong>HeapSort</strong> : <strong>O(NlogN)</strong>.<br>  åˆå§‹åŒ–å † BuildMaxHeap çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N); ä¹‹åå› ä¸ºæ¯æ¬¡äº¤æ¢ç»“ç‚¹ç„¶åä»å †ä¸­å»æ‰æœ€åä¸€ä¸ªç»“ç‚¹åéƒ½è¦é‡å»ºå † BuildMaxHeap<br>  <em>(ä¸Šè¿° HeapSort å‡½æ•°ä»£ç ä¸­çš„å€’æ•°ç¬¬ä¸‰è¡Œ <code>MaxHeapify(arr, 0, --length)</code> å…¶å®å°±æ˜¯ä¸ªé‡å»ºå †çš„è¿‡ç¨‹)</em> ,<br>  é‡å»ºå † BuildMaxHeap çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N), è€Œ length - 1 æ¬¡è°ƒç”¨äº† MaxHeapify, MaxHeapify çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(lgN). æ‰€ä»¥ä¸º O(N + NlogN), å³ä¸ºO(Nlogn)</li>
</ul>
</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong> : <ul>
<li><strong>O(1)</strong>, å› ä¸ºæ²¡æœ‰ç”¨è¾…åŠ©å†…å­˜.</li>
</ul>
</li>
</ul>
<h3 id="å †åŒ–"><a href="#å †åŒ–" class="headerlink" title="å †åŒ–"></a>å †åŒ–</h3><p><strong>æ³¨æ„</strong>: ä»¥ä¸‹æ¼”ç¤ºå›¾ä¸­çš„indexæ˜¯ä»1å¼€å§‹çš„, æ–¹ä¾¿æˆ‘ä»¬çœ‹åŠ¨å›¾ç†è§£å †åŒ–è¿‡ç¨‹, æˆ‘ä»¬ä¸‹æ–¹ä»£ç çš„æ•°ç»„çš„indexæ˜¯ä»0å¼€å§‹çš„</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/heap_sort/MaxHeapify.png" alt title="å¯¹æŸä¸ªå…ƒç´ æ‰§è¡Œå †åŒ–æ“ä½œ"></p>
<p><strong>æ³¨æ„</strong> :<br>åœ¨è°ƒç”¨MaxHeapifyçš„æ—¶å€™, æˆ‘ä»¬å‡å®šç´¢å¼•ä¸ºindexçš„å…ƒç´ çš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯æœ€å¤§å †, ä¸ç„¶ä½ å¦‚æœæ³¨æ„çœ‹çš„è¯, ä½ ä¼šå‘ç°ä¸Šå›¾ä¸­indexä¸º10çš„é‚£ä¸ªå…ƒç´ å…¶å®æ˜¯æ²¡æœ‰è®¡ç®—åˆ°çš„, å› ä¸ºæˆ‘ä»¬å‡å®šä»¥index=5ä¸ºæ ¹èŠ‚ç‚¹çš„äºŒå‰æ ‘éƒ½æ˜¯æœ€å¤§å †äº†, æ‰€ä»¥æ— éœ€è®¡ç®—ä»–.<br>é‚£ä¸ºä½•è¦ä½œå¦‚æ­¤å‡è®¾å‘¢?<br>å› ä¸ºè¦è·Ÿå»ºå † BuildMaxHeap é…åˆæ¥å®Œæˆå †æ’åº, è€Œå»ºå † BuildMaxHeapæ˜¯ä»ä¸‹è‡³ä¸Šçš„.</p>
<p>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹, æ¯”å¦‚è¦å¯¹17è¿™ä¸ªå…ƒç´ ä¸ºçˆ¶å…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ è¿›è¡Œå †åŒ–:</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/heap_sort/heap_sort_heapify.mp4" type="video/mp4"><br></video>

<p>å¦‚æœæ˜¯å¯¹æ•°ç»„çš„<code>[left_index, right_index]</code>æ¥æ’åº, ä¸”æ•°ç»„çš„é¦–indexä¸º0çš„è¯, åˆ™:</p>
<ul>
<li>æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„indexä¸º<code>left_index + (length/2 - 1)</code></li>
<li><code>left_child_index = 2 * (pending_heapify_index-left_index) + 1</code></li>
<li><code>right_child_index = left_child_index + 1</code><br>è¿™ä¸¤ä¸ªindexçš„å–å¾—æ–¹å¼åœ¨ä¸‹æ–¹ä»£ç æœ‰ä½“ç°.</li>
</ul>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/heap_sort/heap_sort_binary_heap_index.png" alt></p>
<h4 id="å †åŒ–é€’å½’å†™æ³•"><a href="#å †åŒ–é€’å½’å†™æ³•" class="headerlink" title="å †åŒ–é€’å½’å†™æ³•"></a>å †åŒ–é€’å½’å†™æ³•</h4><p>é€’å½’å†™æ³•æ›´å®¹æ˜“ç†è§£ä¸€äº›:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€’å½’ç‰ˆ, å¯¹ pending_heapify_index å…ƒç´ æ‰§è¡Œå †åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_max_heapify_recursive</span><span class="params">(arr, pending_heapify_index, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> pending_heapify_index &gt;= right_index:  <span class="comment"># å½“æ»¡è¶³æ­¤æ¡ä»¶, åº”è¯¥ç»“æŸ`_max_heapify_recursive`é€’å½’äº†</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    left_child_index = <span class="number">2</span> * (pending_heapify_index-left_index) + <span class="number">1</span></span><br><span class="line">    right_child_index = left_child_index + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€‰å‡º pending_heapify_index çš„å·¦å³å­©å­ä¸­æœ€å¤§çš„å…ƒç´ ,</span></span><br><span class="line">    <span class="comment"># å¹¶ä¸ pending_heapify_index å…ƒç´ äº¤æ¢</span></span><br><span class="line">    cur_max_index = pending_heapify_index</span><br><span class="line">    <span class="keyword">if</span> left_child_index &lt;= right_index <span class="keyword">and</span> arr[cur_max_index] &lt; arr[left_child_index]:</span><br><span class="line">        cur_max_index = left_child_index</span><br><span class="line">    <span class="keyword">if</span> right_child_index &lt;= right_index <span class="keyword">and</span> arr[cur_max_index] &lt; arr[right_child_index]:</span><br><span class="line">        cur_max_index = right_child_index</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è‹¥å½“å‰å·²ç»æ˜¯æœ€å¤§å…ƒç´ äº†, åˆ™åœæ­¢é€’å½’, å¦‚æœä¸æ˜¯åˆ™æ‰§è¡Œäº¤æ¢ä¸ç»§ç»­é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> cur_max_index != pending_heapify_index:</span><br><span class="line">        arr[pending_heapify_index], arr[cur_max_index] = arr[cur_max_index], arr[pending_heapify_index]</span><br><span class="line">        _max_heapify_recursive(arr, cur_max_index, left_index, right_index)  <span class="comment"># ç»§ç»­ å †åŒ– cur_max_index çš„å­å…ƒç´ </span></span><br></pre></td></tr></table></figure></p>
<h4 id="å †åŒ–è¿­ä»£å†™æ³•"><a href="#å †åŒ–è¿­ä»£å†™æ³•" class="headerlink" title="å †åŒ–è¿­ä»£å†™æ³•"></a>å †åŒ–è¿­ä»£å†™æ³•</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿­ä»£ç‰ˆ, å¯¹ pending_heapify_index å…ƒç´ æ‰§è¡Œå †åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_max_heapify_iterative</span><span class="params">(arr, pending_heapify_index, left_index, right_index)</span>:</span></span><br><span class="line">    left_child_index = <span class="number">2</span> * (pending_heapify_index-left_index) + <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left_child_index &lt;= right_index:</span><br><span class="line">        right_child_index = left_child_index + <span class="number">1</span></span><br><span class="line">        <span class="comment"># é€‰å‡º pending_heapify_index çš„å·¦å³å­©å­ä¸­æœ€å¤§çš„å…ƒç´ ,</span></span><br><span class="line">        <span class="comment"># å¹¶ä¸ pending_heapify_index å…ƒç´ äº¤æ¢</span></span><br><span class="line">        cur_max_index = pending_heapify_index</span><br><span class="line">        <span class="keyword">if</span> left_child_index &lt;= right_index <span class="keyword">and</span> arr[cur_max_index] &lt; arr[left_child_index]:</span><br><span class="line">            cur_max_index = left_child_index</span><br><span class="line">        <span class="keyword">if</span> right_child_index &lt;= right_index <span class="keyword">and</span> arr[cur_max_index] &lt; arr[right_child_index]:</span><br><span class="line">            cur_max_index = right_child_index</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è‹¥å½“å‰å·²ç»æ˜¯æœ€å¤§å…ƒç´ äº†, åˆ™ç›´æ¥break, å¦‚æœä¸æ˜¯åˆ™æ‰§è¡Œäº¤æ¢ä¸ç»§ç»­æ–°ä¸€è½®çš„å †åŒ–å¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span> cur_max_index != pending_heapify_index:</span><br><span class="line">            arr[pending_heapify_index], arr[cur_max_index] = arr[cur_max_index], arr[pending_heapify_index]</span><br><span class="line">            pending_heapify_index = cur_max_index</span><br><span class="line">            left_child_index = <span class="number">2</span> * (pending_heapify_index-left_index) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>è¿­ä»£å†™æ³•çš„è¯ä¹Ÿå¯ä»¥ä½¿ç”¨èµ‹å€¼çš„æ–¹å¼å–ä»£ä¸æ–­çš„swap,<br>è¯¥ä¼˜åŒ–æ€æƒ³å’Œæˆ‘ä»¬ä¹‹å‰å¯¹<a href="#æ’æ’ä¼˜åŒ–">æ’å…¥æ’åºè¿›è¡Œä¼˜åŒ–</a>çš„æ€è·¯æ˜¯ä¸€è‡´çš„, æ­¤å¤„è¿™ä¸ªä¼˜åŒ–ä»£ç å°±ç•¥äº†</p>
<h3 id="å»ºå †"><a href="#å»ºå †" class="headerlink" title="å»ºå †"></a>å»ºå †</h3><p>å¦‚æœæ˜¯å¯¹æ•°ç»„çš„<code>[left_index, right_index]</code>æ¥æ’åº, ä¸”æ•°ç»„çš„é¦–indexä¸º0çš„è¯, åˆ™æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„indexä¸º<code>left_index + (length/2 - 1)</code>, æˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªä¸æ˜¯å¶ç»“ç‚¹çš„å…ƒç´ è‡ªåº•å‘ä¸Šè°ƒç”¨ä¸€æ¬¡ Max_Heapify å°±å¯ä»¥æŠŠä¸€ä¸ªå¤§å°ä¸º length çš„æ•°ç»„è½¬æ¢ä¸ºæœ€å¤§å †.</p>
<p><strong>æ³¨æ„</strong>: ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬çœ‹åŠ¨å›¾ç†è§£å †åŒ–è¿‡ç¨‹, ä»¥ä¸‹åŠ¨ç”»æ¼”ç¤ºå›¾ä¸­çš„indexæ˜¯ä»1å¼€å§‹çš„, è€Œæˆ‘ä»¬ä¸‹æ–¹ä»£ç çš„æ•°ç»„çš„indexæ˜¯ä»0å¼€å§‹çš„</p>
<video width="100%" controls="controls"><br><source src="/img/algo_newbie/heap_sort/heap_sort_build_heap.mp4" type="video/mp4"><br></video>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_build_max_heap</span><span class="params">(arr, left_index, right_index)</span>:</span></span><br><span class="line">    <span class="comment"># å»ºå †, ä»æœ€åä¸€ä¸ªéå¶ç»“ç‚¹å¼€å§‹, è‡ªåº•å‘ä¸Šå †åŒ–å°±å»ºå¥½äº†ä¸€ä¸ªæœ€å¤§å †</span></span><br><span class="line">    root_index = left_index</span><br><span class="line">    arr_len = right_index - left_index + <span class="number">1</span></span><br><span class="line">    last_none_leaf_index = root_index + (arr_len/<span class="number">2</span> - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    i = last_none_leaf_index</span><br><span class="line">    <span class="keyword">while</span> i &gt;= root_index:</span><br><span class="line">        _max_heapify_recursive(arr, i, left_index, right_index)</span><br><span class="line">        i -= <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°"><a href="#å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°" class="headerlink" title="å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°"></a>å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°</h3><video width="100%" controls="controls"><br><source src="/img/algo_newbie/heap_sort/heap_sort.mp4" type="video/mp4"><br></video>

<p>å †æ’åºåˆ†ä¸¤æ­¥:</p>
<ol>
<li>å»ºå †</li>
<li>é‡å¤ä»¥ä¸‹ä¸¤ä¸ªæ“ä½œ:<ol>
<li>æŠŠæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ (å³æ ¹èŠ‚ç‚¹)ä¹Ÿå°±æ˜¯å½“å‰å †çš„æœ€å¤§å…ƒç´ é€ä¸ªå’Œæ•°ç»„åé¢çš„å…ƒç´ äº¤æ¢</li>
<li>å¯¹æ ¹èŠ‚ç‚¹åšä¸€æ¬¡å †åŒ–æ“ä½œ</li>
</ol>
</li>
</ol>
<figure class="highlight python"><figcaption><span>pythonç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heap_sort</span><span class="params">(arr, left_index , right_index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> arr <span class="keyword">or</span> left_index &gt;= right_index <span class="keyword">or</span> right_index &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    _build_max_heap(arr, left_index, right_index)</span><br><span class="line">    <span class="comment"># æŠŠæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ (å³æ ¹èŠ‚ç‚¹)ä¹Ÿå°±æ˜¯å½“å‰å †çš„æœ€å¤§å…ƒç´ é€ä¸ªå’Œæ•°ç»„åé¢çš„å…ƒç´ äº¤æ¢</span></span><br><span class="line">    <span class="comment"># äº¤æ¢åæ ¹èŠ‚ç‚¹å·²ç»è¿èƒŒæœ€å¤§å †æ€§è´¨äº†, ä½†å…¶ä»–çš„å…ƒç´ è¿˜æ˜¯ç¬¦åˆæœ€å¤§å †æ€§è´¨çš„</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥ç„¶åè¦å¯¹æ ¹èŠ‚ç‚¹åšä¸€æ¬¡å †åŒ–æ“ä½œ</span></span><br><span class="line">    cur_right_index = right_index</span><br><span class="line">    root_index = left_index</span><br><span class="line">    <span class="keyword">while</span> cur_right_index &gt;= root_index:</span><br><span class="line">        arr[root_index], arr[cur_right_index] = arr[cur_right_index], arr[root_index]</span><br><span class="line">        cur_right_index -= <span class="number">1</span></span><br><span class="line">        _max_heapify_recursive(arr, root_index, left_index, cur_right_index)</span><br></pre></td></tr></table></figure>
<p>ä¸</p>
<figure class="highlight cpp"><figcaption><span>cppç‰ˆæœ¬</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> p_i, <span class="keyword">int</span> left_i, <span class="keyword">int</span> right_i)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(p_i &gt; right_i)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">auto</span> left_child_i = (p_i-left_i)*<span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">auto</span> right_child_i = left_child_i + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">auto</span> max_child_i = p_i;</span><br><span class="line">  <span class="keyword">if</span>(left_child_i &lt;= right_i &amp;&amp; arr[left_child_i] &gt; arr[max_child_i])</span><br><span class="line">    max_child_i = left_child_i;</span><br><span class="line">  <span class="keyword">if</span>(right_child_i &lt;= right_i &amp;&amp; arr[right_child_i] &gt; arr[max_child_i])</span><br><span class="line">    max_child_i = right_child_i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(max_child_i != p_i)&#123;</span><br><span class="line">    swap_elem(arr, max_child_i, p_i);</span><br><span class="line">    heapify(arr, max_child_i, left_i, right_i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build_max_heap</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> left_i, <span class="keyword">int</span> right_i)</span></span>&#123;</span><br><span class="line">  <span class="keyword">auto</span> arr_len = right_i - left_i + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">auto</span> last_none_leaf_i = left_i + (arr_len / <span class="number">2</span>) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(last_none_leaf_i &gt;= left_i)&#123;</span><br><span class="line">    heapify(arr, last_none_leaf_i, left_i, right_i);</span><br><span class="line">    --last_none_leaf_i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heap_sort</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> left_index, <span class="keyword">int</span> right_index)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!arr)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  build_max_heap(arr, left_index, right_index);</span><br><span class="line">  <span class="keyword">auto</span> cur_right_i = right_index;</span><br><span class="line">  <span class="keyword">while</span> (cur_right_i &gt;= left_index)&#123;</span><br><span class="line">    swap_elem(arr, left_index, cur_right_i);</span><br><span class="line">    --cur_right_i;</span><br><span class="line">    heapify(arr, left_index, left_index, cur_right_i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é€’å½’è§£é¢˜æ€è·¯"><a href="#é€’å½’è§£é¢˜æ€è·¯" class="headerlink" title="é€’å½’è§£é¢˜æ€è·¯"></a>é€’å½’è§£é¢˜æ€è·¯</h1><p>å®é™…ä¸Šï¼Œé€’å½’æœ‰ä¸¤ä¸ªæ˜¾è‘—çš„ç‰¹å¾,ç»ˆæ­¢æ¡ä»¶å’Œè‡ªèº«è°ƒç”¨:</p>
<ul>
<li>è‡ªèº«è°ƒç”¨ï¼šåŸé—®é¢˜å¯ä»¥åˆ†è§£ä¸ºå­é—®é¢˜ï¼Œå­é—®é¢˜å’ŒåŸé—®é¢˜çš„æ±‚è§£æ–¹æ³•æ˜¯ä¸€è‡´çš„ï¼Œå³éƒ½æ˜¯è°ƒç”¨è‡ªèº«çš„åŒä¸€ä¸ªå‡½æ•°ã€‚</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šé€’å½’å¿…é¡»æœ‰ä¸€ä¸ªç»ˆæ­¢çš„æ¡ä»¶ï¼Œå³ä¸èƒ½æ— é™å¾ªç¯åœ°è°ƒç”¨æœ¬èº«ã€‚</li>
</ul>
<p><strong>é€’å½’è°ƒç”¨å¯ç†è§£ä¸ºå…¥æ ˆæ“ä½œï¼Œè€Œè¿”å›åˆ™ä¸ºå‡ºæ ˆæ“ä½œã€‚å†™é€’å½’ç®—æ³•çš„å…³é”®æ˜¯è¦æ˜ç¡®å‡½æ•°çš„ã€Œå®šä¹‰ã€æ˜¯ä»€ä¹ˆï¼Œç„¶åç›¸ä¿¡è¿™ä¸ªå®šä¹‰ï¼Œåˆ©ç”¨è¿™ä¸ªå®šä¹‰æ¨å¯¼æœ€ç»ˆç»“æœï¼Œç»ä¸è¦è¯•å›¾è·³å…¥é€’å½’ã€‚æˆ‘ä»¬åƒä¸‡ä¸è¦è·³è¿›é€’å½’çš„ç»†èŠ‚é‡Œï¼Œä½ çš„è„‘è¢‹æ‰èƒ½å‹å‡ ä¸ªæ ˆå‘€ã€‚</strong></p>
<p>è§£å†³é€’å½’é—®é¢˜ä¸€èˆ¬å°±ä¸‰æ­¥æ›²ï¼Œè¿™ä¸ªé€’å½’è§£é¢˜ä¸‰æ¿æ–§ç†è§£èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œæˆ‘ä»¬æ‹¿é˜¶ä¹˜é€’å½’ä¾‹å­æ¥å–µå–µå§~<br>ä¸‰éƒ¨æ›²åˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li><p><strong>å®šä¹‰å‡½æ•°åŠŸèƒ½</strong><br> å®šä¹‰å‡½æ•°åŠŸèƒ½ï¼Œå°±æ˜¯è¯´ï¼Œä½ è¿™ä¸ªå‡½æ•°æ˜¯å¹²å˜›çš„ï¼Œåšä»€ä¹ˆäº‹æƒ…ï¼Œæ¢å¥è¯è¯´ï¼Œä½ è¦çŸ¥é“é€’å½’åŸé—®é¢˜æ˜¯ä»€ä¹ˆå‘€ï¼Ÿæ¯”å¦‚ä½ éœ€è¦è§£å†³é˜¶ä¹˜é—®é¢˜ï¼Œå®šä¹‰çš„å‡½æ•°åŠŸèƒ½å°±æ˜¯nçš„é˜¶ä¹˜ï¼Œå¦‚ä¸‹ï¼š</p>
 <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//nçš„é˜¶ä¹˜ï¼ˆnä¸ºå¤§äº0çš„è‡ªç„¶æ•°ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span> <span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¯»æ‰¾é€’å½’ç»ˆæ­¢æ¡ä»¶</strong><br> é€’å½’çš„ä¸€ä¸ªå…¸å‹ç‰¹å¾å°±æ˜¯å¿…é¡»æœ‰ä¸€ä¸ªç»ˆæ­¢çš„æ¡ä»¶ï¼Œå³ä¸èƒ½æ— é™å¾ªç¯åœ°è°ƒç”¨æœ¬èº«ã€‚æ‰€ä»¥ï¼Œç”¨é€’å½’æ€è·¯å»è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œå°±éœ€è¦å¯»æ‰¾é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯ä»€ä¹ˆã€‚æ¯”å¦‚é˜¶ä¹˜é—®é¢˜ï¼Œå½“n=1çš„æ—¶å€™ï¼Œä¸ç”¨å†å¾€ä¸‹é€’å½’äº†ï¼Œå¯ä»¥è·³å‡ºå¾ªç¯å•¦ï¼Œn=1å°±å¯ä»¥ä½œä¸ºé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
 <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//nçš„é˜¶ä¹˜ï¼ˆnä¸ºå¤§äº0çš„è‡ªç„¶æ•°ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span> <span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰¾å‡ºé€’å½’ç»“æ„, æˆ–è€…é€’æ¨å‡½æ•°çš„ç­‰ä»·å…³ç³»å¼</strong><br> é€’å½’çš„ã€Œæœ¬ä¹‰ã€ï¼Œå°±æ˜¯åŸé—®é¢˜å¯ä»¥æ‹†ä¸ºåŒç±»ä¸”æ›´å®¹æ˜“è§£å†³çš„å­é—®é¢˜ï¼Œå³ã€ŒåŸé—®é¢˜å’Œå­é—®é¢˜éƒ½å¯ä»¥ç”¨åŒä¸€ä¸ªå‡½æ•°å…³ç³»è¡¨ç¤ºã€‚é€’æ¨å‡½æ•°çš„ç­‰ä»·å…³ç³»å¼ï¼Œè¿™ä¸ªæ­¥éª¤å°±ç­‰ä»·äºå¯»æ‰¾åŸé—®é¢˜ä¸å­é—®é¢˜çš„å…³ç³»ï¼Œå¦‚ä½•ç”¨ä¸€ä¸ªå…¬å¼æŠŠè¿™ä¸ªå‡½æ•°è¡¨è¾¾æ¸…æ¥šã€ã€‚é˜¶ä¹˜çš„å…¬å¼å°±å¯ä»¥è¡¨ç¤ºä¸º f(n) = n * f(n-1), å› æ­¤ï¼Œé˜¶ä¹˜çš„é€’å½’ç¨‹åºä»£ç å°±å¯ä»¥å†™æˆè¿™æ ·ï¼Œå¦‚ä¸‹ï¼š</p>
 <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span> <span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * factorial(n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ã€Œæ³¨æ„å•¦ã€ï¼Œä¸æ˜¯æ‰€æœ‰é€’æ¨å‡½æ•°çš„ç­‰ä»·å…³ç³»éƒ½åƒé˜¶ä¹˜è¿™ä¹ˆç®€å•ï¼Œä¸€ä¸‹å­å°±èƒ½æ¨å¯¼å‡ºæ¥ã€‚éœ€è¦æˆ‘ä»¬å¤šæ¥è§¦ï¼Œå¤šç§¯ç´¯ï¼Œå¤šæ€è€ƒï¼Œå¤šç»ƒä¹ é€’å½’é¢˜ç›®æ»´~</p>
<h1 id="é€’å½’ä¸äºŒå‰æ ‘"><a href="#é€’å½’ä¸äºŒå‰æ ‘" class="headerlink" title="é€’å½’ä¸äºŒå‰æ ‘"></a>é€’å½’ä¸äºŒå‰æ ‘</h1><p>é€’å½’ï¼Œæ˜¯ä½¿ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€ç§é‡è¦çš„æ€è€ƒæ–¹å¼ã€‚è€ŒäºŒå‰æ ‘ç”±äºå…¶å¤©ç„¶çš„é€’å½’ç»“æ„ï¼Œä½¿å¾—åŸºäºäºŒå‰æ ‘çš„ç®—æ³•ï¼Œå‡æ‹¥æœ‰ç€é€’å½’æ€§è´¨ã€‚ä½¿ç”¨äºŒå‰æ ‘ï¼Œæ˜¯ç ”ç©¶å­¦ä¹ é€’å½’ç®—æ³•çš„æœ€ä½³å…¥é—¨æ–¹å¼ã€‚åœ¨è¿™ä¸€ç« é‡Œï¼Œæˆ‘ä»¬å°±æ¥çœ‹ä¸€çœ‹äºŒå‰æ ‘ä¸­çš„é€’å½’ç®—æ³•ã€‚</p>
<h2 id="äºŒå‰æ ‘é€’å½’æŠ€å·§"><a href="#äºŒå‰æ ‘é€’å½’æŠ€å·§" class="headerlink" title="äºŒå‰æ ‘é€’å½’æŠ€å·§"></a>äºŒå‰æ ‘é€’å½’æŠ€å·§</h2><ul>
<li>å¦‚æœé‡‡ç”¨å‰åºéå†çš„é€’å½’å½¢å¼è§£é¢˜, åˆ™å…¶å®æ˜¯ä»äºŒå‰æ ‘çš„é¡¶éƒ¨åˆ°åº•éƒ¨æ¥æ“ä½œçš„, è„‘æµ·ä¸­å¾—æœ‰è¿™ä¹ˆä¸€ä¸ªæƒ³è±¡, ä»ä¸Šåˆ°ä¸‹è®¿é—®æ¯ä¸ªç»“ç‚¹ä¹‹å‰åšäº‹</li>
<li>å¦‚æœé‡‡ç”¨ååºéå†çš„é€’å½’å½¢å¼è§£é¢˜, åˆ™å…¶å®æ˜¯ä»äºŒå‰æ ‘çš„åº•éƒ¨åˆ°é¡¶éƒ¨æ¥æ“ä½œçš„, ä»ä¸‹åˆ°ä¸Šè®¿é—®æ¯ä¸ªç»“ç‚¹ä¹‹ååšäº‹</li>
<li>ä¸€èˆ¬å¾ˆå°‘ç”¨ä¸­åºå½¢å¼è§£é¢˜</li>
</ul>
<h2 id="lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜"><a href="#lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜" class="headerlink" title="lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜"></a>lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜</h2><p><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/" target="_blank" rel="noopener">lc236</a>, ç»™å‡ºä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œç°åœ¨æœ‰è¿™ä¸ªäºŒå‰æ ‘çš„éƒ¨åˆ†èŠ‚ç‚¹ï¼Œè¦æ±‚è¿™äº›èŠ‚ç‚¹æœ€è¿‘çš„å…¬å…±ç¥–å…ˆ</p>
<ul>
<li><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/236-er-cha-shu-de-zui-jin-gong-gong-zu-xian-hou-xu/" target="_blank" rel="noopener">å‚è€ƒæ­¤å¤„</a></li>
<li><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/236-er-cha-shu-de-zui-jin-gong-gong-zu-xian-di-g-2/" target="_blank" rel="noopener">å‚è€ƒ</a></li>
</ul>
<p>è¿™é“é¢˜ç›®åˆ·è¿‡çš„åŒå­¦æœªå¿…çœŸæ­£äº†è§£è¿™é‡Œé¢å›æº¯çš„è¿‡ç¨‹ï¼Œä»¥åŠç»“æœæ˜¯å¦‚ä½•ä¸€å±‚ä¸€å±‚ä¼ ä¸Šå»çš„ã€‚é‚£ä¹ˆæˆ‘ç»™å¤§å®¶å½’çº³å¦‚ä¸‹ä¸‰ç‚¹ï¼š  </p>
<ul>
<li>æ±‚æœ€å°å…¬å…±ç¥–å…ˆï¼Œéœ€è¦ä»åº•å‘ä¸Šéå†ï¼Œé‚£ä¹ˆäºŒå‰æ ‘ï¼Œåªèƒ½é€šè¿‡ååºéå†ï¼ˆå³ï¼šå›æº¯ï¼‰å®ç°ä»ä½å‘ä¸Šçš„éå†æ–¹å¼ã€‚</li>
<li>åœ¨å›æº¯çš„è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶è¦éå†æ•´é¢—äºŒå‰æ ‘ï¼Œå³ä½¿å·²ç»æ‰¾åˆ°ç»“æœäº†ï¼Œä¾ç„¶è¦æŠŠå…¶ä»–èŠ‚ç‚¹éå†å®Œï¼Œå› ä¸ºè¦ä½¿ç”¨é€’å½’å‡½æ•°çš„è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„leftå’Œrightï¼‰åšé€»è¾‘åˆ¤æ–­ã€‚</li>
<li>è¦ç†è§£å¦‚æœè¿”å›å€¼leftä¸ºç©ºï¼Œrightä¸ä¸ºç©ºä¸ºä»€ä¹ˆè¦è¿”å›rightï¼Œä¸ºä»€ä¹ˆå¯ä»¥ç”¨è¿”å›rightä¼ ç»™ä¸Šä¸€å±‚ç»“æœã€‚</li>
</ul>
<p>å¯ä»¥è¯´è¿™é‡Œæ¯ä¸€æ­¥ï¼Œéƒ½æ˜¯æœ‰éš¾åº¦çš„ï¼Œéƒ½éœ€è¦å¯¹äºŒå‰æ ‘ï¼Œé€’å½’å’Œå›æº¯æœ‰ä¸€å®šçš„ç†è§£ã€‚</p>
<p>è‹¥ root æ˜¯ p,q çš„ æœ€è¿‘å…¬å…±ç¥–å…ˆ ï¼Œåˆ™åªå¯èƒ½ä¸ºä»¥ä¸‹æƒ…å†µä¹‹ä¸€ï¼š</p>
<ul>
<li>p å’Œ q åœ¨ root çš„å­æ ‘ä¸­ï¼Œä¸”åˆ†åˆ— root çš„ å¼‚ä¾§ï¼ˆå³åˆ†åˆ«åœ¨å·¦ã€å³å­æ ‘ä¸­ï¼‰ï¼›</li>
<li>p=root ï¼Œä¸” q åœ¨ root çš„å·¦æˆ–å³å­æ ‘ä¸­ï¼›</li>
<li>q=root ï¼Œä¸” p åœ¨ root çš„å·¦æˆ–å³å­æ ‘ä¸­ï¼›</li>
</ul>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/bt_lca.gif" alt></p>
<p>è€ƒè™‘é€šè¿‡é€’å½’å¯¹äºŒå‰æ ‘è¿›è¡Œååºéå†ï¼Œå½“é‡åˆ°èŠ‚ç‚¹ p æˆ– q æ—¶è¿”å›ã€‚ä»åº•è‡³é¡¶å›æº¯ï¼Œå½“èŠ‚ç‚¹ p,q åœ¨èŠ‚ç‚¹ root çš„å¼‚ä¾§æ—¶ï¼ŒèŠ‚ç‚¹ root å³ä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œåˆ™å‘ä¸Šè¿”å› root ã€‚</p>
<p>é€’å½’è§£æï¼š</p>
<ul>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ul>
<li>å½“è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å› null ï¼›</li>
<li>å½“ root ç­‰äº p,q ï¼Œåˆ™ç›´æ¥è¿”å› root ï¼›</li>
</ul>
</li>
<li>é€’æ¨å·¥ä½œï¼š<ul>
<li>å¼€å¯é€’å½’å·¦å­èŠ‚ç‚¹ï¼Œè¿”å›å€¼è®°ä¸º left ï¼›</li>
<li>å¼€å¯é€’å½’å³å­èŠ‚ç‚¹ï¼Œè¿”å›å€¼è®°ä¸º right ï¼›</li>
</ul>
</li>
<li>è¿”å›å€¼ï¼š æ ¹æ® left å’Œ right ï¼Œå¯å±•å¼€ä¸ºå››ç§æƒ…å†µï¼›<ul>
<li>1. å½“ left å’Œ right åŒæ—¶ä¸ºç©º ï¼šè¯´æ˜ root çš„å·¦ / å³å­æ ‘ä¸­éƒ½ä¸åŒ…å« p,q ï¼Œè¿”å› null ï¼›</li>
<li>2. å½“ left å’Œ right åŒæ—¶ä¸ä¸ºç©º ï¼šè¯´æ˜ p,q åˆ†åˆ—åœ¨ å½“å‰ root çš„ å¼‚ä¾§ ï¼ˆåˆ†åˆ«åœ¨ å·¦ / å³å­æ ‘ï¼‰ï¼Œå› æ­¤ å½“å‰çš„root ä¸ºp/gæœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œè¿”å› root ï¼›</li>
<li>3. å½“ left ä¸ºç©º ï¼Œright ä¸ä¸ºç©º ï¼šp,q éƒ½ä¸åœ¨ root çš„å·¦å­æ ‘ä¸­ï¼Œç›´æ¥è¿”å› right ,å…·ä½“å¯åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š<ul>
<li>p,q å…¶ä¸­ä¸€ä¸ªåœ¨ root çš„ å³å­æ ‘ ä¸­ï¼Œæ­¤æ—¶ right æŒ‡å‘ pï¼ˆå‡è®¾ä¸º p ï¼‰</li>
<li>p,q ä¸¤èŠ‚ç‚¹éƒ½åœ¨ root çš„ å³å­æ ‘ ä¸­ï¼Œæ­¤æ—¶çš„ right æŒ‡å‘ æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹</li>
</ul>
</li>
<li>4. å½“ left ä¸ä¸ºç©º ï¼Œ right ä¸ºç©º ï¼šä¸æƒ…å†µ 3. åŒç†ï¼›</li>
</ul>
</li>
</ul>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_LCA</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span><span class="params">(self, root, p, q)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type p: TreeNode</span></span><br><span class="line"><span class="string">        :type q: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> root == p <span class="keyword">or</span> root == q:  <span class="comment"># æ‰¾åˆ°pæˆ–qäº†, åˆ™è¿”å›pæˆ–q</span></span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        <span class="comment"># æ²¡æ‰¾åˆ°pæˆ–q, è€Œä¸”å·²ç»æ‰¾åˆ°åº•, è¶Šè¿‡å¶å­èŠ‚ç‚¹äº†, åˆ™è¿”å›None</span></span><br><span class="line">        <span class="keyword">if</span> root <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="comment"># åˆ° å·¦å­æ ‘ å»æ‰¾</span></span><br><span class="line">        left_child_find_res = self.lowestCommonAncestor(root.left, p, q)</span><br><span class="line">        <span class="comment"># åˆ° å³å­æ ‘ å»æ‰¾</span></span><br><span class="line">        right_child_find_res = self.lowestCommonAncestor(root.right, p, q)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> left_child_find_res:</span><br><span class="line">            <span class="comment"># å½“ left ä¸ºç©º ï¼Œright ä¸ä¸ºç©º ï¼šp,q éƒ½ä¸åœ¨ root çš„å·¦å­æ ‘ä¸­ï¼Œç›´æ¥è¿”å› right</span></span><br><span class="line">            <span class="keyword">return</span> right_child_find_res</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> right_child_find_res:</span><br><span class="line">            <span class="keyword">return</span> left_child_find_res</span><br><span class="line">        <span class="comment"># å½“ left å’Œ right åŒæ—¶ä¸ä¸ºç©º ï¼š</span></span><br><span class="line">        <span class="comment"># è¯´æ˜ p,q åˆ†åˆ—åœ¨ å½“å‰ root çš„ å¼‚ä¾§ ï¼ˆåˆ†åˆ«åœ¨ å·¦ / å³å­æ ‘ï¼‰ï¼Œ</span></span><br><span class="line">        <span class="comment"># å› æ­¤ å½“å‰çš„root ä¸ºp/gæœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œè¿”å› root ï¼›</span></span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure></p>
<h2 id="lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘"><a href="#lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘" class="headerlink" title="lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘"></a>lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘</h2><ul>
<li><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" target="_blank" rel="noopener">leetcode106é¢˜ååºä¸­åºæ±‚åŸäºŒå‰æ ‘</a></li>
<li>å‚è€ƒ: <a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/solution/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/solution/</a></li>
</ul>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/lc_106.png" alt></p>
<p>é¦–å…ˆæ¥çœ‹é¢˜ç›®ç»™å‡ºçš„ä¸¤ä¸ªå·²çŸ¥æ¡ä»¶ ä¸­åºéå†åºåˆ— å’Œ ååºéå†åºåˆ— æ ¹æ®è¿™ä¸¤ç§éå†çš„ç‰¹æ€§æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸‰ä¸ªç»“è®º</p>
<ul>
<li>åœ¨ååºéå†åºåˆ—ä¸­,æœ€åä¸€ä¸ªå…ƒç´ ä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹</li>
<li>åœ¨ä¸­åºéå†åºåˆ—ä¸­,æ ¹èŠ‚ç‚¹çš„å·¦è¾¹ä¸ºå·¦å­æ ‘(è®¾å…¶é•¿åº¦ä¸ºlen_left), æ ¹èŠ‚ç‚¹çš„å³è¾¹ä¸ºå³å­æ ‘</li>
<li>å½“å‰ååºéå†åºåˆ—ä¸­<code>[postorder_left_index...len_left-1]</code>ä¸ºå·¦å­æ ‘çš„ç»“ç‚¹, å…¶ä»–çš„é™¤æœ€åä¸€ä¸ªç»“ç‚¹å¤–éƒ½æ˜¯å³å­æ ‘çš„ç»“ç‚¹</li>
</ul>
<p>åˆ™ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_build_bt</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, inorder, postorder)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type inorder: List[int]</span></span><br><span class="line"><span class="string">        :type postorder: List[int]</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> inorder <span class="keyword">or</span> <span class="keyword">not</span> postorder:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">_proc_order_arr</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">                inorder_left_index, inorder_right_index, </span></span></span><br><span class="line"><span class="function"><span class="params">                postorder_left_index, postorder_right_index)</span>:</span>       </span><br><span class="line">            <span class="keyword">if</span> inorder_left_index &gt; inorder_right_index <span class="keyword">or</span> \</span><br><span class="line">                    postorder_left_index &gt; postorder_right_index:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            <span class="comment"># åœ¨ååºéå†åºåˆ—ä¸­,æœ€åä¸€ä¸ªå…ƒç´ ä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root_val = postorder[postorder_right_index] </span><br><span class="line">            root_inorder_index = inorder.index(root_val)</span><br><span class="line">            _len_left_child = root_inorder_index-inorder_left_index</span><br><span class="line">            root_node = TreeNode(root_val)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># åœ¨ä¸­åºéå†åºåˆ—ä¸­,æ ¹èŠ‚ç‚¹çš„å·¦è¾¹ä¸ºå·¦å­æ ‘(è®¾å…¶é•¿åº¦ä¸ºlen_left), æ ¹èŠ‚ç‚¹çš„å³è¾¹ä¸ºå³å­æ ‘</span></span><br><span class="line">            <span class="comment"># å½“å‰ååºéå†åºåˆ—ä¸­`[postorder_left_index...len_left-1]`ä¸ºå·¦å­æ ‘çš„ç»“ç‚¹, </span></span><br><span class="line">            <span class="comment"># å…¶ä»–çš„é™¤æœ€åä¸€ä¸ªç»“ç‚¹å¤–éƒ½æ˜¯å³å­æ ‘çš„ç»“ç‚¹</span></span><br><span class="line">            root_node.left = _proc_order_arr(</span><br><span class="line">                inorder_left_index,</span><br><span class="line">                root_inorder_index<span class="number">-1</span>,</span><br><span class="line">                postorder_left_index,</span><br><span class="line">                postorder_left_index + (_len_left_child<span class="number">-1</span>)</span><br><span class="line">            )</span><br><span class="line">            root_node.right = _proc_order_arr(</span><br><span class="line">                root_inorder_index+<span class="number">1</span>,</span><br><span class="line">                inorder_right_index,</span><br><span class="line">                postorder_left_index+(_len_left_child),</span><br><span class="line">                postorder_right_index<span class="number">-1</span></span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">return</span> root_node</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> _proc_order_arr(<span class="number">0</span>, len(inorder)<span class="number">-1</span>, <span class="number">0</span>, len(postorder)<span class="number">-1</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="lc112-path-sum"><a href="#lc112-path-sum" class="headerlink" title="lc112-path-sum"></a>lc112-path-sum</h2><p><a href="https://leetcode-cn.com/problems/path-sum/" target="_blank" rel="noopener">leetcode112é¢˜</a></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/path_sum.png" alt title="path_sumé—®é¢˜"></p>
<p><strong>æŠ€å·§</strong>: é¦–å…ˆè¦æ˜ç¡®æ­¤é€’å½’å‡½æ•°çš„å®šä¹‰: æŸ¥çœ‹rootæ˜¯å¦ä¸ºå¶å­ç»“ç‚¹å¹¶ä¸”rootçš„valæ˜¯å¦ç­‰äºsum_num, ç„¶åæ‰å¼€å§‹å†™ä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆè¦æ˜ç¡®æ­¤é€’å½’å‡½æ•°çš„å®šä¹‰: æŸ¥çœ‹rootæ˜¯å¦ä¸ºå¶å­ç»“ç‚¹å¹¶ä¸”rootçš„valæ˜¯å¦ç­‰äºsum_num,</span></span><br><span class="line"><span class="comment"># ç„¶åæ‰å¼€å§‹å†™ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">has_path_sum</span><span class="params">(root, sum_num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="comment"># åˆ¤æ–­æ˜¯å¦ä¸ºå¶å­</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> root.val == sum_num:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="comment"># é€šè¿‡é€’å½’, ç»§ç»­æŸ¥çœ‹å·¦å³å­©å­èŠ‚ç‚¹æ˜¯å¦æœ‰ sum_num-root.val</span></span><br><span class="line">    <span class="keyword">if</span> has_path_sum(root.left, sum_num-root.val):</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">return</span> has_path_sum(root.right, sum_num-root.val)</span><br></pre></td></tr></table></figure>
<h2 id="lc257-binary-tree-paths"><a href="#lc257-binary-tree-paths" class="headerlink" title="lc257-binary-tree-paths"></a>lc257-binary-tree-paths</h2><p><a href="https://leetcode-cn.com/problems/binary-tree-paths/" target="_blank" rel="noopener">lc257</a></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/bt_paths.png" alt title="æ‰“å°æ‰€æœ‰è·¯å¾„é—®é¢˜"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/bt_paths_answer.png" alt title="é€’å½’è¿‡ç¨‹"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_tree_paths</span><span class="params">(root)</span>:</span></span><br><span class="line">    result_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> result_arr</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right:</span><br><span class="line">        result_arr.append(str(root.val))</span><br><span class="line">        <span class="keyword">return</span> result_arr</span><br><span class="line">    <span class="comment"># è·å–å·¦å­©å­çš„è·¯å¾„</span></span><br><span class="line">    left_bt_path_arr = binary_tree_paths(root.left)</span><br><span class="line">    <span class="keyword">for</span> _path <span class="keyword">in</span> left_bt_path_arr:</span><br><span class="line">        result_arr.append(str(root.val) + <span class="string">"-&gt;"</span> + _path)</span><br><span class="line">    <span class="comment"># è·å–å³å­©å­çš„è·¯å¾„</span></span><br><span class="line">    right_bt_path_arr = binary_tree_paths(root.right)</span><br><span class="line">    <span class="keyword">for</span> _path <span class="keyword">in</span> right_bt_path_arr:</span><br><span class="line">        result_arr.append(str(root.val) + <span class="string">"-&gt;"</span> + _path)</span><br><span class="line">    <span class="keyword">return</span> result_arr</span><br></pre></td></tr></table></figure>
<h2 id="lc437-path-sum-3"><a href="#lc437-path-sum-3" class="headerlink" title="lc437-path-sum-3"></a>lc437-path-sum-3</h2><p><a href="https://leetcode-cn.com/problems/path-sum-iii/" target="_blank" rel="noopener">leetcode437é¢˜</a><br>ç»™å‡ºä¸€é¢—äºŒå‰æ ‘ä»¥åŠä¸€ä¸ªæ•°å­—sum, åˆ¤æ–­åœ¨è¿™æ£µäºŒå‰æ ‘ä¸Šå­˜åœ¨å¤šå°‘æ¡è·¯å¾„, å…¶è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹å’Œä¸ºsum.</p>
<ul>
<li>å…¶ä¸­è·¯å¾„ä¸ä¸€å®šè¦èµ·å§‹äºæ ¹èŠ‚ç‚¹, ç»ˆæ­¢äºå¶å­èŠ‚ç‚¹</li>
<li>è·¯å¾„å¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹, ä½†æ˜¯åªèƒ½æ˜¯å‘ä¸‹èµ°çš„</li>
</ul>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/path_sum_3_1.png" alt title="å½“åŒ…æ‹¬nodeæ—¶çš„é€’å½’æƒ…å†µ"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/path_sum_3_2.png" alt title="å½“ä¸åŒ…æ‹¬nodeæ—¶çš„é€’å½’æƒ…å†µ"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">path_sum_3</span><span class="params">(root, sum_num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    path_cnt = <span class="number">0</span></span><br><span class="line">    <span class="comment"># å…ˆæ±‚åŒ…æ‹¬nodeæœ¬èº«çš„æƒ…å†µ, æ­¤æ—¶è¿™è½®é€’å½’æ‰€è¯´çš„nodeæ˜¯ä»£ç ä¸­çš„root</span></span><br><span class="line">    <span class="comment"># è¿™ç§æƒ…å†µå¯ä»¥ç”¨ç±»ä¼¼äº path_sumé—®é¢˜ çš„ `has_path_sum`æ¥å®ç°</span></span><br><span class="line">    path_cnt += _get_path_sum_include_node(root, sum_num)</span><br><span class="line">    <span class="comment"># å†æ±‚ä¸åŒ…æ‹¬nodeæœ¬èº«çš„æƒ…å†µ, </span></span><br><span class="line">    <span class="comment"># ç›´æ¥è®¡ç®—å·¦å³å­©å­å¾€ä¸‹çš„è·¯å¾„ä¸­å’Œä¸ºsum_num(æ³¨æ„ä¸æ˜¯sum_num-root.val)çš„è·¯å¾„æ•°é‡</span></span><br><span class="line">    path_cnt += path_sum_3(root.left, sum_num)</span><br><span class="line">    path_cnt += path_sum_3(root.right, sum_num)</span><br><span class="line">    <span class="keyword">return</span> path_cnt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get_path_sum_include_node</span><span class="params">(node, sum_num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    _path_cnt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> node.val == sum_num:  <span class="comment"># nodeæœ¬èº«å€¼ç­‰äºsum_numä¹Ÿç®—ä¸€æ¡è·¯å¾„</span></span><br><span class="line">        _path_cnt += <span class="number">1</span></span><br><span class="line">    _path_cnt += _get_path_sum_include_node(node.left, sum_num-node.val)</span><br><span class="line">    _path_cnt += _get_path_sum_include_node(node.right, sum_num-node.val)</span><br><span class="line">    <span class="keyword">return</span> _path_cnt</span><br></pre></td></tr></table></figure>
<h3 id="è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„"><a href="#è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„" class="headerlink" title="è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„"></a>è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„</h3><p><a href="https://leetcode-cn.com/problems/path-sum-iii/" target="_blank" rel="noopener">leetcode437é¢˜</a>æ”¹ä¸€ä¸‹, æ”¹æˆ:<br>ç»™å‡ºä¸€é¢—äºŒå‰æ ‘ä»¥åŠä¸€ä¸ªæ•°å­—sum, è¯·ç»™å‡ºåœ¨è¿™æ£µäºŒå‰æ ‘ä¸Šçš„æ‰€æœ‰è·¯å¾„, å…¶è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹å’Œä¸ºsum.</p>
<ul>
<li>å…¶ä¸­è·¯å¾„ä¸ä¸€å®šè¦èµ·å§‹äºæ ¹èŠ‚ç‚¹, ç»ˆæ­¢äºå¶å­èŠ‚ç‚¹</li>
<li>è·¯å¾„å¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹, ä½†æ˜¯åªèƒ½æ˜¯å‘ä¸‹èµ°çš„</li>
</ul>
<p>æ ¹æ®<a href="#lc437-path-sum-3">æœ¬æ–‡lc437-path-sum-3</a>çš„æ€è·¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»£ç , æ³¨æ„æŸ¥çœ‹ä¸‹æ–¹ä»£ç ä¸­çš„æ³¨é‡Š.<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_sum_paths</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum_paths</span><span class="params">(self, root, sum)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        path_arr = []</span><br><span class="line">        <span class="comment"># å…ˆæ±‚åŒ…æ‹¬nodeæœ¬èº«çš„æƒ…å†µ, æ­¤æ—¶è¿™è½®é€’å½’æ‰€è¯´çš„nodeæ˜¯ä»£ç ä¸­çš„root</span></span><br><span class="line">        <span class="comment"># å†æ±‚ä¸åŒ…æ‹¬nodeæœ¬èº«çš„æƒ…å†µ, å·¦å³å­©å­çš„æƒ…å†µ, </span></span><br><span class="line">        <span class="comment"># è¿™æ ·ä¹Ÿå°±è¾¾åˆ°äº†æŠŠæ¯ä¸ªç»“ç‚¹éƒ½å½“åšæ˜¯rootç„¶åå‘ä¸‹å¯»æ‰¾è·¯å¾„çš„ç›®çš„</span></span><br><span class="line">        path_arr.extend(self._get_sum_paths(root, sum))</span><br><span class="line">        path_arr.extend(self.sum_paths(root.left, sum))</span><br><span class="line">        path_arr.extend(self.sum_paths(root.right, sum))</span><br><span class="line">        <span class="keyword">return</span> path_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_get_sum_paths</span><span class="params">(self, cur_root, sum_num)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cur_root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        path_str_arr = []</span><br><span class="line">        <span class="comment"># if sum_num == 0: </span></span><br><span class="line">        <span class="comment">#     pass  # ä¸èƒ½è¿™ä¹ˆå†™, è¿™ä¹ˆå†™çš„è¯, æ‹¿ä¸åˆ°ä¹‹å‰çš„é‚£ä¸ª cur_root äº†</span></span><br><span class="line">        <span class="keyword">if</span> sum_num - cur_root.val == <span class="number">0</span>:  <span class="comment"># æ­¤æ—¶å°±å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªè§£</span></span><br><span class="line">            path_str_arr.append(str(cur_root.val))</span><br><span class="line">            <span class="keyword">return</span> path_str_arr</span><br><span class="line"></span><br><span class="line">        left_path_str_arr = self._get_sum_paths(cur_root.left, sum_num-cur_root.val)</span><br><span class="line">        <span class="keyword">for</span> _cur_path_str <span class="keyword">in</span> left_path_str_arr:</span><br><span class="line">            path_str_arr.append(str(cur_root.val) + <span class="string">"-&gt;"</span> + _cur_path_str)</span><br><span class="line"></span><br><span class="line">        right_path_str_arr = self._get_sum_paths(cur_root.right, sum_num-cur_root.val)</span><br><span class="line">        <span class="keyword">for</span> _cur_path_str <span class="keyword">in</span> right_path_str_arr:</span><br><span class="line">            path_str_arr.append(str(cur_root.val) + <span class="string">"-&gt;"</span> + _cur_path_str)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> path_str_arr</span><br></pre></td></tr></table></figure></p>
<h2 id="lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><a href="#lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨" class="headerlink" title="lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"></a>lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</h2><p><a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/" target="_blank" rel="noopener">lc114</a><br>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ã€‚<br>ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \   \</span><br><span class="line">3   4   6</span><br></pre></td></tr></table></figure></p>
<p>å°†å…¶å±•å¼€ä¸ºï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line">   \</span><br><span class="line">    3</span><br><span class="line">     \</span><br><span class="line">      4</span><br><span class="line">       \</span><br><span class="line">        5</span><br><span class="line">         \</span><br><span class="line">          6</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å°è¯•ç»™å‡ºè¿™ä¸ªå‡½æ•°çš„å®šä¹‰ï¼š<br>ç»™flattenå‡½æ•°è¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹rootï¼Œé‚£ä¹ˆä»¥rootä¸ºæ ¹çš„äºŒå‰æ ‘å°±ä¼šè¢«æ‹‰å¹³ä¸ºä¸€æ¡é“¾è¡¨ã€‚<br>æˆ‘ä»¬å†æ¢³ç†ä¸€ä¸‹ï¼Œå¦‚ä½•æŒ‰é¢˜ç›®è¦æ±‚æŠŠä¸€æ£µæ ‘æ‹‰å¹³æˆä¸€æ¡é“¾è¡¨ï¼Ÿå¾ˆç®€å•ï¼Œä»¥ä¸‹æµç¨‹ï¼š</p>
<ol>
<li>å°†rootçš„å·¦å­æ ‘å’Œå³å­æ ‘<strong>æ‹‰å¹³</strong>ã€‚</li>
<li>å°†rootçš„å³å­æ ‘<strong>è¿æ¥</strong>åˆ°å·¦å­æ ‘ä¸‹æ–¹ï¼Œç„¶åå°†æ•´ä¸ªå·¦å­æ ‘ä½œä¸ºå³å­æ ‘ã€‚</li>
</ol>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/bt_recursion/flatten_1.png" alt title="äºŒå‰æ ‘æ‹‰å¹³ç¤ºæ„å›¾"></p>
<p>ä½ çœ‹ï¼Œè¿™å°±æ˜¯é€’å½’çš„é­…åŠ›ï¼Œä½ è¯´flattenå‡½æ•°æ˜¯æ€ä¹ˆæŠŠå·¦å³å­æ ‘æ‹‰å¹³çš„ï¼Ÿä¸å®¹æ˜“è¯´æ¸…æ¥šï¼Œä½†æ˜¯åªè¦çŸ¥é“flattençš„å®šä¹‰å¦‚æ­¤ï¼Œç›¸ä¿¡è¿™ä¸ªå®šä¹‰ï¼Œè®©rootåšå®ƒè¯¥åšçš„äº‹æƒ…ï¼Œç„¶åflattenå‡½æ•°å°±ä¼šæŒ‰ç…§å®šä¹‰å·¥ä½œã€‚<br>å¦å¤–æ³¨æ„é€’å½’æ¡†æ¶æ˜¯ååºéå†ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä»åº•åˆ°é¡¶çš„æ¥åš<strong>æ‹‰å¹³</strong>/<strong>è¿æ¥</strong>æ“ä½œã€‚<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_lc114</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># [lc114](https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">flatten</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: None Do not return anything, modify root in-place instead.</span></span><br><span class="line"><span class="string">        """</span> </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.flatten(root.left)</span><br><span class="line">        self.flatten(root.right)</span><br><span class="line">        temp_left = root.left</span><br><span class="line">        temp_right = root.right</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†å·¦å­æ ‘ä½œä¸ºå³å­æ ‘</span></span><br><span class="line">        root.left = <span class="keyword">None</span></span><br><span class="line">        root.right = temp_left</span><br><span class="line"></span><br><span class="line">        root_r = root</span><br><span class="line">        <span class="comment"># å°†å·¦å­æ ‘ä½œä¸ºå³å­æ ‘</span></span><br><span class="line">        <span class="keyword">while</span> (root_r.right):</span><br><span class="line">            root_r = root_r.right</span><br><span class="line">        root_r.right = temp_right</span><br></pre></td></tr></table></figure></p>
<h1 id="é€’å½’ä¸å›æº¯"><a href="#é€’å½’ä¸å›æº¯" class="headerlink" title="é€’å½’ä¸å›æº¯"></a>é€’å½’ä¸å›æº¯</h1><p>å‚è€ƒ: <a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/</a></p>
<p>å›æº¯æ³• é‡‡ç”¨è¯•é”™çš„æ€æƒ³ï¼Œå®ƒå°è¯•åˆ†æ­¥çš„å»è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚åœ¨åˆ†æ­¥è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå½“å®ƒé€šè¿‡å°è¯•å‘ç°ç°æœ‰çš„åˆ†æ­¥ç­”æ¡ˆä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„æ­£ç¡®çš„è§£ç­”çš„æ—¶å€™ï¼Œå®ƒå°†å–æ¶ˆä¸Šä¸€æ­¥ç”šè‡³æ˜¯ä¸Šå‡ æ­¥çš„è®¡ç®—ï¼Œå†é€šè¿‡å…¶å®ƒçš„å¯èƒ½çš„åˆ†æ­¥è§£ç­”å†æ¬¡å°è¯•å¯»æ‰¾é—®é¢˜çš„ç­”æ¡ˆã€‚å›æº¯æ³•é€šå¸¸ç”¨æœ€ç®€å•çš„é€’å½’æ–¹æ³•æ¥å®ç°ï¼Œåœ¨åå¤é‡å¤ä¸Šè¿°çš„æ­¥éª¤åå¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>æ‰¾åˆ°ä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„æ­£ç¡®çš„ç­”æ¡ˆï¼›</li>
<li>åœ¨å°è¯•äº†æ‰€æœ‰å¯èƒ½çš„åˆ†æ­¥æ–¹æ³•åå®£å‘Šè¯¥é—®é¢˜æ²¡æœ‰ç­”æ¡ˆã€‚</li>
</ul>
<p>å›æº¯æ³•æ˜¯è§£å†³å¾ˆå¤šç®—æ³•é—®é¢˜çš„å¸¸è§æ€æƒ³ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯ä¼ ç»Ÿäººå·¥æ™ºèƒ½çš„åŸºç¡€æ–¹æ³•ã€‚å…¶æœ¬è´¨ä¾ç„¶æ˜¯ä½¿ç”¨é€’å½’çš„æ–¹æ³•åœ¨æ ‘å½¢ç©ºé—´ä¸­å¯»æ‰¾è§£ã€‚åœ¨è¿™ä¸€ç« ï¼Œæˆ‘ä»¬æ¥å…·ä½“çœ‹ä¸€ä¸‹å°†é€’å½’è¿™ç§æŠ€æœ¯ä½¿ç”¨åœ¨éäºŒå‰æ ‘çš„ç»“æ„ä¸­ï¼Œä»è€Œè®¤è¯†å›æº¯è¿™ä¸€åŸºç¡€ç®—æ³•æ€æƒ³, </p>
<p><strong>å…¶å®ä¸Šä¸€èŠ‚çš„<a href="#äºŒå‰æ ‘ä¸é€’å½’">äºŒå‰æ ‘ä¸é€’å½’</a>ä¹Ÿæ˜¯å›æº¯çš„æ€æƒ³, ä¸è¿‡æˆ‘ä»¬é€šå¸¸æŠŠå›æº¯è¿™ä¸ªåè¯ç”¨åœ¨è¡¨ç¤ºé€’å½’æŸ¥æ‰¾è§£çš„é—®é¢˜ä¸Š</strong></p>
<p><strong>æ¯”å¦‚ä¸‹é¢è¿™ä¸ª<a href="#æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ">æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ</a>, å¦‚æœnæ˜¯ä¸€ä¸ªå›ºå®šçš„æ•°æ¯”å¦‚ä¸º8, å…¶å®æˆ‘ä»¬å¯ä»¥ä½¿ç”¨8é‡å¾ªç¯æ¥è§£å†³, ä½†æ˜¯næ˜¯ä¸å›ºå®šäº†, æ‰€ä»¥æˆ‘ä»¬åªèƒ½ä½¿ç”¨å›æº¯æ³•æ¥è§£å†³, å›æº¯æ³•æ˜¯æš´åŠ›è§£æ³•çš„ä¸€ä¸ªä¸»è¦æ‰‹æ®µ.</strong></p>
<p>åŠ¨æ€è§„åˆ’å…¶å®å¯ä»¥ç®—æ˜¯å›æº¯æ³•çš„åŸºç¡€ä¸Šä¸€ç§æ”¹è¿›, åŒæ—¶è¦å‘ç°ä¸€ä¸ªé€’å½’ç»“æ„, ä»¥åŠå…¶ä»–çš„ç‰¹ç‚¹å°±å¯ä»¥ç”¨å›æº¯æ³•, å…¶å®å›æº¯æ³•ä¹Ÿå¯ä»¥å‰ªææ¥ä¼˜åŒ–, ä¸ç”¨åˆ°è¾¾æ‰€æœ‰çš„å¶å­ç»“ç‚¹ä»è€Œæå‡æˆ‘ä»¬å›æº¯æ³•çš„è¿è¡Œæ•ˆç‡.</p>
<h2 id="å›æº¯ç®—æ³•æ¡†æ¶"><a href="#å›æº¯ç®—æ³•æ¡†æ¶" class="headerlink" title="å›æº¯ç®—æ³•æ¡†æ¶"></a>å›æº¯ç®—æ³•æ¡†æ¶</h2><p><a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-xiang-jie-by-labuladong-2/" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›æº¯ç®—æ³•æ¡†æ¶ã€‚è§£å†³ä¸€ä¸ªå›æº¯é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå†³ç­–æ ‘çš„éå†è¿‡ç¨‹ã€‚ä½ åªéœ€è¦æ€è€ƒ 3 ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>è·¯å¾„: ä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©ã€‚</li>
<li>é€‰æ‹©åˆ—è¡¨: ä¾›é€‰æ‹©çš„åˆ—è¡¨</li>
<li>ç»“æŸæ¡ä»¶: ä¹Ÿå°±æ˜¯åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶ã€‚</li>
</ol>
<p>å¦‚æœä½ ä¸ç†è§£è¿™ä¸‰ä¸ªè¯è¯­çš„è§£é‡Šï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬åé¢ä¼šç”¨ã€Œå…¨æ’åˆ—ã€å’Œã€ŒN çš‡åé—®é¢˜ã€è¿™ä¸¤ä¸ªç»å…¸çš„å›æº¯ç®—æ³•é—®é¢˜æ¥å¸®ä½ ç†è§£è¿™äº›è¯è¯­æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç°åœ¨ä½ å…ˆç•™ç€å°è±¡ã€‚</p>
<p>ä»£ç æ–¹é¢ï¼Œå›æº¯ç®—æ³•çš„æ¡†æ¶ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">result = []</span><br><span class="line">def backtrack(ä¾›é€‰æ‹©çš„åˆ—è¡¨, é€‰æ‹©çš„è·¯å¾„ä¸­é—´çŠ¶æ€):</span><br><span class="line">    if æ»¡è¶³ç»“æŸæ¡ä»¶:</span><br><span class="line">        result.add(é€‰æ‹©çš„è·¯å¾„ä¸­é—´çŠ¶æ€)</span><br><span class="line">        return</span><br><span class="line">    </span><br><span class="line">    for é€‰æ‹© in ä¾›é€‰æ‹©çš„åˆ—è¡¨:</span><br><span class="line">        åšé€‰æ‹©</span><br><span class="line">        backtrack(é€‰æ‹©çš„è·¯å¾„ä¸­é—´çŠ¶æ€, ä¾›é€‰æ‹©çš„åˆ—è¡¨)</span><br><span class="line">        æ’¤é”€é€‰æ‹©</span><br></pre></td></tr></table></figure></p>
<p>å…¶æ ¸å¿ƒå°±æ˜¯ for å¾ªç¯é‡Œé¢çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹å‰ã€Œåšé€‰æ‹©ã€ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹åã€Œæ’¤é”€é€‰æ‹©ã€ï¼Œç‰¹åˆ«ç®€å•ã€‚<br>å†™ backtrack å‡½æ•°æ—¶ï¼Œéœ€è¦ç»´æŠ¤èµ°è¿‡çš„ã€Œè·¯å¾„ã€å’Œå½“å‰å¯ä»¥åšçš„ã€Œé€‰æ‹©åˆ—è¡¨ã€ï¼Œå½“è§¦å‘ã€Œç»“æŸæ¡ä»¶ã€æ—¶ï¼Œå°†ã€Œè·¯å¾„ã€è®°å…¥ç»“æœé›†ã€‚</p>
<h2 id="æ’åˆ—é—®é¢˜åˆé›†"><a href="#æ’åˆ—é—®é¢˜åˆé›†" class="headerlink" title="æ’åˆ—é—®é¢˜åˆé›†"></a>æ’åˆ—é—®é¢˜åˆé›†</h2><h3 id="æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿"><a href="#æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿" class="headerlink" title="æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿"></a>æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿</h3><p>å’Œæœ¬æ–‡çš„<a href="#lc46-ç»å…¸å…¨æ’åˆ—">lc46-ç»å…¸å…¨æ’åˆ—</a>åŸºæœ¬ä¸€è‡´.</p>
<h3 id="lc46-ç»å…¸å…¨æ’åˆ—"><a href="#lc46-ç»å…¸å…¨æ’åˆ—" class="headerlink" title="lc46-ç»å…¸å…¨æ’åˆ—"></a>lc46-ç»å…¸å…¨æ’åˆ—</h3><p><a href="https://leetcode-cn.com/problems/permutations/solution/" target="_blank" rel="noopener">leetcode46é¢˜</a>:<br>ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, å…¶ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒ, æ±‚è¿”å›è¿™äº›å…ƒç´ çš„æ‰€æœ‰æ’åˆ—.<br>å¦‚å¯¹äº <code>[1, 2, 3]</code>, åˆ™è¿”å› <code>[ [1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1] ]</code></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/permutations_1.png" alt title="æ’åˆ—æ ‘å½¢å›¾ç¤º"></p>
<p><strong>è®¾è®¡çŠ¶æ€å˜é‡</strong>:  </p>
<ul>
<li><a href="https://leetcode-cn.com/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/" target="_blank" rel="noopener">å‚è€ƒ</a></li>
<li>é¦–å…ˆè¿™æ£µæ ‘é™¤äº†æ ¹ç»“ç‚¹å’Œå¶å­ç»“ç‚¹ä»¥å¤–ï¼Œæ¯ä¸€ä¸ªç»“ç‚¹åšçš„äº‹æƒ…å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå³ï¼šåœ¨å·²ç»é€‰æ‹©äº†ä¸€äº›æ•°çš„å‰æä¸‹ï¼Œåœ¨å‰©ä¸‹çš„è¿˜æ²¡æœ‰é€‰æ‹©çš„æ•°ä¸­ï¼Œä¾æ¬¡é€‰æ‹©ä¸€ä¸ªæ•°ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ª é€’å½’ ç»“æ„ï¼›</li>
<li>é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š ä¸€ä¸ªæ’åˆ—ä¸­çš„æ•°å­—å·²ç»é€‰å¤Ÿäº† ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºå½“å‰ç¨‹åºé€’å½’åˆ°ç¬¬å‡ å±‚ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªå˜é‡å«åš cnt ï¼Œæ¯æ¬¡å¾€<code>middle_state_container</code>é‡Œæ·»åŠ å…ƒç´ cntå°±åŠ 1, å½“cntç­‰äºå…¨æ’åˆ—é•¿åº¦åˆ™é€’å½’ç»ˆæ­¢. <strong>å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç”¨cnt, æ¯æ¬¡ç›´æ¥<code>if len(middle_state_container) == len(pending_proc_num_arr)</code>ä¹Ÿæ˜¯å¯ä»¥çš„, åªæ˜¯è¿™æ ·æ€§èƒ½ä¸é«˜</strong></li>
<li>å¸ƒå°”æ•°ç»„ usedï¼Œåˆå§‹åŒ–çš„æ—¶å€™éƒ½ä¸º false è¡¨ç¤ºè¿™äº›æ•°è¿˜æ²¡æœ‰è¢«é€‰æ‹©ï¼Œå½“æˆ‘ä»¬é€‰å®šä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œå°±å°†è¿™ä¸ªæ•°ç»„çš„ç›¸åº”ä½ç½®è®¾ç½®ä¸º true ï¼Œè¿™æ ·åœ¨è€ƒè™‘ä¸‹ä¸€ä¸ªä½ç½®çš„æ—¶å€™ï¼Œå°±èƒ½å¤Ÿä»¥ O(1)O(1) çš„æ—¶é—´å¤æ‚åº¦åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦è¢«é€‰æ‹©è¿‡ï¼Œè¿™æ˜¯ä¸€ç§ã€Œä»¥ç©ºé—´æ¢æ—¶é—´ã€çš„æ€æƒ³ã€‚<br>è¿™äº›å˜é‡ç§°ä¸ºã€ŒçŠ¶æ€å˜é‡ã€ï¼Œå®ƒä»¬è¡¨ç¤ºäº†åœ¨æ±‚è§£ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™æ‰€å¤„çš„é˜¶æ®µã€‚éœ€è¦æ ¹æ®é—®é¢˜çš„åœºæ™¯è®¾è®¡åˆé€‚çš„çŠ¶æ€å˜é‡ã€‚</li>
</ul>
<p>æ³¨æ„æŸ¥çœ‹ä¸‹æ–¹ä»£ç ä¸­çš„ <code>_generate_permutation</code>, æ’åˆ—é—®é¢˜åŸºæœ¬éƒ½æ˜¯è¿™ç§ä»£ç å†™æ³•æ¨¡æ¿.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_lc46</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># [lc46](https://leetcode-cn.com/problems/permutations/)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._used = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permute</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        middle_arr = []</span><br><span class="line">        res_arr = []</span><br><span class="line">        self._used = [ <span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(nums)) ]</span><br><span class="line">        self._generate_permutation(nums, <span class="number">0</span>, res_arr, middle_arr)</span><br><span class="line">        <span class="keyword">return</span> res_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_generate_permutation</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            self, nums, cnt, res_arr, middle_arr)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> cnt == len(nums):</span><br><span class="line">            <span class="comment"># å½“cntç­‰äºæ•°å­—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™è¯´æ˜ä¸€è½®å·²ç»é€’å½’åˆ°åº•äº†,</span></span><br><span class="line">            <span class="comment"># åˆ™å½“å‰çš„ ä¸­é—´çŠ¶æ€ä¿å­˜å™¨ middle_state_container åˆ™ä¸ºä¸€ä¸ªè§£</span></span><br><span class="line">            <span class="comment"># æ­¤å¤„éœ€è¦æ·±æ‹·è´ä¸€ä¸‹, å› ä¸ºä¸‹æ–¹ä»£ç æœ‰ä¸ª `middle_state_container.pop(-1)`</span></span><br><span class="line">            res_arr.append(copy.deepcopy(middle_arr))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">if</span> self._used[i]:</span><br><span class="line">                <span class="comment"># å¦‚æœæœ¬è½®é€’å½’ used_num_set å·²ç»æœ‰_single_num äº†, </span></span><br><span class="line">                <span class="comment"># è¯´æ˜å½“å‰æ’åˆ— middle_state_container ä¸­å·²ç»æœ‰ _single_num äº†</span></span><br><span class="line">                <span class="comment"># é‚£ä¸åº”è¯¥å†åŠ å…¥åˆ°è¿™ä¸ªæ’åˆ—ä¸­äº†</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            self._used[i] = <span class="keyword">True</span></span><br><span class="line">            middle_arr.append(nums[i])</span><br><span class="line">            self._generate_permutation(</span><br><span class="line">                nums,</span><br><span class="line">                cnt+<span class="number">1</span>,</span><br><span class="line">                res_arr, middle_arr)</span><br><span class="line">            <span class="comment"># æœ¬è½®é€’å½’å®Œæ¯•åè¦æ¸…ç©ºç›¸åº”è®°å½•çš„çŠ¶æ€, è¿™å°±æ˜¯å›æº¯, </span></span><br><span class="line">            <span class="comment"># é€’å½’æœ¬èº«ä¼šè®°å½•ä¸€äº›çŠ¶æ€å½“é€€å‡ºçš„æ—¶å€™ä»–ä¼šè‡ªåŠ¨æ¸…é™¤çŠ¶æ€, </span></span><br><span class="line">            <span class="comment"># é‚£æˆ‘ä»¬è‡ªå·±é¢å¤–è®°å½•çš„çŠ¶æ€, æ¯”å¦‚ self._used_num_set å’Œ</span></span><br><span class="line">            <span class="comment"># middle_state_container çš„çŠ¶æ€åº”è¯¥è‡ªå·±æ‰‹åŠ¨æ¸…é™¤</span></span><br><span class="line">            middle_arr.pop(<span class="number">-1</span>)</span><br><span class="line">            self._used[i] = <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<h3 id="è¿›é˜¶-lc47-å…¨æ’åˆ—2"><a href="#è¿›é˜¶-lc47-å…¨æ’åˆ—2" class="headerlink" title="è¿›é˜¶-lc47-å…¨æ’åˆ—2"></a>è¿›é˜¶-lc47-å…¨æ’åˆ—2</h3><p><a href="https://leetcode-cn.com/problems/permutations-ii" target="_blank" rel="noopener">lc47</a><br>ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—ï¼Œè¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚<br>ç¤ºä¾‹:<br>è¾“å…¥: [1,1,2]<br>è¾“å‡º:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,1,2],</span><br><span class="line">  [1,2,1],</span><br><span class="line">  [2,1,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p><a href="https://leetcode-cn.com/problems/permutations-ii/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liwe-2/" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a><br>æˆ‘ä»¬å…ˆå¯¹æ•°ç»„æ’åº, ç„¶åå°±æ–¹ä¾¿åšå‰ªæäº†<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/lc47_1.png" alt title="æ’åºä¹‹ååšå‰ªæ"></p>
<p>ç›¸è¾ƒlc46, ä»£ç diffå¦‚ä¸‹:<br><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">class Solution_lc47(object):</span><br><span class="line">    # [lc47](https://leetcode-cn.com/problems/permutations-ii)</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self._used = []</span><br><span class="line"></span><br><span class="line">    def permuteUnique(self, nums):</span><br><span class="line">        """</span><br><span class="line">        :type nums: List[int]</span><br><span class="line">        :rtype: List[List[int]]</span><br><span class="line">        """</span><br><span class="line">        middle_arr = []</span><br><span class="line">        res_arr = []</span><br><span class="line"><span class="addition">+       nums.sort()</span></span><br><span class="line">        self._used = [ False for _ in range(len(nums)) ]</span><br><span class="line">        self._generate_permutation(nums, 0, res_arr, middle_arr)</span><br><span class="line">        return res_arr</span><br><span class="line"></span><br><span class="line">    def _generate_permutation(</span><br><span class="line">            self, nums, cnt, res_arr, middle_arr):</span><br><span class="line">        if cnt == len(nums):</span><br><span class="line">            # å½“cntç­‰äºæ•°å­—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™è¯´æ˜ä¸€è½®å·²ç»é€’å½’åˆ°åº•äº†,</span><br><span class="line">            # åˆ™å½“å‰çš„ ä¸­é—´çŠ¶æ€ä¿å­˜å™¨ middle_state_container åˆ™ä¸ºä¸€ä¸ªè§£</span><br><span class="line">            # æ­¤å¤„éœ€è¦æ·±æ‹·è´ä¸€ä¸‹, å› ä¸ºä¸‹æ–¹ä»£ç æœ‰ä¸ª `middle_state_container.pop(-1)`</span><br><span class="line">            res_arr.append(copy.deepcopy(middle_arr))</span><br><span class="line">            return</span><br><span class="line">        for i in range(len(nums)):</span><br><span class="line">            if self._used[i]:</span><br><span class="line">                # å¦‚æœæœ¬è½®é€’å½’ used_num_set å·²ç»æœ‰_single_num äº†, </span><br><span class="line">                # è¯´æ˜å½“å‰æ’åˆ— middle_state_container ä¸­å·²ç»æœ‰ _single_num äº†</span><br><span class="line">                # é‚£ä¸åº”è¯¥å†åŠ å…¥åˆ°è¿™ä¸ªæ’åˆ—ä¸­äº†</span><br><span class="line">                continue</span><br><span class="line"><span class="addition">+           # å‰ªææ¡ä»¶ï¼ši &gt; 0 æ˜¯ä¸ºäº†ä¿è¯ nums[i - 1] æœ‰æ„ä¹‰</span></span><br><span class="line"><span class="addition">+           # å› ä¸ºæˆ‘ä»¬ä¸Šå¯¹numsæ•°ç»„æ’åºäº†, </span></span><br><span class="line"><span class="addition">+           # æ‰€ä»¥å¯ä»¥å†™ `self._used[i-1] == False` æ˜¯å› ä¸º</span></span><br><span class="line"><span class="addition">+           # nums[i - 1] åœ¨æ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ä¸­åˆšåˆšè¢«æ’¤é”€é€‰æ‹©</span></span><br><span class="line"><span class="addition">+           if self._used[i-1] == False and (i &gt; 0 and nums[i] == nums[i-1]):</span></span><br><span class="line"><span class="addition">+              continue</span></span><br><span class="line">            self._used[i] = True</span><br><span class="line">            middle_arr.append(nums[i])</span><br><span class="line">            self._generate_permutation(</span><br><span class="line">                nums,</span><br><span class="line">                cnt+1,</span><br><span class="line">                res_arr, middle_arr)</span><br><span class="line">            # æœ¬è½®é€’å½’å®Œæ¯•åè¦æ¸…ç©ºç›¸åº”è®°å½•çš„çŠ¶æ€, è¿™å°±æ˜¯å›æº¯, </span><br><span class="line">            # é€’å½’æœ¬èº«ä¼šè®°å½•ä¸€äº›çŠ¶æ€å½“é€€å‡ºçš„æ—¶å€™ä»–ä¼šè‡ªåŠ¨æ¸…é™¤çŠ¶æ€, </span><br><span class="line">            # é‚£æˆ‘ä»¬è‡ªå·±é¢å¤–è®°å½•çš„çŠ¶æ€, æ¯”å¦‚ self._used_num_set å’Œ</span><br><span class="line">            # middle_state_container çš„çŠ¶æ€åº”è¯¥è‡ªå·±æ‰‹åŠ¨æ¸…é™¤</span><br><span class="line">            middle_arr.pop(-1)</span><br><span class="line">            self._used[i] = False</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—"><a href="#æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—" class="headerlink" title="æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—"></a>æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—</h3><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_practice/bigo_1.jpg" alt><br>ä¸ç”¨ç®¡ç¬¬ä¸€é¢˜, æˆ‘ä»¬åšç¬¬äºŒé¢˜,<br><strong>æ€è·¯</strong>: è¿™ç±»é—®é¢˜æˆ‘ä»¬å…ˆæŠŠå¤šä¸ªæ•°ç»„åˆå¹¶ä¸”ä¿ç•™å„ä¸ªå…ƒç´ å¯¹åº”åŸæ•°ç»„çš„indexä¿¡æ¯, ç„¶åç”¨åˆå¹¶åçš„æ•°ç»„åšå…¨æ’åˆ—å¹¶å‰ªæå‰ªæ‰é‚£äº›ä¸ç¬¦åˆé¡ºåºæ€§è¦æ±‚çš„æå³å¯.<br>ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_bigo_thread_permute</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._used = <span class="keyword">None</span></span><br><span class="line">        self._thread_str_arr = [[<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>], [<span class="string">"E"</span>, <span class="string">"F"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>]]</span><br><span class="line">        <span class="comment"># self._thread_str_arr = [["A", "B"], ["E"]]</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bigo_thread_permute</span><span class="params">(self)</span>:</span></span><br><span class="line">        middle_arr = []</span><br><span class="line">        res_arr = []</span><br><span class="line">        <span class="comment"># æ–¹ä¾¿ç²¾å‡†çš„æŸ¥è¯¢æ¯ä¸ªå­—æ¯æ˜¯å¦è¢«ä½¿ç”¨ä»¥åŠ</span></span><br><span class="line">        <span class="comment"># æ–¹ä¾¿ä¿è¯abcdå’Œefghå„è‡ªçš„é¡ºåºæ€§æ—¶å‰ªæ</span></span><br><span class="line">        self._used = [</span><br><span class="line">            [<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(self._thread_str_arr[i])) ]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(self._thread_str_arr))</span><br><span class="line">        ]</span><br><span class="line">        _str_2_index_map = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i, _sub_arr <span class="keyword">in</span> enumerate(self._thread_str_arr):</span><br><span class="line">            <span class="keyword">for</span> j, _str <span class="keyword">in</span> enumerate(_sub_arr):</span><br><span class="line">                <span class="comment"># å­˜å¥½strå’Œä»–ä»¬çš„æ•°ç»„çš„indexçš„å¯¹åº”å…³ç³»</span></span><br><span class="line">                _str_2_index_map[_str] = [i, j]</span><br><span class="line">        self._generate_permute(_str_2_index_map, <span class="number">0</span>, res_arr, middle_arr)</span><br><span class="line">        <span class="keyword">return</span> res_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_generate_permute</span><span class="params">(self, str_2_index_map, cnt, res_arr, middle_arr)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> cnt == len(str_2_index_map):</span><br><span class="line">            res_arr.append(copy.deepcopy(middle_arr))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> _str, _index_list <span class="keyword">in</span> str_2_index_map.iteritems():</span><br><span class="line">            i = _index_list[<span class="number">0</span>]</span><br><span class="line">            j = _index_list[<span class="number">1</span>]</span><br><span class="line">            <span class="comment"># å‰ªæ: ä¸ºäº†ä¿è¯abcdå’Œefghå„è‡ªçš„é¡ºåºæ€§, </span></span><br><span class="line">            <span class="comment"># æ‹¿å½“å‰çš„jå’Œusedå¤šç»´æ•°ç»„é‡Œiæ•°ç»„é‡Œçš„å·²ç»useçš„æœ€å¤§çš„max_jæ¥ä½œæ¯”è¾ƒ</span></span><br><span class="line">            <span class="comment"># å¦‚æœå°äºç­‰äºåˆ™å‰ªæ, </span></span><br><span class="line">            <span class="comment"># jå¤§äºmax_jæ‰èƒ½ä¿è¯æ·»åŠ åˆ°middle_arré‡Œçš„abcdå’Œefghå„è‡ªçš„é¡ºåºæ€§</span></span><br><span class="line">            <span class="keyword">if</span> j &lt;= self._get_used_max_index_j(i):</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> self._used[i][j]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            self._used[i][j] = <span class="keyword">True</span></span><br><span class="line">            middle_arr.append(_str)</span><br><span class="line">            self._generate_permute(str_2_index_map, cnt+<span class="number">1</span>, res_arr, middle_arr)</span><br><span class="line">            middle_arr.pop(<span class="number">-1</span>)</span><br><span class="line">            self._used[i][j] = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_get_used_max_index_j</span><span class="params">(self, i)</span>:</span></span><br><span class="line">        _max_index_j = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">for</span> _cur_index_j, _is_used <span class="keyword">in</span> enumerate(self._used[i]):</span><br><span class="line">            <span class="keyword">if</span> _is_used:</span><br><span class="line">                _max_index_j = _cur_index_j</span><br><span class="line">        <span class="keyword">return</span> _max_index_j</span><br></pre></td></tr></table></figure></p>
<h3 id="æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ"><a href="#æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ" class="headerlink" title="æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ"></a>æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ</h3><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/letter_combinations_of_a_phone_number.png" alt title="é—®é¢˜æè¿°"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/letter_combinations_of_a_phone_number1.png" alt title="è§£é¢˜æ€è·¯ä¹‹æ ‘å½¢ç»“æ„"></p>
<p>é€’å½’å…³ç³»å¼:</p>
<ul>
<li><code>digits</code> æ˜¯æ•°å­—å­—ç¬¦ä¸²</li>
<li><code>s(digits)</code> æ˜¯ <code>digits</code> æ‰€èƒ½ä»£è¡¨çš„å­—æ¯å­—ç¬¦ä¸²</li>
<li>åˆ™å…³ç³»å¼å¦‚ä¸‹:  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s(digits[<span class="number">0.</span>..n<span class="number">-1</span>])</span><br><span class="line">    = letter(digits[<span class="number">0</span>]) + s(digits[<span class="number">1.</span>..n<span class="number">-1</span>])</span><br><span class="line">    = letter(digits[<span class="number">0</span>]) + letter(digits[<span class="number">1</span>]) + s(digits[<span class="number">2.</span>..n<span class="number">-1</span>])</span><br><span class="line">    = ...</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>è¿™é“é¢˜è™½ç„¶å«å­—æ¯ç»„åˆé—®é¢˜, ä½†å®é™…ä¸Šæ˜¯ä¸ªæ’åˆ—é—®é¢˜.</strong><br>æ³¨æ„æŸ¥çœ‹ä¸‹æ–¹ä»£ç ä¸­çš„ <code>_get_letter_combination</code>, æ’åˆ—é—®é¢˜åŸºæœ¬éƒ½æ˜¯è¿™ç§ä»£ç å†™æ³•æ¨¡æ¿.</p>
<p>å®ç°ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">digits_map = &#123;</span><br><span class="line">    <span class="string">"0"</span>: <span class="string">" "</span>,</span><br><span class="line">    <span class="string">"1"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="string">"2"</span>: <span class="string">"abc"</span>,</span><br><span class="line">    <span class="string">"3"</span>: <span class="string">"def"</span>,</span><br><span class="line">    <span class="string">"4"</span>: <span class="string">"ghi"</span>,</span><br><span class="line">    <span class="string">"5"</span>: <span class="string">"jkl"</span>,</span><br><span class="line">    <span class="string">"6"</span>: <span class="string">"mno"</span>,</span><br><span class="line">    <span class="string">"7"</span>: <span class="string">"pqrs"</span>,</span><br><span class="line">    <span class="string">"8"</span>: <span class="string">"tuv"</span>,</span><br><span class="line">    <span class="string">"9"</span>: <span class="string">"wxyz"</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">letter_combinations_of_a_phone_number</span><span class="params">(digits_str)</span>:</span></span><br><span class="line">    result_str_arr = []</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> digits_str:</span><br><span class="line">        <span class="keyword">return</span> result_str_arr</span><br><span class="line">    <span class="keyword">assert</span> <span class="string">"1"</span> <span class="keyword">not</span> <span class="keyword">in</span> digits_str, <span class="string">"we dont proc 1"</span></span><br><span class="line">    </span><br><span class="line">    middle_state_container = []</span><br><span class="line">    _get_letter_combination(result_str_arr, digits_str, index=<span class="number">0</span>,</span><br><span class="line">        middle_state_container=middle_state_container)</span><br><span class="line">    <span class="keyword">return</span> result_str_arr    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get_letter_combination</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        result_str_arr, pending_proc_digits_str, index, middle_state_container)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    middle_state_container ä¸­ä¿å­˜äº†</span></span><br><span class="line"><span class="string">    æ­¤æ—¶ä» pending_proc_digits_str[0...index-1] ç¿»è¯‘å¾—åˆ°çš„ä¸€ä¸ªå­—æ¯å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    å¯»æ‰¾å’Œpending_proc_digits_str[index]åŒ¹é…çš„å­—æ¯,</span></span><br><span class="line"><span class="string">    è·å¾—pending_proc_digits_str[0...index]ç¿»è¯‘å¾—åˆ°çš„è§£</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> index == len(pending_proc_digits_str):</span><br><span class="line">        <span class="comment"># å½“indexç­‰äºæ•°å­—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™è¯´æ˜ä¸€è½®å·²ç»é€’å½’åˆ°åº•äº†,</span></span><br><span class="line">        <span class="comment"># åˆ™å½“å‰çš„ ä¸­é—´çŠ¶æ€ä¿å­˜å™¨ middle_state_container åˆ™ä¸ºä¸€ä¸ªè§£</span></span><br><span class="line">        <span class="comment"># æ­¤å¤„éœ€è¦æ·±æ‹·è´ä¸€ä¸‹, å› ä¸ºä¸‹æ–¹ä»£ç æœ‰ä¸ª `middle_state_container.pop(-1)`</span></span><br><span class="line">        result_str_arr.append(copy.deepcopy(middle_state_container))</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    <span class="comment"># # ä¸å¤„ç†1å› ä¸º1å¯¹åº”çš„æ²¡å­—æ¯</span></span><br><span class="line">    <span class="comment"># while pending_proc_digits_str[index] == "1":</span></span><br><span class="line">    <span class="comment">#     index += 1</span></span><br><span class="line">    <span class="comment">#     if index &gt;= len(pending_proc_digits_str):</span></span><br><span class="line">    <span class="comment">#         return</span></span><br><span class="line">    _cur_letters_str = digits_map[pending_proc_digits_str[index]]</span><br><span class="line">    <span class="keyword">for</span> _single_letter_str <span class="keyword">in</span> _cur_letters_str:</span><br><span class="line">        middle_state_container.append(_single_letter_str)</span><br><span class="line">        _get_letter_combination(</span><br><span class="line">            result_str_arr, pending_proc_digits_str, index+<span class="number">1</span>,</span><br><span class="line">            middle_state_container)</span><br><span class="line">        middle_state_container.pop(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="ç»„åˆé—®é¢˜åˆé›†"><a href="#ç»„åˆé—®é¢˜åˆé›†" class="headerlink" title="ç»„åˆé—®é¢˜åˆé›†"></a>ç»„åˆé—®é¢˜åˆé›†</h2><h3 id="ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿"><a href="#ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿" class="headerlink" title="ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿"></a>ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿</h3><p>å’Œæœ¬æ–‡çš„<a href="#lc77-ç»å…¸ç»„åˆé—®é¢˜">lc77-ç»å…¸ç»„åˆé—®é¢˜</a>åŸºæœ¬ä¸€è‡´.</p>
<h3 id="lc77-ç»å…¸ç»„åˆé—®é¢˜"><a href="#lc77-ç»å…¸ç»„åˆé—®é¢˜" class="headerlink" title="lc77-ç»å…¸ç»„åˆé—®é¢˜"></a>lc77-ç»å…¸ç»„åˆé—®é¢˜</h3><p><a href="https://leetcode-cn.com/problems/combinations/" target="_blank" rel="noopener">leetcode77é¢˜</a><br>ç»™å‡ºä¸¤ä¸ªæ•´æ•°nå’Œk, æ±‚å‡º1â€¦nä¸­kä¸ªæ•°å­—çš„æ‰€æœ‰ç»„åˆ<br>å¦‚n=4, k=2, åˆ™ç»“æœä¸º<code>[ [1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4] ]</code></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/combinations.png" alt title="ç»„åˆé—®é¢˜è§£é¢˜æ€è·¯å›¾"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_lc77</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combine</span><span class="params">(self, n, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result_arr = []</span><br><span class="line">        <span class="keyword">if</span> k &lt;= <span class="number">0</span> <span class="keyword">or</span> k &gt; n <span class="keyword">or</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> result_arr</span><br><span class="line">        middle_state_container = []</span><br><span class="line">        self._generate_combinations(result_arr, n, k, <span class="number">1</span>, middle_state_container)</span><br><span class="line">        <span class="keyword">return</span> result_arr</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_generate_combinations</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            self, result_arr,</span></span></span><br><span class="line"><span class="function"><span class="params">            pending_proc_n, pending_prco_k, start_num, middle_state_container)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        æ±‚è§£C(n,k), å½“å‰å·²ç»æ‰¾åˆ°çš„ç»„åˆå­˜å‚¨åœ¨ middle_state_container ä¸­,</span></span><br><span class="line"><span class="string">        éœ€è¦ä»start_numå¼€å§‹æœç´¢æ–°çš„å…ƒç´ </span></span><br><span class="line"><span class="string">        å¯ä»¥çœ‹å‡ºè·Ÿæ’åˆ—é—®é¢˜çš„ä»£ç æ¨¡æ¿å¾ˆåƒ, </span></span><br><span class="line"><span class="string">        åªæœ‰ç»ˆæ­¢é€’å½’æ¡ä»¶å’Œforå¾ªç¯çš„start_numä¸å¤ªä¸€æ ·</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> len(middle_state_container) == pending_prco_k:</span><br><span class="line">            result_arr.append(copy.deepcopy(middle_state_container))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment"># æ¯æ¬¡é€’å½’ä»start_numå¼€å§‹ç›´åˆ° pending_proc_n</span></span><br><span class="line">        <span class="keyword">for</span> _index <span class="keyword">in</span> xrange(start_num, pending_proc_n+<span class="number">1</span>):</span><br><span class="line">            middle_state_container.append(_index)</span><br><span class="line">            self._generate_combinations(</span><br><span class="line">                result_arr, pending_proc_n, pending_prco_k,</span><br><span class="line">                _index+<span class="number">1</span>, middle_state_container)</span><br><span class="line">            middle_state_container.pop(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ"><a href="#ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ" class="headerlink" title="ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ"></a>ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ</h3><p>ä»ä¸Šé¢çš„ ç»„åˆé—®é¢˜è§£é¢˜æ€è·¯ ä¸­å¯ä»¥çœ‹å‡ºå…¶å®æ˜¯æ²¡æœ‰å¿…è¦è®¡ç®— â€œå–4â€ çš„æ“ä½œçš„,<br>æ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨<strong>å‰ªæ</strong>çš„æ€æƒ³, æŠŠè¿™éƒ¨åˆ†ä¼˜åŒ–æ‰, ä»£ç å¦‚ä¸‹:<br><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">def _generate_combinations_optimized(</span><br><span class="line">        self, result_arr,</span><br><span class="line">        pending_proc_n, pending_prco_k, start_num, middle_state_container):</span><br><span class="line">    """</span><br><span class="line">    æ±‚è§£C(n,k), å½“å‰å·²ç»æ‰¾åˆ°çš„ç»„åˆå­˜å‚¨åœ¨ middle_state_container ä¸­,</span><br><span class="line">    éœ€è¦ä»start_numå¼€å§‹æœç´¢æ–°çš„å…ƒç´ </span><br><span class="line">    å¯ä»¥çœ‹å‡ºè·Ÿæ’åˆ—é—®é¢˜çš„ä»£ç æ¨¡æ¿å¾ˆåƒ, </span><br><span class="line">    åªæœ‰ç»ˆæ­¢é€’å½’æ¡ä»¶å’Œforå¾ªç¯çš„start_numä¸å¤ªä¸€æ ·</span><br><span class="line">    """</span><br><span class="line">    if len(middle_state_container) == pending_prco_k:</span><br><span class="line">        result_arr.append(copy.deepcopy(middle_state_container))</span><br><span class="line">        return</span><br><span class="line"><span class="deletion">-   # æ¯æ¬¡é€’å½’ä»start_numå¼€å§‹ç›´åˆ° pending_proc_n</span></span><br><span class="line"><span class="deletion">-   for _cur_num in xrange(start_num, pending_proc_n+1):</span></span><br><span class="line"><span class="addition">+   # å‰ªæçš„æ€æƒ³, </span></span><br><span class="line"><span class="addition">+   # è¿˜æœ‰k - middle_state_container.size()ä¸ªç©ºä½,</span></span><br><span class="line"><span class="addition">+   # æ‰€ä»¥, [i...n] ä¸­è‡³å°‘è¦æœ‰ k - middle_state_container.size() ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="addition">+   # iæœ€å¤šä¸º n - (k - middle_state_container.size()) + 1</span></span><br><span class="line"><span class="addition">+   _cur_stop_num = pending_proc_n - (</span></span><br><span class="line"><span class="addition">+       pending_prco_k - middle_state_container.size()) + 1</span></span><br><span class="line"><span class="addition">+   # æ¯æ¬¡é€’å½’ä»start_numå¼€å§‹ç›´åˆ° _cur_stop_num</span></span><br><span class="line"><span class="addition">+   for _cur_num in xrange(start_num, _cur_stop_num+1):</span></span><br><span class="line">        middle_state_container.append(_cur_num)</span><br><span class="line">        self._generate_combinations(</span><br><span class="line">            result_arr, pending_proc_n, pending_prco_k,</span><br><span class="line">            _cur_num+1, middle_state_container)</span><br><span class="line">        middle_state_container.pop(-1)</span><br></pre></td></tr></table></figure></p>
<h3 id="lc39-ç»„åˆæ€»å’Œ"><a href="#lc39-ç»„åˆæ€»å’Œ" class="headerlink" title="lc39-ç»„åˆæ€»å’Œ"></a>lc39-ç»„åˆæ€»å’Œ</h3><p><a href="https://leetcode-cn.com/problems/combination-sum/" target="_blank" rel="noopener">lc39</a></p>
<p>ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚candidates ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚è¯´æ˜ï¼š</p>
<ul>
<li>æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ targetï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚</li>
<li>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ </li>
</ul>
<p>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7,<br>æ‰€æ±‚è§£é›†ä¸ºï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [7],</span><br><span class="line">  [2,2,3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šcandidates = [2,3,5], target = 8,<br>æ‰€æ±‚è§£é›†ä¸ºï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">Â  [2,2,2,2],</span><br><span class="line">Â  [2,3,3],</span><br><span class="line">Â  [3,5]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/lc39_1.png" alt></p>
<p><a href="https://leetcode-cn.com/problems/combination-sum/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-2/" target="_blank" rel="noopener">å‚è€ƒ</a><br>ä»¥è¾“å…¥ï¼šcandidates = [2, 3, 6, 7], target = 7 ä¸ºä¾‹<br>è¿™æ£µæ ‘æœ‰ 44 ä¸ªå¶å­ç»“ç‚¹çš„å€¼ 00ï¼Œå¯¹åº”çš„è·¯å¾„åˆ—è¡¨æ˜¯ [[2, 2, 3], [2, 3, 2], [3, 2, 2], [7]]ï¼Œè€Œç¤ºä¾‹ä¸­ç»™å‡ºçš„è¾“å‡ºåªæœ‰ [[7], [2, 2, 3]]ã€‚å³ï¼šé¢˜ç›®ä¸­è¦æ±‚æ¯ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„è§£æ˜¯ ä¸è®¡ç®—é¡ºåº çš„ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†æä¸ºä»€ä¹ˆä¼šäº§ç”Ÿé‡å¤ã€‚</p>
<p><strong>é’ˆå¯¹å…·ä½“ä¾‹å­åˆ†æé‡å¤è·¯å¾„äº§ç”Ÿçš„åŸå› ï¼ˆéš¾ç‚¹ï¼‰</strong><br>å‹æƒ…æç¤ºï¼šè¿™ä¸€éƒ¨åˆ†æˆ‘çš„æè¿°æ˜¯æ™¦æ¶©éš¾æ‡‚çš„ï¼Œå»ºè®®å¤§å®¶å…ˆè‡ªå·±è§‚å¯Ÿå‡ºç°é‡å¤çš„åŸå› ï¼Œè¿›è€Œæ€è€ƒå¦‚ä½•è§£å†³ã€‚<br>äº§ç”Ÿé‡å¤çš„åŸå› æ˜¯ï¼šåœ¨æ¯ä¸€ä¸ªç»“ç‚¹ï¼Œåšå‡æ³•ï¼Œå±•å¼€åˆ†æ”¯çš„æ—¶å€™ï¼Œç”±äºé¢˜ç›®ä¸­è¯´ æ¯ä¸€ä¸ªå…ƒç´ å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œæˆ‘ä»¬è€ƒè™‘äº† æ‰€æœ‰çš„ å€™é€‰æ•°ï¼Œå› æ­¤å‡ºç°äº†é‡å¤çš„åˆ—è¡¨ã€‚<br>ä¸€ç§ç®€å•çš„å»é‡æ–¹æ¡ˆæ˜¯å€ŸåŠ©å“ˆå¸Œè¡¨çš„å¤©ç„¶å»é‡çš„åŠŸèƒ½ï¼Œä½†å®é™…æ“ä½œä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°å¹¶æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“ã€‚<br>å¯ä¸å¯ä»¥åœ¨æœç´¢çš„æ—¶å€™å°±å»é‡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚é‡åˆ°è¿™ä¸€ç±»ç›¸åŒå…ƒç´ ä¸è®¡ç®—é¡ºåºçš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æœç´¢çš„æ—¶å€™å°±éœ€è¦ æŒ‰æŸç§é¡ºåºæœç´¢ã€‚å…·ä½“çš„åšæ³•æ˜¯ï¼šæ¯ä¸€æ¬¡æœç´¢çš„æ—¶å€™è®¾ç½® ä¸‹ä¸€è½®æœç´¢çš„èµ·ç‚¹ <code>start_index</code>, è¯·çœ‹ä¸‹å›¾ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/lc39_2.png" alt></p>
<p>å³ï¼šä»æ¯ä¸€å±‚çš„ç¬¬ 22 ä¸ªç»“ç‚¹å¼€å§‹ï¼Œéƒ½ä¸èƒ½å†æœç´¢äº§ç”ŸåŒä¸€å±‚ç»“ç‚¹å·²ç»ä½¿ç”¨è¿‡çš„ candidate é‡Œçš„å…ƒç´ </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_lc39</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum</span><span class="params">(self, candidates, target)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type candidates: List[int]</span></span><br><span class="line"><span class="string">        :type target: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> candidates:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        res_arr = []</span><br><span class="line">        middle_state_arr = []</span><br><span class="line">        self._generate_combinations(candidates, target, <span class="number">0</span>, res_arr, middle_state_arr)</span><br><span class="line">        <span class="keyword">return</span> res_arr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_generate_combinations</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            self, candidates_arr, cur_target_num, start_index, res_arr, middle_state_arr)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> cur_target_num &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> cur_target_num == <span class="number">0</span>:</span><br><span class="line">            res_arr.append(copy.deepcopy(middle_state_arr))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment"># è¿™ä¸ªcur_indexæ˜¯ç”¨æ¥å»é™¤é‡å¤ç»„åˆçš„</span></span><br><span class="line">        <span class="keyword">for</span> cur_index <span class="keyword">in</span> range(start_index, len(candidates_arr)):</span><br><span class="line">            middle_state_arr.append(candidates_arr[cur_index])</span><br><span class="line">            cur_target_num -= candidates_arr[cur_index]</span><br><span class="line">            self._generate_combinations(</span><br><span class="line">                candidates_arr, cur_target_num,</span><br><span class="line">                cur_index,</span><br><span class="line">                res_arr, middle_state_arr)</span><br><span class="line">            cur_target_num += candidates_arr[cur_index]</span><br><span class="line">            middle_state_arr.pop(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2"><a href="#è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2" class="headerlink" title="è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2"></a>è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2</h3><p><a href="https://leetcode-cn.com/problems/combination-sum-ii" target="_blank" rel="noopener">lc40</a> å¦‚æœcandidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡å‘¢?<br>é‚£åº”è¯¥æ”¹æˆ:<br><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">for cur_index in range(start_index, len(candidates_arr)):</span><br><span class="line">    middle_state_arr.append(candidates_arr[cur_index])</span><br><span class="line">    cur_target_num -= candidates_arr[cur_index]</span><br><span class="line">    self._generate_combinations(</span><br><span class="line">        candidates_arr, cur_target_num,</span><br><span class="line"><span class="deletion">-       cur_index,</span></span><br><span class="line"><span class="addition">+       cur_index+1,</span></span><br><span class="line">        res_arr, middle_state_arr)</span><br><span class="line">    cur_target_num += candidates_arr[cur_index]</span><br><span class="line">    middle_state_arr.pop(-1)</span><br></pre></td></tr></table></figure></p>
<h3 id="å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ"><a href="#å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ" class="headerlink" title="å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ"></a>å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ</h3><p>é¢˜ç›®: 4 ä¸ªæ•°ç»„ï¼Œç›®æ ‡å€¼ targetï¼Œæ¯ä¸ªæ•°ç»„å„æ‰¾ä¸€ä¸ªæ•°ï¼Œä½¿å¾— 4 ä¸ªæ•°å’Œä¸º targetï¼Œæ•°ç»„æ²¡æœ‰é¡ºåºï¼Œæ‰¾åˆ°æ‰€æœ‰ä¸é‡å¤çš„ç»„åˆï¼Œè¦æ±‚æ—¶é—´å¤æ‚åº¦ O(n^2)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_multi_arr_sum</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># é¢˜ç›®: 4 ä¸ªæ•°ç»„ï¼Œç›®æ ‡å€¼ targetï¼Œæ¯ä¸ªæ•°ç»„å„æ‰¾ä¸€ä¸ªæ•°ï¼Œä½¿å¾— 4 ä¸ªæ•°å’Œä¸º targetï¼Œ</span></span><br><span class="line">    <span class="comment"># æ•°ç»„æ²¡æœ‰é¡ºåºï¼Œæ‰¾åˆ°æ‰€æœ‰ä¸é‡å¤çš„ç»„åˆï¼Œ</span></span><br><span class="line">    <span class="comment"># è¦æ±‚æ—¶é—´å¤æ‚åº¦ O(n^2)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multi_arr_sum</span><span class="params">(self, nums_arrs, target_sum_num)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums_arrs:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        middle_arr = []</span><br><span class="line">        res_arr = []</span><br><span class="line">        self._generate_result(</span><br><span class="line">            nums_arrs, target_sum_num, <span class="number">0</span>, res_arr, middle_arr)</span><br><span class="line">        <span class="keyword">return</span> res_arr</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_generate_result</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            self, nums_arrs, target_sum_num,</span></span></span><br><span class="line"><span class="function"><span class="params">            start_i_index,</span></span></span><br><span class="line"><span class="function"><span class="params">            res_arr, middle_arr)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> target_sum_num &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> len(middle_arr) == len(nums_arrs):</span><br><span class="line">            <span class="keyword">if</span> target_sum_num == <span class="number">0</span>:</span><br><span class="line">                res_arr.append(copy.deepcopy(middle_arr))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(start_i_index, len(nums_arrs)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, len(nums_arrs[i])):</span><br><span class="line">                middle_arr.append(nums_arrs[i][j])</span><br><span class="line">                self._generate_result(</span><br><span class="line">                    nums_arrs, target_sum_num-nums_arrs[i][j],</span><br><span class="line">                    i+<span class="number">1</span>,</span><br><span class="line">                    res_arr, middle_arr</span><br><span class="line">                )</span><br><span class="line">                middle_arr.pop(<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"----------multi_arr_sum-------"</span>  </span><br><span class="line"><span class="keyword">print</span> <span class="string">'Solution_multi_arr_sum().multi_arr_sum([[1, 2], [3, 4], [5, 6, 9], [7, 8]], 18) :'</span></span><br><span class="line"><span class="keyword">print</span> Solution_multi_arr_sum().multi_arr_sum([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>], [<span class="number">7</span>, <span class="number">8</span>]], <span class="number">18</span>)</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœ:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">----------multi_arr_sum-------</span><br><span class="line">Solution_multi_arr_sum().multi_arr_sum([[1, 2], [3, 4], [5, 6, 9], [7, 8]], 18) :</span><br><span class="line">[[1, 3, 6, 8], [1, 4, 5, 8], [1, 4, 6, 7], [2, 3, 5, 8], [2, 3, 6, 7], [2, 4, 5, 7]]</span><br></pre></td></tr></table></figure></p>
<h2 id="æ’åºç»„åˆæ€»ç»“"><a href="#æ’åºç»„åˆæ€»ç»“" class="headerlink" title="æ’åºç»„åˆæ€»ç»“"></a>æ’åºç»„åˆæ€»ç»“</h2><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ used æ•°ç»„ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ begin å˜é‡<br>æœ‰äº›æœ‹å‹å¯èƒ½ä¼šç–‘æƒ‘ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ used æ•°ç»„ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ begin å˜é‡ã€‚è¿™é‡Œä¸ºå¤§å®¶ç®€å•æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>æ’åˆ—é—®é¢˜ï¼Œè®²ç©¶é¡ºåºï¼ˆå³ [2, 2, 3] ä¸ [2, 3, 2] è§†ä¸ºä¸åŒåˆ—è¡¨æ—¶ï¼‰ï¼Œéœ€è¦è®°å½•å“ªäº›æ•°å­—å·²ç»ä½¿ç”¨è¿‡ï¼Œæ­¤æ—¶ç”¨ used æ•°ç»„ï¼›</li>
<li>ç»„åˆé—®é¢˜ï¼Œä¸è®²ç©¶é¡ºåºï¼ˆå³ [2, 2, 3] ä¸ [2, 3, 2] è§†ä¸ºç›¸åŒåˆ—è¡¨æ—¶ï¼‰ï¼Œéœ€è¦æŒ‰ç…§æŸç§é¡ºåºæœç´¢ï¼Œæ­¤æ—¶ä½¿ç”¨ begin å˜é‡ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šå…·ä½“é—®é¢˜åº”è¯¥å…·ä½“åˆ†æï¼Œ ç†è§£ç®—æ³•çš„è®¾è®¡æ€æƒ³ æ˜¯è‡³å…³é‡è¦çš„ï¼Œè¯·ä¸è¦æ­»è®°ç¡¬èƒŒã€‚</p>
<h2 id="å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜"><a href="#å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜" class="headerlink" title="å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜"></a>å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜</h2><p><a href="https://leetcode-cn.com/problems/number-of-islands/" target="_blank" rel="noopener">lc200</a><br>ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚<br>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚<br>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šgrid = [<br>  [â€œ1â€,â€1â€,â€1â€,â€1â€,â€0â€],<br>  [â€œ1â€,â€1â€,â€0â€,â€1â€,â€0â€],<br>  [â€œ1â€,â€1â€,â€0â€,â€0â€,â€0â€],<br>  [â€œ0â€,â€0â€,â€0â€,â€0â€,â€0â€]<br>]<br>è¾“å‡ºï¼š1<br>å¦‚ä¸‹å›¾åˆ™æœ‰1ä¸ªå²›å±¿:<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/number_of_islands1.png" alt title="åªæœ‰1ä¸ªå²›å±¿"></p>
<p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šgrid = [<br>  [â€œ1â€,â€1â€,â€0â€,â€0â€,â€0â€],<br>  [â€œ1â€,â€1â€,â€0â€,â€0â€,â€0â€],<br>  [â€œ0â€,â€0â€,â€1â€,â€0â€,â€0â€],<br>  [â€œ0â€,â€0â€,â€0â€,â€1â€,â€1â€]<br>]<br>è¾“å‡ºï¼š3<br>å¦‚ä¸‹å›¾åˆ™æœ‰3ä¸ªå²›å±¿:<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/backtrack_recursion/number_of_islands2.png" alt title="æœ‰3ä¸ªå²›å±¿"></p>
<p>æ­¤é¢˜ä¹Ÿå¯ä»¥ç”¨å¹¶æŸ¥é›†æ¥è§£, è§æœ¬æ–‡çš„<a href="#å²›å±¿æ•°é‡-å¹¶æŸ¥é›†å®æˆ˜">å²›å±¿æ•°é‡-å¹¶æŸ¥é›†å®æˆ˜</a><br>ç”¨dfsçš„è§£æ³•ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_number_of_islands</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._visited_pos_set = set()</span><br><span class="line">        <span class="comment"># æ–¹ä¾¿æœç´¢ç‚¹çš„æ—¶å€™å¾€ä¸Šä¸‹å·¦å³æœ</span></span><br><span class="line">        self._move_dir_arr = [(<span class="number">0</span>, <span class="number">-1</span>), (<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), [<span class="number">-1</span>, <span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type grid: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grid:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        islands_cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> xrange(<span class="number">0</span>, len(grid)):</span><br><span class="line">            <span class="keyword">assert</span> (type(grid[x]) <span class="keyword">is</span> list), (<span class="string">"x = %d"</span> % x)</span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> xrange(<span class="number">0</span>, len(grid[x])):</span><br><span class="line">                <span class="keyword">if</span> tuple([x, y]) <span class="keyword">in</span> self._visited_pos_set:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> grid[x][y] != <span class="string">"1"</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                self._dfs_islands(grid, x, y)</span><br><span class="line">                islands_cnt += <span class="number">1</span>  <span class="comment"># ä¸€æ¬¡æœç´¢å®Œæˆå°±ç®—æœ‰ä¸€ä¸ªå²›å±¿äº†</span></span><br><span class="line">        <span class="keyword">return</span> islands_cnt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_dfs_islands</span><span class="params">(self, grid, x, y)</span>:</span>  <span class="comment"># xæ˜¯çºµåæ ‡, yæ˜¯æ¨ªåæ ‡</span></span><br><span class="line">        <span class="comment"># print "x = %d" % x</span></span><br><span class="line">        <span class="comment"># print "y = %d" % y</span></span><br><span class="line">        self._visited_pos_set.add(tuple([x, y]))</span><br><span class="line">        <span class="comment"># ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> _move_dir <span class="keyword">in</span> self._move_dir_arr:</span><br><span class="line">            _new_x = x + _move_dir[<span class="number">0</span>]</span><br><span class="line">            _new_y = y + _move_dir[<span class="number">1</span>]</span><br><span class="line">            <span class="comment"># å¦‚æœè¶…å‡ºåœ°å›¾è¾¹ç•Œäº†, æ³¨æ„ xæ˜¯çºµåæ ‡, yæ˜¯æ¨ªåæ ‡</span></span><br><span class="line">            <span class="keyword">if</span> _new_x &gt;= len(grid) <span class="keyword">or</span> _new_x &lt; <span class="number">0</span> <span class="keyword">or</span> \</span><br><span class="line">                    _new_y &gt;= len(grid[<span class="number">0</span>]) <span class="keyword">or</span> _new_y &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="comment"># å¦‚æœå·²ç»è®¿é—®è¿‡äº†</span></span><br><span class="line">            <span class="keyword">if</span> tuple([_new_x, _new_y]) <span class="keyword">in</span> self._visited_pos_set:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> grid[_new_x][_new_y] != <span class="string">"1"</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            self._dfs_islands(grid, _new_x, _new_y)</span><br></pre></td></tr></table></figure></p>
<h2 id="ç»å…¸Nçš‡åé—®é¢˜"><a href="#ç»å…¸Nçš‡åé—®é¢˜" class="headerlink" title="ç»å…¸Nçš‡åé—®é¢˜"></a>ç»å…¸Nçš‡åé—®é¢˜</h2><p>â€¦ pending_fin</p>
<h1 id="åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯"><a href="#åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯" class="headerlink" title="åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯"></a>åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯</h1><p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/dp_1.png" alt></p>
<p>é¦–å…ˆï¼ŒåŠ¨æ€è§„åˆ’çš„ç©·ä¸¾æœ‰ç‚¹ç‰¹åˆ«ï¼Œå› ä¸ºè¿™ç±»é—®é¢˜<strong>å­˜åœ¨ã€Œé‡å å­é—®é¢˜ã€</strong>ï¼Œå¦‚æœæš´åŠ›ç©·ä¸¾çš„è¯æ•ˆç‡ä¼šæå…¶ä½ä¸‹ï¼Œæ‰€ä»¥éœ€è¦ã€Œå¤‡å¿˜å½•ã€æˆ–è€…ã€ŒDP tableã€æ¥ä¼˜åŒ–ç©·ä¸¾è¿‡ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚</p>
<p>è€Œä¸”ï¼ŒåŠ¨æ€è§„åˆ’é—®é¢˜ä¸€å®šä¼š<strong>å…·å¤‡ã€Œæœ€ä¼˜å­ç»“æ„ã€</strong>ï¼Œæ‰èƒ½é€šè¿‡å­é—®é¢˜çš„æœ€å€¼å¾—åˆ°åŸé—®é¢˜çš„æœ€å€¼ã€‚</p>
<p>å¦å¤–ï¼Œè™½ç„¶åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç©·ä¸¾æ±‚æœ€å€¼ï¼Œä½†æ˜¯é—®é¢˜å¯ä»¥åƒå˜ä¸‡åŒ–ï¼Œç©·ä¸¾æ‰€æœ‰å¯è¡Œè§£å…¶å®å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ï¼Œåªæœ‰åˆ—å‡º<strong>æ­£ç¡®çš„ã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€</strong>æ‰èƒ½æ­£ç¡®åœ°ç©·ä¸¾ã€‚</p>
<p>ä»¥ä¸Šæåˆ°çš„é‡å å­é—®é¢˜ã€æœ€ä¼˜å­ç»“æ„ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯åŠ¨æ€è§„åˆ’ä¸‰è¦ç´ ã€‚å…·ä½“ä»€ä¹ˆæ„æ€ç­‰ä¼šä¼šä¸¾ä¾‹è¯¦è§£ï¼Œä½†æ˜¯åœ¨å®é™…çš„ç®—æ³•é—®é¢˜ä¸­ï¼Œ<strong>å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯æœ€å›°éš¾çš„</strong>.</p>
<p>åŠ¨æ€è§„åˆ’ç®—æ³•å°±æ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²å­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜å¹¶ä¿å­˜å­é—®é¢˜çš„ç­”æ¡ˆé¿å…é‡å¤è®¡ç®—ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚è€Œå¦‚ä½•æ–­å®šä¸€ä¸ªé—®é¢˜<strong>æ˜¯å¦å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³</strong>ï¼Œå°±éœ€è¦æŒæ¡åŠ¨æ€è§„åˆ’çš„ä¸¤ä¸ªåŸºæœ¬è¦ç´ :  </p>
<ul>
<li>é‡å å­é—®é¢˜æ€§è´¨</li>
<li>æœ€ä¼˜å­ç»“æ„æ€§è´¨</li>
</ul>
<h2 id="é‡å å­é—®é¢˜æ€§è´¨"><a href="#é‡å å­é—®é¢˜æ€§è´¨" class="headerlink" title="é‡å å­é—®é¢˜æ€§è´¨"></a>é‡å å­é—®é¢˜æ€§è´¨</h2><p>åœ¨ç”¨é€’å½’ç®—æ³•è‡ªé¡¶å‘ä¸‹è§£å†³ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œæ¯æ¬¡äº§ç”Ÿçš„å­é—®é¢˜å¹¶ä¸æ€»æ˜¯æ–°é—®é¢˜ï¼Œæœ‰äº›å­é—®é¢˜è¢«åå¤è®¡ç®—å¤šæ¬¡ã€‚åŠ¨æ€è§„åˆ’æ­£æ˜¯åˆ©ç”¨äº†è¿™ç§å­é—®é¢˜çš„é‡å æ€§è´¨ï¼Œå¯¹æ¯ä¸ªå­é—®é¢˜åªè§£ä¸€æ¬¡ï¼Œè€Œåå°†å…¶è§£ä¿å­˜åˆ°ä¸€ä¸ªè¡¨æ ¼ä¸­ï¼Œå½“å†æ¬¡éœ€è¦è§£æ­¤å­é—®é¢˜æ—¶ï¼Œåªæ˜¯ç®€å•åœ°ç”¨å¸¸æ•°æ—¶é—´æŸ¥çœ‹ä¸€ä¸‹ç»“æœã€‚<br>ä¿å­˜é‡å å­é—®é¢˜çš„è§£ï¼ˆä¹Ÿå°±æ˜¯ fib(3)ï¼‰æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>DP tableï¼ˆè‡ªåº•å‘ä¸Šï¼‰</li>
<li>å¤‡å¿˜å½•memoæ–¹æ³•åˆç§°è®°å¿†åŒ–æœç´¢ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰</li>
</ul>
<h2 id="æœ€ä¼˜å­ç»“æ„æ€§è´¨"><a href="#æœ€ä¼˜å­ç»“æ„æ€§è´¨" class="headerlink" title="æœ€ä¼˜å­ç»“æ„æ€§è´¨"></a>æœ€ä¼˜å­ç»“æ„æ€§è´¨</h2><p>è®¾è®¡åŠ¨æ€è§„åˆ’ç®—æ³•çš„ç¬¬ä¸€æ­¥é€šå¸¸æ˜¯è¦åˆ»ç”»æœ€ä¼˜è§£çš„ç»“æ„ã€‚<strong>å½“é—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«äº†å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ—¶ï¼Œç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨</strong> ã€‚é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨æä¾›äº†è¯¥é—®é¢˜å¯ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çš„é‡è¦çº¿ç´¢ã€‚</p>
<p>è¦ç¬¦åˆ ã€Œæœ€ä¼˜â¼¦ç»“æ„ã€ï¼Œâ¼¦é—®é¢˜é—´å¿…é¡»äº’ç›¸ç‹¬â½´ã€‚å•¥å«ç›¸äº’ç‹¬â½´ï¼Ÿä½ è‚¯å®šä¸æƒ³çœ‹æ•° å­¦è¯æ˜ï¼Œæˆ‘â½¤â¼€ä¸ªç›´è§‚çš„ä¾‹â¼¦æ¥è®²è§£ã€‚</p>
<p>â½å¦‚è¯´ï¼Œä½ çš„åŸé—®é¢˜æ˜¯è€ƒå‡ºæœ€â¾¼çš„æ€»æˆç»©ï¼Œé‚£ä¹ˆä½ çš„â¼¦é—®é¢˜å°±æ˜¯è¦æŠŠè¯­â½‚è€ƒ åˆ°æœ€â¾¼ï¼Œæ•°å­¦è€ƒåˆ°æœ€â¾¼â€¦â€¦    ä¸ºäº†æ¯é—¨è¯¾è€ƒåˆ°æœ€â¾¼ï¼Œä½ è¦æŠŠæ¯é—¨è¯¾ç›¸åº”çš„é€‰ æ‹©é¢˜åˆ†æ•°æ‹¿åˆ°æœ€â¾¼ï¼Œå¡«ç©ºé¢˜åˆ†æ•°æ‹¿åˆ°æœ€â¾¼â€¦â€¦    å½“ç„¶ï¼Œæœ€ç»ˆå°±æ˜¯ä½ æ¯é—¨è¯¾éƒ½ æ˜¯æ»¡åˆ†ï¼Œè¿™å°±æ˜¯æœ€â¾¼çš„æ€»æˆç»©ã€‚ </p>
<p>å¾—åˆ°äº†æ­£ç¡®çš„ç»“æœï¼šæœ€â¾¼çš„æ€»æˆç»©å°±æ˜¯æ€»åˆ†ã€‚å› ä¸ºè¿™ä¸ªè¿‡ç¨‹ç¬¦åˆæœ€ä¼˜â¼¦ç»“ æ„ï¼Œâ€œæ¯é—¨ç§‘â½¬è€ƒåˆ°æœ€â¾¼â€è¿™äº›â¼¦é—®é¢˜æ˜¯äº’ç›¸ç‹¬â½´ï¼Œäº’ä¸â¼²æ‰°çš„ã€‚ </p>
<p>ä½†æ˜¯ï¼Œå¦‚æœåŠ â¼€ä¸ªæ¡ä»¶ï¼šä½ çš„è¯­â½‚æˆç»©å’Œæ•°å­¦æˆç»©ä¼šäº’ç›¸åˆ¶çº¦ï¼Œæ­¤æ¶ˆå½¼â»“ã€‚ è¿™æ ·çš„è¯ï¼Œæ˜¾ç„¶ä½ èƒ½è€ƒåˆ°çš„æœ€â¾¼æ€»æˆç»©å°±è¾¾ä¸åˆ°æ€»åˆ†äº†ï¼ŒæŒ‰åˆšæ‰é‚£ä¸ªæ€è·¯å°± ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚å› ä¸ºâ¼¦é—®é¢˜å¹¶ä¸ç‹¬â½´ï¼Œè¯­â½‚æ•°å­¦æˆç»©â½†æ³•åŒæ—¶æœ€ä¼˜ï¼Œæ‰€ ä»¥æœ€ä¼˜â¼¦ç»“æ„è¢«ç ´åã€‚ </p>
<h2 id="è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤"><a href="#è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤" class="headerlink" title="è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤"></a>è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤</h2><p>åŠ¨æ€è§„åˆ’ï¼ˆ<strong>D</strong>ynamic <strong>P</strong>rogrammingï¼ŒDPï¼‰æ˜¯åœ¨å¤šé¡¹å¼æ—¶é—´è§£å†³ç‰¹å®šç±»å‹é—®é¢˜çš„ä¸€å¥—æ–¹æ³•è®ºï¼Œä¸”è¿œè¿œå¿«äºæŒ‡æ•°çº§åˆ«çš„è›®åŠ›æ³•.<br>è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜ä¸‰æ­¥æ³•ï¼š</p>
<ol>
<li><strong>è¾¨åˆ«æ˜¯ä¸æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜</strong>ï¼›</li>
<li><strong>å»ºç«‹çŠ¶æ€ä¹‹é—´çš„å…³ç³», æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong><ol>
<li>æ˜ç¡® base case</li>
<li>æ˜ç¡®ã€ŒçŠ¶æ€ã€ä¹Ÿå°±æ˜¯åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡ã€‚</li>
<li>æ˜ç¡®ã€Œé€‰æ‹©ã€, ä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸ºã€‚</li>
<li>å®šä¹‰ dp æ•°ç»„ / å‡½æ•°çš„å«ä¹‰</li>
</ol>
</li>
<li><strong>ä»£ç å®ç°æ–¹å¼, ä»¥ä¸‹ä¸¤ç§æ–¹å¼é€‰å…¶ä¸€</strong>:<ul>
<li>ä¸ºçŠ¶æ€æ·»åŠ å¤‡å¿˜å½•memoè‡ªé¡¶å‘ä¸‹ç”¨è®°å¿†åŒ–æœç´¢çš„é€’å½’æ–¹å¼æ¥å†™</li>
<li>ç”¨DP Tableçš„åŠ¨è§„æ–¹å¼æ¥å†™</li>
</ul>
</li>
</ol>
<p>æŒ‰ä¸Šé¢çš„å¥—è·¯èµ°ï¼Œæœ€åçš„ç»“æœå°±å¯ä»¥å¥—è¿™ä¸ªæ¡†æ¶ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>][...] = base</span><br><span class="line"><span class="keyword">for</span> çŠ¶æ€<span class="number">1</span> <span class="keyword">in</span> çŠ¶æ€<span class="number">1</span>çš„æ‰€æœ‰å–å€¼ï¼š</span><br><span class="line">    <span class="keyword">for</span> çŠ¶æ€<span class="number">2</span> <span class="keyword">in</span> çŠ¶æ€<span class="number">2</span>çš„æ‰€æœ‰å–å€¼ï¼š</span><br><span class="line">        <span class="keyword">for</span> ...</span><br><span class="line">            dp[çŠ¶æ€<span class="number">1</span>][çŠ¶æ€<span class="number">2</span>][...] = æ±‚æœ€å€¼(é€‰æ‹©<span class="number">1</span>ï¼Œé€‰æ‹©<span class="number">2.</span>..)</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜"><a href="#ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜" class="headerlink" title="ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜"></a>ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦æ±‚æœ€ä¼˜è§£çš„é—®é¢˜ï¼ˆæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œæœ€é•¿å…¬å…±å­åºåˆ—ï¼Œæœ€å¤§å­—æ®µå’Œç­‰ç­‰ï¼Œå‡ºç° <strong>æœ€</strong> å­—ä½ å°±ç•™æ„ï¼‰ï¼Œåœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯¹æ’åˆ—è¿›è¡Œè®¡æ•°çš„è®¡æ•°é—®é¢˜ï¼ˆä¸‘æ•°é—®é¢˜ï¼‰æˆ–æŸäº›æ¦‚ç‡é—®é¢˜éƒ½å¯ä»¥è€ƒè™‘ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚</p>
<p>æ‰€æœ‰çš„åŠ¨æ€è§„åˆ’é—®é¢˜éƒ½æ»¡è¶³é‡å å­é—®é¢˜æ€§è´¨ï¼Œå¤§å¤šæ•°ç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜è¿˜æ»¡è¶³æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œå½“æˆ‘ä»¬ä»ä¸€ä¸ªç»™å®šçš„é—®é¢˜ä¸­å‘ç°äº†è¿™äº›ç‰¹æ€§ï¼Œå°±å¯ä»¥ç¡®å®šå…¶å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è§£å†³ã€‚</p>
<h3 id="ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><p>å…¶æ­¥éª¤ä¸º:  </p>
<ol>
<li>æ˜ç¡® base case</li>
<li>æ˜ç¡®ã€ŒçŠ¶æ€ã€ä¹Ÿå°±æ˜¯åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡ã€‚</li>
<li>æ˜ç¡®ã€Œé€‰æ‹©ã€, ä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸ºã€‚</li>
<li>å®šä¹‰ dp æ•°ç»„ / å‡½æ•°çš„å«ä¹‰</li>
</ol>
<p>DP é—®é¢˜æœ€é‡è¦çš„å°±æ˜¯ç¡®å®šæ‰€æœ‰çš„çŠ¶æ€å’ŒçŠ¶æ€ä¸çŠ¶æ€ä¹‹é—´çš„è½¬ç§»æ–¹ç¨‹ã€‚ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯åŠ¨æ€è§„åˆ’æœ€éš¾çš„éƒ¨åˆ†ï¼Œä½†ä¹Ÿæ˜¯æœ€åŸºç¡€çš„ï¼Œå¿…é¡»éå¸¸è°¨æ…åœ°é€‰æ‹©çŠ¶æ€ï¼Œå› ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„ç¡®å®šå–å†³äºä½ å¯¹é—®é¢˜çŠ¶æ€å®šä¹‰çš„é€‰æ‹©ã€‚é‚£ä¹ˆï¼ŒçŠ¶æ€åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆé¬¼å‘¢ï¼Ÿ<br><strong>ã€ŒçŠ¶æ€ã€</strong> å¯ä»¥è§†ä¸ºä¸€ç»„å¯ä»¥å”¯ä¸€æ ‡è¯†ç»™å®šé—®é¢˜ä¸­æŸä¸ªå­é—®é¢˜è§£çš„å‚æ•°ï¼Œè¿™ç»„å‚æ•°åº”å°½å¯èƒ½çš„å°ï¼Œä»¥å‡å°‘çŠ¶æ€ç©ºé—´çš„å¤§å°ã€‚</p>
<ul>
<li>æ¯”å¦‚æ–æ³¢é‚£å¥‘æ•°ä¸­ï¼Œ0 , 1, â€¦, n å°±å¯ä»¥è§†ä¸ºå‚æ•°ï¼Œè€Œé€šè¿‡è¿™äº›å‚æ•°å®šä¹‰å‡ºçš„ DP[0]ï¼ŒDP[1]ï¼ŒDP[2]ï¼Œâ€¦ï¼ŒDP[n] å°±æ˜¯çŠ¶æ€ï¼Œè€ŒçŠ¶æ€ä¸çŠ¶æ€ä¹‹é—´çš„è½¬ç§»æ–¹ç¨‹å°±æ˜¯ DP(n) = DP(n-1) + DP(n-2) ã€‚</li>
<li>å†æ¯”å¦‚ï¼Œç»å…¸çš„èƒŒåŒ…é—®é¢˜ï¼ˆKnapsack problemï¼‰ä¸­ï¼ŒçŠ¶æ€é€šè¿‡ <strong>index</strong> å’Œ <strong>weight</strong> ä¸¤ä¸ªå‚æ•°æ¥å®šä¹‰ï¼Œå³ <strong><code>DP[index][weight]</code></strong> ã€‚<code>DP[index][weight]</code>  åˆ™è¡¨ç¤ºå½“å‰ä» 0 åˆ° index çš„ç‰©å“è£…å…¥èƒŒåŒ…ä¸­å¯ä»¥è·å¾—çš„æœ€å¤§é‡é‡ã€‚å› æ­¤ï¼Œå‚æ•° index å’Œ weight å¯ä»¥å”¯ä¸€ç¡®å®šèƒŒåŒ…é—®é¢˜çš„ä¸€ä¸ªå­é—®é¢˜çš„è§£ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œå½“ç¡®å®šç»™å®šçš„é—®é¢˜ä¹‹åï¼Œé¦–å½“å…¶å†²çš„å°±æ˜¯ç¡®å®šé—®é¢˜çš„çŠ¶æ€ã€‚åŠ¨æ€è§„åˆ’ç®—æ³•å°±æ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²å­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜å¹¶ä¿å­˜å­é—®é¢˜çš„ç­”æ¡ˆé¿å…é‡å¤è®¡ç®—ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚æ—¢ç„¶ç¡®å®šäº†ä¸€ä¸ªä¸€ä¸ªçš„å­é—®é¢˜çš„çŠ¶æ€ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¡®å®šå‰ä¸€ä¸ªçŠ¶æ€åˆ°å½“å‰çŠ¶æ€çš„è½¬ç§»å…³ç³»å¼ï¼Œä¹Ÿç§°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p>
<p>æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯ DP é—®é¢˜<strong>æœ€éš¾çš„éƒ¨åˆ†</strong>ï¼Œéœ€è¦è¶³å¤Ÿæ•é”çš„ç›´è§‰å’Œè§‚å¯ŸåŠ›ï¼Œè€Œè¿™ä¸¤è€…éƒ½æ˜¯è¦é€šè¿‡<strong>å¤§é‡çš„ç»ƒä¹ </strong>æ¥è·å¾—ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„é—®é¢˜æ¥ç†è§£è¿™ä¸ªæ­¥éª¤: <a href="#ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±é—®é¢˜">å‡‘é›¶é’±</a></p>
<h3 id="ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°"><a href="#ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°" class="headerlink" title="ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°"></a>ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°</h3><p>è¿™ä¸ªå¯ä»¥è¯´æ˜¯åŠ¨æ€è§„åˆ’æœ€ç®€å•çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä»…éœ€è¦å­˜å‚¨å­çŠ¶æ€çš„è§£ï¼Œä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨å­çŠ¶æ€æ—¶ç›´æ¥æŸ¥è¡¨ä»å†…å­˜ä¸­è·å¾—ã€‚ä»£ç ä¹¦å†™æ–¹å¼ä»¥ä¸‹äºŒè€…é€‰å…¶ä¸€:</p>
<ul>
<li>ä¸ºçŠ¶æ€æ·»åŠ å¤‡å¿˜å½•memoè‡ªé¡¶å‘ä¸‹ç”¨è®°å¿†åŒ–æœç´¢çš„é€’å½’æ–¹å¼æ¥å†™</li>
<li>ç”¨DP Tableçš„åŠ¨è§„æ–¹å¼æ¥å†™.</li>
</ul>
<p><strong>å¤‡å¿˜å½•memo</strong> VS <strong>DPè¡¨</strong>:</p>
<ul>
<li>çŠ¶æ€ï¼šDP Table çŠ¶æ€è½¬ç§»å…³ç³»è¾ƒéš¾ç¡®å®šï¼Œå¤‡å¿˜å½•çŠ¶æ€è½¬ç§»å…³ç³»è¾ƒæ˜“ç¡®å®šã€‚ä½ å¯ä»¥ç†è§£ä¸ºè‡ªé¡¶å‘ä¸‹æ¨å¯¼è¾ƒä¸ºå®¹æ˜“ï¼Œè‡ªåº•å‘ä¸Šæ¨å¯¼è¾ƒéš¾ã€‚æ¯”å¦‚ DP[n] = DP[n - 1] + DP[n - 3] + DP[n-5] çš„ç¡®å®šã€‚</li>
<li>ä»£ç ï¼šå½“çº¦æŸæ¡ä»¶è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼ŒDP Table è¾ƒä¸ºå¤æ‚ï¼›å¤‡å¿˜å½•ä»£ç ç›¸å¯¹å®¹æ˜“å®ç°å’Œç®€å•ï¼Œä»…éœ€å¯¹é€’å½’ä»£ç è¿›è¡Œæ”¹é€ ã€‚</li>
<li>æ•ˆç‡ï¼šåŠ¨æ€è§„åˆ’ï¼ˆDP Tableï¼‰è¾ƒå¿«ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»è¡¨ä¸­è·å–å­çŠ¶æ€çš„è§£ï¼›å¤‡å¿˜å½•ç”±äºå¤§é‡çš„é€’å½’è°ƒç”¨å’Œè¿”å›çŠ¶æ€æ“ä½œï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚</li>
<li>å­é—®é¢˜çš„è§£ï¼šå½“æ‰€æœ‰çš„å­é—®é¢˜çš„è§£éƒ½è‡³å°‘è¦è¢«è§£ä¸€éï¼Œè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ç®—æ³•é€šå¸¸æ¯”è‡ªé¡¶å‘ä¸‹çš„å¤‡å¿˜å½•æ–¹æ³•å¿«å¸¸æ•°é‡çº§ï¼›å½“æ±‚è§£çš„é—®é¢˜çš„å­é—®é¢˜ç©ºé—´ä¸­çš„éƒ¨åˆ†å­é—®é¢˜ä¸éœ€è¦è®¡ç®—ï¼Œä»…éœ€æ±‚è§£éƒ¨åˆ†å­é—®é¢˜å°±å¯ä»¥è§£å†³åŸé—®é¢˜ï¼Œæ­¤æ—¶å¤‡å¿˜å½•æ–¹æ³•è¦ä¼˜äºåŠ¨æ€è§„åˆ’ï¼Œå› ä¸ºå¤‡å¿˜å½•è‡ªé¡¶å‘ä¸‹ä»…å­˜å‚¨ä¸åŸé—®é¢˜æ±‚è§£ç›¸å…³çš„å­é—®é¢˜çš„è§£ã€‚</li>
<li>è¡¨ç©ºé—´ï¼šDP Table ä¾æ¬¡å¡«å……æ‰€æœ‰å­çŠ¶æ€çš„è§£ï¼›è€Œå¤‡å¿˜å½•ä¸å¿…å¡«å……æ‰€æœ‰å­é—®é¢˜çš„è§£ï¼Œè€Œæ˜¯æŒ‰éœ€å¡«å……ã€‚</li>
</ul>
<p>è‡³äºä¸¤ä¸ªè¯¥å¦‚ä½•é€‰æ‹©ï¼Œæˆ‘æƒ³ä½ çš„å¿ƒä¸­ä¹Ÿæœ‰æ•°äº†ï¼Œå»ºè®®æŒ‰ç…§è§£åŠ¨æ€è§„åˆ’çš„å››æ­¥éª¤ä¾æ¬¡æ±‚è§£ï¼Œè‡³äºç¬¬å››æ­¥ï¼Œä½ ä¸ªäººå–œæ¬¢ç”¨ DP Table å°±ç”¨ DP Table ï¼Œå–œæ¬¢å¤‡å¿˜å½•å°±ç”¨å¤‡å¿˜å½•ã€‚</p>
<h2 id="ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1"><a href="#ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1" class="headerlink" title="ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1"></a>ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1</h2><p><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">lc322</a><br>å…ˆçœ‹ä¸‹é¢˜ç›®ï¼šç»™ä½  <code>k</code> ç§é¢å€¼çš„ç¡¬å¸ï¼Œé¢å€¼åˆ†åˆ«ä¸º <code>c1, c2 ... ck</code>ï¼Œæ¯ç§ç¡¬å¸çš„æ•°é‡æ— é™ï¼Œå†ç»™ä¸€ä¸ªæ€»é‡‘é¢ <code>amount</code>ï¼Œé—®ä½ <strong>æœ€å°‘</strong>éœ€è¦å‡ æšç¡¬å¸å‡‘å‡ºè¿™ä¸ªé‡‘é¢ï¼Œå¦‚æœä¸å¯èƒ½å‡‘å‡ºï¼Œç®—æ³•è¿”å› -1 ã€‚ç®—æ³•çš„å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int coinChange(int[] coins, int amount);</span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚è¯´ <code>k = 3</code>ï¼Œé¢å€¼åˆ†åˆ«ä¸º 1ï¼Œ2ï¼Œ5ï¼Œæ€»é‡‘é¢ <code>amount = 11</code>ã€‚é‚£ä¹ˆæœ€å°‘éœ€è¦ 3 æšç¡¬å¸å‡‘å‡ºï¼Œå³ 11 = 5 + 5 + 1ã€‚</p>
<p>ä½ è®¤ä¸ºè®¡ç®—æœºåº”è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿæ˜¾ç„¶ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰è‚¯èƒ½çš„å‡‘ç¡¬å¸æ–¹æ³•éƒ½ç©·ä¸¾å‡ºæ¥ï¼Œç„¶åæ‰¾æ‰¾çœ‹æœ€å°‘éœ€è¦å¤šå°‘æšç¡¬å¸ã€‚</p>
<p>é¦–å…ˆï¼Œè¿™ä¸ªé—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå› ä¸ºå®ƒå…·æœ‰ã€Œæœ€ä¼˜å­ç»“æ„ã€çš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¯´å®ƒç¬¦åˆæœ€ä¼˜å­ç»“æ„å‘¢ï¼Ÿæ¯”å¦‚ä½ æƒ³æ±‚ <code>amount = 11</code> æ—¶çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆåŸé—®é¢˜ï¼‰ï¼Œå¦‚æœä½ çŸ¥é“å‡‘å‡º <code>amount = 10</code> çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆå­é—®é¢˜ï¼‰ï¼Œä½ åªéœ€è¦æŠŠå­é—®é¢˜çš„ç­”æ¡ˆåŠ ä¸€ï¼ˆå†é€‰ä¸€æšé¢å€¼ä¸º 1 çš„ç¡¬å¸ï¼‰å°±æ˜¯åŸé—®é¢˜çš„ç­”æ¡ˆã€‚å› ä¸ºç¡¬å¸çš„æ•°é‡æ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥å­é—®é¢˜ä¹‹é—´æ²¡æœ‰ç›¸äº’åˆ¶çº¦ï¼Œæ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚</p>
<h3 id="åˆ†æçŠ¶æ€è½¬ç§»"><a href="#åˆ†æçŠ¶æ€è½¬ç§»" class="headerlink" title="åˆ†æçŠ¶æ€è½¬ç§»"></a>åˆ†æçŠ¶æ€è½¬ç§»</h3><p>é‚£ä¹ˆï¼Œæ—¢ç„¶çŸ¥é“äº†è¿™æ˜¯ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå°±è¦æ€è€ƒ<strong>å¦‚ä½•åˆ—å‡ºæ­£ç¡®çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong>ï¼Ÿ</p>
<p>1ã€<strong>ç¡®å®š base case</strong>ï¼Œè¿™ä¸ªå¾ˆç®€å•ï¼Œæ˜¾ç„¶ç›®æ ‡é‡‘é¢ <code>amount</code> ä¸º 0 æ—¶ç®—æ³•è¿”å› 0ï¼Œå› ä¸ºä¸éœ€è¦ä»»ä½•ç¡¬å¸å°±å·²ç»å‡‘å‡ºç›®æ ‡é‡‘é¢äº†ã€‚</p>
<p>2ã€<strong>ç¡®å®šã€ŒçŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡</strong>ã€‚ç”±äºç¡¬å¸æ•°é‡æ— é™ï¼Œç¡¬å¸çš„é¢é¢ä¹Ÿæ˜¯é¢˜ç›®ç»™å®šçš„ï¼Œåªæœ‰ç›®æ ‡é‡‘é¢ä¼šä¸æ–­åœ°å‘ base case é è¿‘ï¼Œæ‰€ä»¥å”¯ä¸€çš„ã€ŒçŠ¶æ€ã€å°±æ˜¯ç›®æ ‡é‡‘é¢ <code>amount</code>ã€‚</p>
<p>3ã€<strong>ç¡®å®šã€Œé€‰æ‹©ã€ï¼Œä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸º</strong>ã€‚ç›®æ ‡é‡‘é¢ä¸ºä»€ä¹ˆå˜åŒ–å‘¢ï¼Œå› ä¸ºä½ åœ¨é€‰æ‹©ç¡¬å¸ï¼Œä½ æ¯é€‰æ‹©ä¸€æšç¡¬å¸ï¼Œå°±ç›¸å½“äºå‡å°‘äº†ç›®æ ‡é‡‘é¢ã€‚æ‰€ä»¥è¯´æ‰€æœ‰ç¡¬å¸çš„é¢å€¼ï¼Œå°±æ˜¯ä½ çš„ã€Œé€‰æ‹©ã€ã€‚</p>
<p>4ã€<strong>æ˜ç¡®</strong> <strong><code>dp</code></strong> <strong>å‡½æ•° / æ•°ç»„çš„å®šä¹‰</strong>ã€‚æˆ‘ä»¬è¿™é‡Œè®²çš„æ˜¯è‡ªé¡¶å‘ä¸‹çš„è§£æ³•ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ä¸ªé€’å½’çš„ <code>dp</code> å‡½æ•°ï¼Œä¸€èˆ¬æ¥è¯´å‡½æ•°çš„å‚æ•°å°±æ˜¯çŠ¶æ€è½¬ç§»ä¸­ä¼šå˜åŒ–çš„é‡ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´åˆ°çš„ã€ŒçŠ¶æ€ã€ï¼›å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯é¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—çš„é‡ã€‚å°±æœ¬é¢˜æ¥è¯´ï¼ŒçŠ¶æ€åªæœ‰ä¸€ä¸ªï¼Œå³ã€Œç›®æ ‡é‡‘é¢ã€ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—å‡‘å‡ºç›®æ ‡é‡‘é¢æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰ <code>dp</code> å‡½æ•°ï¼š</p>
<p><code>dp(n)</code> çš„å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ªç›®æ ‡é‡‘é¢ <code>n</code>ï¼Œè¿”å›å‡‘å‡ºç›®æ ‡é‡‘é¢ <code>n</code> çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚</p>
<p>ææ¸…æ¥šä¸Šé¢è¿™å‡ ä¸ªå…³é”®ç‚¹ï¼Œè§£æ³•çš„ä¼ªç å°±å¯ä»¥å†™å‡ºæ¥äº†ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(coins: List[int], amount: int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            res = min(res, <span class="number">1</span> + dp(n - coin))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> dp(amount)</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®ä¼ªç ï¼Œæˆ‘ä»¬åŠ ä¸Š base case å³å¯å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆã€‚æ˜¾ç„¶ç›®æ ‡é‡‘é¢ä¸º 0 æ—¶ï¼Œæ‰€éœ€ç¡¬å¸æ•°é‡ä¸º 0ï¼›å½“ç›®æ ‡é‡‘é¢å°äº 0 æ—¶ï¼Œæ— è§£ï¼Œè¿”å› -1ï¼š</p>
<h3 id="æš´åŠ›é€’å½’è§£æ³•"><a href="#æš´åŠ›é€’å½’è§£æ³•" class="headerlink" title="æš´åŠ›é€’å½’è§£æ³•"></a>æš´åŠ›é€’å½’è§£æ³•</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(coins: List[int], amount: int)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        res = float(<span class="string">'INF'</span>)</span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            subproblem = dp(n - coin)</span><br><span class="line">            <span class="keyword">if</span> subproblem == <span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            res = min(res, <span class="number">1</span> + subproblem)</span><br><span class="line">        <span class="keyword">return</span> res <span class="keyword">if</span> res != float(<span class="string">'INF'</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">    <span class="keyword">return</span> dp(amount)</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å…¶å®å·²ç»å®Œæˆäº†ï¼Œä»¥ä¸Šç®—æ³•å·²ç»æ˜¯æš´åŠ›è§£æ³•äº†ï¼Œä»¥ä¸Šä»£ç çš„æ•°å­¦å½¢å¼å°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[n] = min(dp[n-coin])+<span class="number">1</span>, å½“n &gt;<span class="number">0</span></span><br><span class="line">dp[n] = <span class="number">0</span>, å½“n = <span class="number">0</span>;</span><br><span class="line">dp[n] = <span class="number">-1</span>, å½“n &lt; <span class="number">0</span>;</span><br></pre></td></tr></table></figure></p>
<p>è‡³æ­¤ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®å°±è§£å†³äº†ï¼Œåªä¸è¿‡éœ€è¦æ¶ˆé™¤ä¸€ä¸‹é‡å å­é—®é¢˜</p>
<p><strong>é€’å½’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åˆ†æï¼šå­é—®é¢˜æ€»æ•° x æ¯ä¸ªå­é—®é¢˜çš„æ—¶é—´</strong>ã€‚</p>
<p>å­é—®é¢˜æ€»æ•°ä¸ºé€’å½’æ ‘èŠ‚ç‚¹ä¸ªæ•°ï¼Œè¿™ä¸ªæ¯”è¾ƒéš¾çœ‹å‡ºæ¥ï¼Œæ˜¯ O(n^k)ï¼Œæ€»ä¹‹æ˜¯æŒ‡æ•°çº§åˆ«çš„ã€‚æ¯ä¸ªå­é—®é¢˜ä¸­å«æœ‰ä¸€ä¸ª for å¾ªç¯ï¼Œå¤æ‚åº¦ä¸º O(k)ã€‚æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(k * n^k)ï¼ŒæŒ‡æ•°çº§åˆ«ã€‚</p>
<h3 id="å¸¦å¤‡å¿˜å½•çš„é€’å½’"><a href="#å¸¦å¤‡å¿˜å½•çš„é€’å½’" class="headerlink" title="å¸¦å¤‡å¿˜å½•çš„é€’å½’"></a>å¸¦å¤‡å¿˜å½•çš„é€’å½’</h3><p>åªéœ€è¦ç¨åŠ ä¿®æ”¹ï¼Œå°±å¯ä»¥é€šè¿‡å¤‡å¿˜å½•æ¶ˆé™¤å­é—®é¢˜ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(coins: List[int], amount: int)</span>:</span></span><br><span class="line">    memo = dict()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> memo:</span><br><span class="line">            <span class="keyword">return</span> memo[n]</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        res = float(<span class="string">'INF'</span>)</span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            subproblem = dp(n - coin)</span><br><span class="line">            <span class="keyword">if</span> subproblem == <span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            res = min(res, <span class="number">1</span> + subproblem)</span><br><span class="line">        memo[n] = res <span class="keyword">if</span> res != float(<span class="string">'INF'</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">        <span class="keyword">return</span> memo[n]</span><br><span class="line">    <span class="keyword">return</span> dp(amount)</span><br></pre></td></tr></table></figure></p>
<p>ä¸ç”»å›¾äº†ï¼Œå¾ˆæ˜¾ç„¶ã€Œå¤‡å¿˜å½•ã€å¤§å¤§å‡å°äº†å­é—®é¢˜æ•°ç›®ï¼Œå®Œå…¨æ¶ˆé™¤äº†å­é—®é¢˜çš„å†—ä½™ï¼Œæ‰€ä»¥å­é—®é¢˜æ€»æ•°ä¸ä¼šè¶…è¿‡é‡‘é¢æ•° <code>n</code>ï¼Œå³å­é—®é¢˜æ•°ç›®ä¸º O(n)ã€‚å¤„ç†ä¸€ä¸ªå­é—®é¢˜çš„æ—¶é—´ä¸å˜ï¼Œä»æ˜¯ O(k)ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(kn)ã€‚</p>
<h3 id="dpæ•°ç»„çš„è¿­ä»£è§£æ³•"><a href="#dpæ•°ç»„çš„è¿­ä»£è§£æ³•" class="headerlink" title="dpæ•°ç»„çš„è¿­ä»£è§£æ³•"></a>dpæ•°ç»„çš„è¿­ä»£è§£æ³•</h3><p><a href="https://leetcode-cn.com/problems/coin-change/solution/322-ling-qian-dui-huan-by-leetcode-solution/" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<p><strong>å…¶å®è¿™ä¸ªé¢˜è¿˜å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜</strong>, è§æœ¬æ–‡çš„<a href="#lc322-å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜">è¿™é¢˜çš„èƒŒåŒ…è§£æ³•</a><br>æˆ‘ä»¬é‡‡ç”¨è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼è¿›è¡Œæ€è€ƒã€‚ä»å®šä¹‰ F(i) ä¸ºç»„æˆé‡‘é¢ i æ‰€éœ€æœ€å°‘çš„ç¡¬å¸æ•°é‡ï¼Œå‡è®¾åœ¨è®¡ç®— F(i) ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—å‡º F(0)âˆ’F(iâˆ’1) çš„ç­”æ¡ˆã€‚ åˆ™ F(i) å¯¹åº”çš„è½¬ç§»æ–¹ç¨‹åº”ä¸º<br><code>F(i) = min(F(i-Cj)) + 1</code>  â€‹<br>å…¶ä¸­ä»£è¡¨Cjçš„æ˜¯ç¬¬ j æšç¡¬å¸çš„é¢å€¼ï¼Œå³æˆ‘ä»¬æšä¸¾æœ€åä¸€æšç¡¬å¸é¢é¢æ˜¯ <code>Cj</code>ï¼Œé‚£ä¹ˆéœ€è¦ä» <code>i-Cj</code>è¿™ä¸ªé‡‘é¢çš„çŠ¶æ€ <code>F(i-Cj)</code>è½¬ç§»è¿‡æ¥ï¼Œå†ç®—ä¸Šæšä¸¾çš„è¿™æšç¡¬å¸æ•°é‡ 1 çš„è´¡çŒ®ï¼Œç”±äºè¦ç¡¬å¸æ•°é‡æœ€å°‘ï¼Œæ‰€ä»¥ F(i) ä¸ºå‰é¢èƒ½è½¬ç§»è¿‡æ¥çš„çŠ¶æ€çš„æœ€å°å€¼åŠ ä¸Šæšä¸¾çš„ç¡¬å¸æ•°é‡ 1 ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ <code>coins = [1, 2, 5], amount = 11</code><br>åˆ™ï¼Œå½“ i==0 æ—¶æ— æ³•ç”¨ç¡¬å¸ç»„æˆï¼Œä¸º 0 ã€‚å½“ i&lt;0 æ—¶ï¼Œå¿½ç•¥ F(i)</p>
<table>
<thead>
<tr>
<th>F(i)</th>
<th>æœ€å°ç¡¬å¸æ•°é‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>F(0)</td>
<td>0 //é‡‘é¢ä¸º0ä¸èƒ½ç”±ç¡¬å¸ç»„æˆ</td>
</tr>
<tr>
<td>F(1)</td>
<td>1 //F(1)=min(F(1-1),F(1-2),F(1-5))+1=1</td>
</tr>
<tr>
<td>F(2)</td>
<td>1 //F(2)=min(F(2-1),F(2-2),F(2-5))+1=1</td>
</tr>
<tr>
<td>F(3)</td>
<td>2 //F(3)=min(F(3-1),F(3-2),F(3-5))+1=2</td>
</tr>
<tr>
<td>F(4)</td>
<td>2 //F(4)=min(F(4-1),F(4-2),F(4-5))+1=2</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
<tr>
<td>F(11)</td>
<td>3 //F(11)=min(F(11-1),F(11-2),F(11-5))+1=3</td>
</tr>
</tbody>
</table>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é—®é¢˜çš„ç­”æ¡ˆæ˜¯é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£å¾—åˆ°çš„ã€‚</p>
<p>è‡ªåº•å‘ä¸Šä½¿ç”¨ dp table æ¥æ¶ˆé™¤é‡å å­é—®é¢˜ï¼Œå…³äºã€ŒçŠ¶æ€ã€ã€Œé€‰æ‹©ã€å’Œ base case ä¸ä¹‹å‰æ²¡æœ‰åŒºåˆ«ï¼Œ<code>dp</code> æ•°ç»„çš„å®šä¹‰å’Œåˆšæ‰ <code>dp</code> å‡½æ•°ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æŠŠã€ŒçŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯ç›®æ ‡é‡‘é¢ä½œä¸ºå˜é‡ã€‚ä¸è¿‡ <code>dp</code> å‡½æ•°ä½“ç°åœ¨å‡½æ•°å‚æ•°ï¼Œè€Œ <code>dp</code> æ•°ç»„ä½“ç°åœ¨æ•°ç»„ç´¢å¼•ï¼š</p>
<p><strong><code>dp</code>æ•°ç»„çš„å®šä¹‰ï¼šå½“ç›®æ ‡é‡‘é¢ä¸º<code>i</code>æ—¶ï¼Œè‡³å°‘éœ€è¦<code>dp[i]</code>æšç¡¬å¸å‡‘å‡º</strong>ã€‚</p>
<p>æ ¹æ®æˆ‘ä»¬æ–‡ç« å¼€å¤´ç»™å‡ºçš„åŠ¨æ€è§„åˆ’ä»£ç æ¡†æ¶å¯ä»¥å†™å‡ºå¦‚ä¸‹è§£æ³•ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins: List[int], amount: int)</span> -&gt; int:</span></span><br><span class="line">        dp = [float(<span class="string">'inf'</span>)] * (amount + <span class="number">1</span>)</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(coin, amount + <span class="number">1</span>):</span><br><span class="line">                dp[x] = min(dp[x], dp[x - coin] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[amount] <span class="keyword">if</span> dp[amount] != float(<span class="string">'inf'</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure></p>
<h1 id="åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹"><a href="#åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹" class="headerlink" title="åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹"></a>åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹</h1><h2 id="èƒŒåŒ…é—®é¢˜ç³»åˆ—"><a href="#èƒŒåŒ…é—®é¢˜ç³»åˆ—" class="headerlink" title="èƒŒåŒ…é—®é¢˜ç³»åˆ—"></a>èƒŒåŒ…é—®é¢˜ç³»åˆ—</h2><h3 id="0-1èƒŒåŒ…é—®é¢˜"><a href="#0-1èƒŒåŒ…é—®é¢˜" class="headerlink" title="0-1èƒŒåŒ…é—®é¢˜"></a>0-1èƒŒåŒ…é—®é¢˜</h3><p>æ³¨æ„: <strong>ã€Œ0-1 èƒŒåŒ…ã€é—®é¢˜æ˜¯ä¸€ç±»éå¸¸é‡è¦çš„åŠ¨æ€è§„åˆ’é—®é¢˜</strong><br>è¿™ä¸ªé¢˜ç›®ä¸­çš„ç‰©å“ä¸å¯ä»¥åˆ†å‰²ï¼Œè¦ä¹ˆè£…è¿›åŒ…é‡Œï¼Œè¦ä¹ˆä¸è£…ï¼Œä¸èƒ½è¯´åˆ‡æˆä¸¤å—è£…ä¸€åŠã€‚è¿™ä¹Ÿè®¸å°±æ˜¯ 0-1 èƒŒåŒ…è¿™ä¸ªåè¯çš„æ¥å†ã€‚</p>
<p>æœ€åŸºæœ¬çš„èƒŒåŒ…é—®é¢˜å°±æ˜¯ 01 èƒŒåŒ…é—®é¢˜ï¼ˆ01 knapsack problemï¼‰ï¼šä¸€å…±æœ‰ N ä»¶ç‰©å“ï¼Œç¬¬ iï¼ˆi ä» 1 å¼€å§‹ï¼‰ä»¶ç‰©å“çš„é‡é‡ä¸º <code>w[i]</code>ï¼Œä»·å€¼ä¸º <code>v[i]</code>ã€‚åœ¨æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…æ‰¿è½½ä¸Šé™ W çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ</p>
<p>å¦‚æœé‡‡ç”¨æš´åŠ›ç©·ä¸¾çš„æ–¹å¼ï¼Œæ¯ä»¶ç‰©å“éƒ½å­˜åœ¨è£…å…¥å’Œä¸è£…å…¥ä¸¤ç§æƒ…å†µï¼Œ<strong>æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(2^N)ï¼Œè¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚è€Œä½¿ç”¨åŠ¨æ€è§„åˆ’å¯ä»¥å°†å¤æ‚åº¦é™è‡³ O(NW)</strong>ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¹¦åŒ…å†…ç‰©å“çš„æ€»ä»·å€¼ï¼Œè€Œå˜é‡æ˜¯ç‰©å“å’Œä¹¦åŒ…çš„é™é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯å®šä¹‰çŠ¶æ€ dp:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, <span class="number">0</span>&lt;=i&lt;=N, <span class="number">0</span>&lt;=j&lt;=W</span><br></pre></td></tr></table></figure></p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°† dp[0][0â€¦W] åˆå§‹åŒ–ä¸º 0ï¼Œè¡¨ç¤ºå°†å‰ 0 ä¸ªç‰©å“ï¼ˆå³æ²¡æœ‰ç‰©å“ï¼‰è£…å…¥ä¹¦åŒ…çš„æœ€å¤§ä»·å€¼ä¸º 0ã€‚é‚£ä¹ˆå½“ i &gt; 0 æ—¶<code>dp[i][j]</code>æœ‰ä¸¤ç§æƒ…å†µï¼š </p>
<ul>
<li>ä¸è£…å…¥ç¬¬ i ä»¶ç‰©å“ï¼Œå³<code>dp[iâˆ’1][j]</code>ï¼›</li>
<li>è£…å…¥ç¬¬ i ä»¶ç‰©å“ï¼ˆå‰ææ˜¯èƒ½è£…ä¸‹ï¼‰ï¼Œå³<code>dp[iâˆ’1][jâˆ’w[i-1]] + v[i-1]</code></li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆæ˜¯i-1"><a href="#ä¸ºä»€ä¹ˆæ˜¯i-1" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯i-1"></a>ä¸ºä»€ä¹ˆæ˜¯i-1</h4><p>æ³¨æ„ä¸Šæ–¹çš„<code>w[i-1]</code>å’Œ<code>v[i-1]</code>, ä¸ºä»€ä¹ˆæ˜¯<code>i-1</code>å‘¢?<br>å› ä¸ºæˆ‘ä»¬å¯¹<code>dp[i][j]</code>è¡¨ç¤ºå°†<strong>å‰iä»¶</strong>ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, åˆ™<code>i=0</code>å…¶å®è¡¨ç¤ºçš„æ˜¯å‰0ä¸ªç‰©å“å¹¶ä¸æ˜¯ç¬¬0ä¸ªç‰©å“, æ‰€ä»¥å®é™…å¯¹åº”weightæ•°ç»„å’Œvalueæ•°ç»„çš„indexåº”è¯¥ä¸º<code>i-1</code></p>
<p>å³çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j] = max(</span><br><span class="line">    dp[iâˆ’<span class="number">1</span>][j],</span><br><span class="line">    dp[iâˆ’<span class="number">1</span>][jâˆ’w[i<span class="number">-1</span>]+v[i<span class="number">-1</span>])  <span class="comment"># j &gt;= w[i-1]</span></span><br></pre></td></tr></table></figure></p>
<p>æ‰€æ±‚çš„ç»“æœä¸º<code>dp[n][capacity]</code></p>
<p>æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—å‡ºä»¥ä¸‹åŠ¨è§„ä»£ç :<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">knapsack_dp</span><span class="params">(self, capacity, weight_arr, value_arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> capacity == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">assert</span>(len(weight_arr) == len(value_arr))</span><br><span class="line">    n = len(weight_arr)</span><br><span class="line">    <span class="comment"># dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, 0&lt;=i&lt;=N, 0&lt;=j&lt;=W</span></span><br><span class="line">    <span class="comment"># é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†dp[0][0...W]åˆå§‹åŒ–ä¸º0ï¼Œ</span></span><br><span class="line">    <span class="comment"># è¡¨ç¤ºå°†å‰0ä¸ªç‰©å“ï¼ˆå³æ²¡æœ‰ç‰©å“ï¼‰è£…å…¥ä¹¦åŒ…çš„æœ€å¤§ä»·å€¼ä¸º0ã€‚</span></span><br><span class="line">    <span class="comment"># é‚£ä¹ˆå½“ i &gt; 0 æ—¶dp[i][j]æœ‰ä¸¤ç§æƒ…å†µï¼š</span></span><br><span class="line">    <span class="comment"># - ä¸è£…å…¥ç¬¬iä»¶ç‰©å“ï¼Œå³dp[iâˆ’1][j]ï¼›</span></span><br><span class="line">    <span class="comment"># - è£…å…¥ç¬¬iä»¶ç‰©å“ï¼ˆå‰ææ˜¯èƒ½è£…ä¸‹ï¼‰ï¼Œå³dp[iâˆ’1][jâˆ’w[i-1]] + v[i-1]ã€‚</span></span><br><span class="line">    <span class="comment"># å› ä¸ºæˆ‘ä»¬å¯¹dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="comment"># åˆ™i=0å…¶å®è¡¨ç¤ºçš„æ˜¯0ä¸ªç‰©å“,</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥å®é™…å¯¹åº”weightæ•°ç»„å’Œvalueæ•°ç»„çš„indexåº”è¯¥ä¸ºi-1</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># å³çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</span></span><br><span class="line">    <span class="comment"># dp[i][j] = max(dp[iâˆ’1][j], dp[iâˆ’1][jâˆ’w[i-1]]+v[i-1]) // j &gt;= w[i-1]</span></span><br><span class="line">    <span class="comment"># æ‰€æ±‚ä¸ºdp[n][capacity]</span></span><br><span class="line">    dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(capacity+<span class="number">1</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(n+<span class="number">1</span>)]</span><br><span class="line">    <span class="comment"># åŠ¨è§„æ˜¯ä»åº•å‘ä¸Šå˜›, å…ˆæ„å»ºdp[0]çš„ä¸œè¥¿</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(capacity+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># å› ä¸ºæˆ‘ä»¬å¯¹dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">        <span class="comment"># åˆ™i=0å…¶å®è¡¨ç¤ºçš„æ˜¯0ä¸ªç‰©å“, æ‰€ä»¥ = 0</span></span><br><span class="line">        dp[<span class="number">0</span>][k] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(capacity+<span class="number">1</span>):</span><br><span class="line">            <span class="comment"># å› ä¸ºæˆ‘ä»¬å¯¹dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">            <span class="comment"># åˆ™i=0å…¶å®è¡¨ç¤ºçš„æ˜¯0ä¸ªç‰©å“,</span></span><br><span class="line">            <span class="comment"># æ‰€ä»¥å®é™…å¯¹åº”weightæ•°ç»„å’Œvalueæ•°ç»„çš„indexåº”è¯¥ä¸ºi-1</span></span><br><span class="line">            pack_args_index = i - <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> j - weight_arr[pack_args_index] &lt; <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = max(</span><br><span class="line">                    dp[i<span class="number">-1</span>][j],</span><br><span class="line">                    value_arr[pack_args_index] + dp[i<span class="number">-1</span>][j-weight_arr[pack_args_index]]</span><br><span class="line">                )</span><br><span class="line">    <span class="keyword">return</span> dp[n][capacity]</span><br></pre></td></tr></table></figure></p>
<h3 id="å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>å®Œå…¨èƒŒåŒ…é—®é¢˜</h3><p>å®Œå…¨èƒŒåŒ…ï¼ˆunbounded knapsack problemï¼‰ä¸ 01 èƒŒåŒ…ä¸åŒå°±æ˜¯æ¯ç§ç‰©å“å¯ä»¥æœ‰æ— é™å¤šä¸ªï¼šä¸€å…±æœ‰ N ç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™å¤šä¸ªï¼Œç¬¬ iï¼ˆi ä» 1 å¼€å§‹ï¼‰ç§ç‰©å“çš„é‡é‡ä¸º w[i]ï¼Œä»·å€¼ä¸º v[i]ã€‚åœ¨æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…æ‰¿è½½ä¸Šé™ W çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡å’Œå˜é‡å’Œ 01 èƒŒåŒ…æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯å®šä¹‰ä¸ 01 èƒŒåŒ…é—®é¢˜å‡ ä¹å®Œå…¨ç›¸åŒçš„çŠ¶æ€ dp:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j]è¡¨ç¤ºå°†å‰iç§ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, <span class="number">0</span>&lt;=i&lt;=N, <span class="number">0</span>&lt;=j&lt;=W</span><br></pre></td></tr></table></figure></p>
<h4 id="ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1"><a href="#ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1" class="headerlink" title="ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1"></a>ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1</h4><p>æˆ‘ä»¬æ³¨æ„!!!!! <strong>å®Œå…¨èƒŒåŒ…é—®é¢˜çš„iæŒ‡çš„æ˜¯å‰iç§, è€Œä¸æ˜¯å‰iä¸ª, è¿™ä¸€ç‚¹è·Ÿ0-1èƒŒåŒ…æ˜¯ä¸åŒçš„, 0-1èƒŒåŒ…çš„iæŒ‡çš„æ˜¯å‰iä¸ª</strong><br>åˆå§‹çŠ¶æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å°† dp[0][0â€¦W] åˆå§‹åŒ–ä¸º 0ï¼Œè¡¨ç¤ºå°†å‰ 0 ç§ç‰©å“ï¼ˆå³æ²¡æœ‰ç‰©å“ï¼‰è£…å…¥ä¹¦åŒ…çš„æœ€å¤§ä»·å€¼ä¸º 0ã€‚é‚£ä¹ˆå½“ i &gt; 0 æ—¶, å‡†å¤‡è¦æ”¾å…¥<strong>ç¬¬iç§çš„æŸä¸€ä¸ªç‰©å“</strong><code>item_i_1</code>æ—¶(æ³¨æ„, æ˜¯ç¬¬iç§çš„æŸä¸€ä¸ª, ç¬¬iç§è¿˜å¯ä»¥æœ‰å…¶ä»–åŒç§ç‰©å“<code>item_i_2</code>, <code>item_i_3</code>â€¦), ä¹Ÿæœ‰ä¸¤ç§æƒ…å†µï¼š  </p>
<ul>
<li>ä¸è£…å…¥ç¬¬ i ç§çš„å½“å‰è¿™ä¸ªç‰©å“<code>item_i_1</code>æ—¶ï¼Œé‚£åªä¼šæœ‰å‰<code>i-1</code>ç§å•†å“äº†, å³<code>dp[iâˆ’1][j]</code></li>
<li>è£…å…¥ç¬¬ i ç§ç‰©å“å½“å‰è¿™ä¸ªç‰©å“<code>item_i_1</code>æ—¶ï¼Œ<strong>æ­¤æ—¶å’Œ 0-1 èƒŒåŒ…ä¸å¤ªä¸€æ ·</strong>ï¼Œå› ä¸ºæ¯ç§ç‰©å“æœ‰æ— é™ä¸ªï¼ˆä½†æ³¨æ„ä¹¦åŒ…é™é‡æ˜¯æœ‰é™çš„ï¼‰ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸åº”è¯¥è½¬ç§»åˆ°<code>dp[iâˆ’1][jâˆ’w[i-1]]</code>è€Œåº”è¯¥è½¬ç§»åˆ°<code>dp[i][jâˆ’w[i-1]]</code>ï¼Œå› ä¸º<code>item_i_1</code>æ˜¯ç¬¬iç§ç‰©å“çš„æŸä¸€ä¸ªç‰©å“, æ‰€ä»¥åº”è¯¥æ”¾åˆ°<code>dp[i]</code>è¿™ä¸ªç¬¬iç§ç‰©å“çš„å‘ä½é‡Œ, å³è£…å…¥<code>item_i_1</code>äº†ä¹‹åè¿˜å¯ä»¥è£…å…¥<code>item_i_2</code>, <code>item_i_3</code>â€¦æ‰€ä»¥æ­¤æ—¶ä¸º: <code>dp[i][jâˆ’w[i-1]] + v[i-1]</code></li>
</ul>
<p><a href="#ä¸ºä»€ä¹ˆæ˜¯i-1">ä¸ºä»€ä¹ˆæ˜¯i-1</a></p>
<p>æ‰€ä»¥çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j] = max(</span><br><span class="line">    dp[iâˆ’<span class="number">1</span>][j],</span><br><span class="line">    dp[i][jâˆ’w[i<span class="number">-1</span>]]+v[i<span class="number">-1</span>])  <span class="comment"># j &gt;= w[i-1]</span></span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ 0-1 èƒŒåŒ…é—®é¢˜å”¯ä¸€ä¸åŒå°±æ˜¯içš„å«ä¹‰ä¸åŒå¯¼è‡´çš„ max ç¬¬äºŒé¡¹ä¸æ˜¯ <code>dp[i-1]</code> è€Œæ˜¯ <code>dp[i]</code>ã€‚</p>
<h3 id="èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼"><a href="#èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼" class="headerlink" title="èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼"></a>èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼</h3><ul>
<li><strong>æ°å¥½è£…æ»¡</strong><br>  å®æˆ˜é¢˜ç›®:  <ul>
<li><a href="#lc416-åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜">lc416-åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜</a></li>
<li><a href="#lc322-å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜">lc322-å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜</a></li>
</ul>
</li>
<li><p><strong>æ±‚æ–¹æ¡ˆæ€»æ•°</strong><br>  é™¤äº†åœ¨ç»™å®šæ¯ä¸ªç‰©å“çš„ä»·å€¼åæ±‚å¯å¾—åˆ°çš„æœ€å¤§ä»·å€¼å¤–ï¼Œè¿˜æœ‰ä¸€ç±»é—®é¢˜æ˜¯é—®è£…æ»¡èƒŒåŒ…æˆ–å°†èƒŒåŒ…è£…è‡³æŸä¸€æŒ‡å®šå®¹é‡çš„æ–¹æ¡ˆæ€»æ•°ã€‚å¯¹äºè¿™ç±»é—®é¢˜ï¼Œéœ€è¦å°†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­çš„ max æ”¹æˆ sum ï¼Œå¤§ä½“æ€è·¯æ˜¯ä¸å˜çš„ã€‚ä¾‹å¦‚è‹¥æ¯ä»¶ç‰©å“å‡æ˜¯<strong>å®Œå…¨èƒŒåŒ…ä¸­çš„</strong>ç‰©å“ï¼Œè½¬ç§»æ–¹ç¨‹å³ä¸º</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j] = sum(dp[iâˆ’<span class="number">1</span>][j], dp[i][jâˆ’w[i<span class="number">-1</span>]])  <span class="comment"># j &gt;= w[i-1]</span></span><br></pre></td></tr></table></figure>
<p>  å®æˆ˜é¢˜ç›®: <a href="#lc518-å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜">lc518-å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜</a><br>  <a href="#ä¸ºä»€ä¹ˆæ˜¯i-1">ä¸ºä»€ä¹ˆæ˜¯i-1</a><br>  <a href="#ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1">ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1</a></p>
</li>
<li><strong>äºŒç»´èƒŒåŒ…</strong><br>  å‰é¢è®¨è®ºçš„èƒŒåŒ…å®¹é‡éƒ½æ˜¯ä¸€ä¸ªé‡ï¼šé‡é‡ã€‚äºŒç»´èƒŒåŒ…é—®é¢˜æ˜¯æŒ‡æ¯ä¸ªèƒŒåŒ…æœ‰ä¸¤ä¸ªé™åˆ¶æ¡ä»¶ï¼ˆæ¯”å¦‚é‡é‡å’Œä½“ç§¯é™åˆ¶ï¼‰ï¼Œé€‰æ‹©ç‰©å“å¿…é¡»è¦æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ã€‚æ­¤ç±»é—®é¢˜çš„è§£æ³•å’Œä¸€ç»´èƒŒåŒ…é—®é¢˜ä¸åŒå°±æ˜¯dpæ•°ç»„è¦å¤šå¼€ä¸€ç»´ï¼Œå…¶ä»–å’Œä¸€ç»´èƒŒåŒ…å®Œå…¨ä¸€æ ·<br>  å®æˆ˜é¢˜ç›®:<ul>
<li><a href="#lc474-ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…">lc474-ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…</a></li>
</ul>
</li>
</ul>
<h3 id="èƒŒåŒ…é—®é¢˜å®æˆ˜"><a href="#èƒŒåŒ…é—®é¢˜å®æˆ˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜å®æˆ˜"></a>èƒŒåŒ…é—®é¢˜å®æˆ˜</h3><h4 id="åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜"><a href="#åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜" class="headerlink" title="åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜"></a>åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜</h4><p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum" target="_blank" rel="noopener">leetcode416é¢˜</a><br>ç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„ã€‚æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚<br>ç¤ºä¾‹ 1:<br>è¾“å…¥: [1, 5, 11, 5]<br>è¾“å‡º: true<br>è§£é‡Š: æ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11].<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: [1, 2, 3, 5]<br>è¾“å‡º: false<br>è§£é‡Š: æ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†.</p>
<p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/0-1-bei-bao-wen-ti-xiang-jie-zhen-dui-ben-ti-de-yo/" target="_blank" rel="noopener">å‚è€ƒ</a><br><strong>è¿™å…¶å®æ˜¯ä¸€ä¸ªæ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜</strong>, æˆ‘ä»¬åªè¦æ‹¿ä¸€å®šçš„æ•°å­—å¡«æ»¡æ‰€æœ‰æ•°å­—å’Œsumçš„ä¸€åŠ, å‰©ä½™çš„æ•°å­—ä¸€å®šç­‰äºsum/2, åˆ™è¿™ä¸ªé—®é¢˜å…¶å®è¿˜æ˜¯ä¸ªèƒŒåŒ…é—®é¢˜, åªä¸è¿‡æˆ‘ä»¬éœ€è¦ç”¨ä¸€å®šçš„æ•°å­—æŠŠè¿™ä¸ªèƒŒåŒ…å¡«æ»¡, å¯¹äºç¬¬iä¸ªç‰©å“, æœ‰ä¸¤ç§æƒ…å†µ:</p>
<ul>
<li>æˆ‘ä»¬ç”¨i-1å°±å¡«æ»¡äº†èƒŒåŒ…, åˆ™ç¬¬iä¸ªå°±ä¸éœ€è¦ç”¨äº†</li>
<li>æˆ‘ä»¬ç”¨äº†ç¬¬iä¸ªæ‰å¡«æ»¡</li>
</ul>
<p>çŠ¶æ€å®šä¹‰ï¼š<br><code>dp[i][j]</code>è¡¨ç¤ºå¯¹äºå®¹é‡ä¸º j çš„èƒŒåŒ…ï¼Œè‹¥åªæ˜¯ç”¨å‰ i ä¸ªç‰©å“(å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“)ï¼Œæ¯ä¸ªæ•°åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä½¿å¾—è¿™äº›æ•°çš„å’Œæ°å¥½ç­‰äº j  .<br>(æ¯”å¦‚è¯´ï¼Œå¦‚æœdp[4][9] = trueï¼Œå…¶å«ä¹‰ä¸ºï¼šå¯¹äºå®¹é‡ä¸º 9 çš„èƒŒåŒ…ï¼Œè‹¥åªæ˜¯ç”¨å‰ 4 ä¸ªç‰©å“ï¼Œå¯ä»¥æœ‰ä¸€ç§æ–¹æ³•æŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ã€‚)ã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå¾ˆå¤šæ—¶å€™ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ€è€ƒçš„è§’åº¦æ˜¯ã€Œåˆ†ç±»è®¨è®ºã€ï¼Œå¯¹äºã€Œ0-1 èƒŒåŒ…é—®é¢˜ã€è€Œè¨€å°±æ˜¯ã€Œå½“å‰è€ƒè™‘åˆ°çš„æ•°å­—é€‰ä¸ä¸é€‰ã€ã€‚</p>
<ul>
<li>ä¸é€‰æ‹© nums[i]ï¼Œåˆ™çœ‹å‰i-1ä¸ªå…ƒç´ çš„æ˜¯å¦èƒ½èƒ½å’Œä¸ºj, å³ <code>dp[i-1][j]</code></li>
<li>é€‰æ‹© nums[i]ï¼Œçœ‹å‰i-1ä¸ªå…ƒç´ çš„æ˜¯å¦èƒ½èƒ½å’Œä¸º<code>j-nums[i-1]</code>, å³<code>dp[i-1][j- nums[i-1]</code></li>
</ul>
<p><a href="#ä¸ºä»€ä¹ˆæ˜¯i-1">ä¸ºä»€ä¹ˆæ˜¯i-1</a><br>åˆ™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br><code>dp[i][j] = dp[i - 1][j] or dp[i - 1][j - nums[i-1]]  // j &gt;= nums[i-1]</code></p>
<p>ä¸€èˆ¬å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä»¥åï¼Œå°±éœ€è¦è€ƒè™‘åˆå§‹åŒ–æ¡ä»¶ã€‚</p>
<ul>
<li>åˆå§‹åŒ–ï¼š<ul>
<li><code>dp[0][0] = True  # å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“, å¯ä»¥å……æ»¡å®¹é‡ä¸º0çš„èƒŒåŒ…</code></li>
<li><code>dp[0][c] = False # å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“, æ˜¯ä¸å¯èƒ½å……æ»¡å®¹é‡cå¤§äº0çš„èƒŒåŒ…çš„</code></li>
</ul>
</li>
<li>è¾“å‡ºï¼š<code>dp[len][target]</code>ï¼Œè¿™é‡Œ len è¡¨ç¤ºnumsæ•°ç»„çš„é•¿åº¦ï¼Œtarget æ˜¯æ•°ç»„çš„å…ƒç´ ä¹‹å’Œï¼ˆå¿…é¡»æ˜¯å¶æ•°ï¼‰çš„ä¸€åŠã€‚</li>
</ul>
<p>åˆ™ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">canPartition</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type nums: List[int]</span></span><br><span class="line"><span class="string">    :rtype: bool</span></span><br><span class="line"><span class="string">    åŠ¨è§„è§£æ³•</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># ç‰¹åˆ¤ï¼šå¦‚æœæ˜¯å¥‡æ•°ï¼Œå°±ä¸ç¬¦åˆè¦æ±‚</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> nums <span class="keyword">or</span> len(nums) &lt; <span class="number">2</span> <span class="keyword">or</span> sum(nums) % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    _bag_capcity = sum(nums) / <span class="number">2</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="comment"># çŠ¶æ€å®šä¹‰ï¼š</span></span><br><span class="line">    <span class="comment"># dp[i][j]è¡¨ç¤ºå¯¹äºå®¹é‡ä¸º j çš„èƒŒåŒ…ï¼Œè‹¥åªæ˜¯ç”¨å‰ i ä¸ªç‰©å“(å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“)ï¼Œ</span></span><br><span class="line">    <span class="comment"># æ¯ä¸ªæ•°åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä½¿å¾—è¿™äº›æ•°çš„å’Œæ°å¥½ç­‰äº j  .</span></span><br><span class="line">    <span class="comment"># (æ¯”å¦‚è¯´ï¼Œå¦‚æœdp[4][9] = trueï¼Œå…¶å«ä¹‰ä¸ºï¼šå¯¹äºå®¹é‡ä¸º 9 çš„èƒŒåŒ…ï¼Œè‹¥åªæ˜¯ç”¨å‰ 4 ä¸ªç‰©å“ï¼Œå¯ä»¥æœ‰ä¸€ç§æ–¹æ³•æŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ã€‚)ã€‚</span></span><br><span class="line">    <span class="comment"># çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå¾ˆå¤šæ—¶å€™ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ€è€ƒçš„è§’åº¦æ˜¯ã€Œåˆ†ç±»è®¨è®ºã€ï¼Œå¯¹äºã€Œ0-1 èƒŒåŒ…é—®é¢˜ã€è€Œè¨€å°±æ˜¯ã€Œå½“å‰è€ƒè™‘åˆ°çš„æ•°å­—é€‰ä¸ä¸é€‰ã€ã€‚</span></span><br><span class="line">    <span class="comment"># - ä¸é€‰æ‹© nums[i]ï¼Œåˆ™çœ‹å‰i-1ä¸ªå…ƒç´ çš„æ˜¯å¦èƒ½èƒ½å’Œä¸ºj, å³ `dp[i-1][j]`</span></span><br><span class="line">    <span class="comment"># - é€‰æ‹© nums[i]ï¼Œçœ‹å‰i-1ä¸ªå…ƒç´ çš„æ˜¯å¦èƒ½èƒ½å’Œä¸º`j-nums[i-1]`, å³`dp[i-1][j- nums[i-1]`</span></span><br><span class="line">    <span class="comment"># **æ³¨æ„ä¸Šæ–¹çš„`nums[i-1]`, ä¸ºä»€ä¹ˆæ˜¯i-1å‘¢?**</span></span><br><span class="line">    <span class="comment"># å› ä¸ºæˆ‘ä»¬å¯¹dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, åˆ™i=0å…¶å®è¡¨ç¤ºçš„æ˜¯0ä¸ªç‰©å“,</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥å®é™…å¯¹åº”numsæ•°ç»„çš„indexåº”è¯¥ä¸º`i-1`</span></span><br><span class="line">    <span class="comment"># åˆ™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</span></span><br><span class="line">    <span class="comment"># dp[i][j] = dp[i - 1][j] or dp[i - 1][j - nums[i-1]]  // j &gt;= nums[i-1]</span></span><br><span class="line">    dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(_bag_capcity+<span class="number">1</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span>  <span class="comment"># å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“, å¯ä»¥å……æ»¡å®¹é‡ä¸º0çš„èƒŒåŒ…</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> range(<span class="number">1</span>, _bag_capcity+<span class="number">1</span>):</span><br><span class="line">        dp[<span class="number">0</span>][c] = <span class="keyword">False</span> <span class="comment"># å‰0ä¸ªåˆ™è¡¨ç¤ºæ²¡æœ‰ç‰©å“, æ˜¯ä¸å¯èƒ½å……æ»¡å®¹é‡å¤§äº0çš„èƒŒåŒ…çš„</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(_bag_capcity+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> j - nums[i<span class="number">-1</span>] &lt; <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j] <span class="keyword">or</span> dp[i<span class="number">-1</span>][j-nums[i<span class="number">-1</span>]]</span><br><span class="line">    <span class="keyword">return</span> dp[n][_bag_capcity]</span><br></pre></td></tr></table></figure></p>
<h4 id="å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜</h4><p><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">lc322</a><br>å…ˆçœ‹ä¸‹é¢˜ç›®ï¼šç»™ä½  <code>k</code> ç§é¢å€¼çš„ç¡¬å¸ï¼Œé¢å€¼åˆ†åˆ«ä¸º <code>c1, c2 ... ck</code>ï¼Œæ¯ç§ç¡¬å¸çš„æ•°é‡æ— é™ï¼Œå†ç»™ä¸€ä¸ªæ€»é‡‘é¢ <code>amount</code>ï¼Œé—®ä½ <strong>æœ€å°‘</strong>éœ€è¦å‡ æšç¡¬å¸å‡‘å‡ºè¿™ä¸ªé‡‘é¢ï¼Œå¦‚æœä¸å¯èƒ½å‡‘å‡ºï¼Œç®—æ³•è¿”å› -1 ã€‚ç®—æ³•çš„å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int coinChange(int[] coins, int amount);</span><br></pre></td></tr></table></figure></p>
<p>æ¯”å¦‚è¯´ <code>k = 3</code>ï¼Œé¢å€¼åˆ†åˆ«ä¸º 1ï¼Œ2ï¼Œ5ï¼Œæ€»é‡‘é¢ <code>amount = 11</code>ã€‚é‚£ä¹ˆæœ€å°‘éœ€è¦ 3 æšç¡¬å¸å‡‘å‡ºï¼Œå³ 11 = 5 + 5 + 1ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å°†æ¯ç§ç¡¬å¸çœ‹ä½œæ˜¯æ¯ç§ç‰©å“ï¼Œé¢å€¼é‡‘é¢çœ‹æˆæ˜¯ç‰©å“çš„é‡é‡ï¼Œæ€»é‡‘é¢æ˜¯èƒŒåŒ…çš„æ€»å®¹é‡, å› ä¸ºç¡¬å¸æ— é™, è¿™æ ·æ­¤é¢˜å°±æ˜¯æ˜¯ä¸€ä¸ªæ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜äº†ã€‚ä¸è¿‡è¿™é‡Œä¸æ˜¯æ±‚æœ€å¤šè£…å…¥å¤šå°‘ä»·å€¼è€Œæ˜¯æ±‚æœ€å°‘è£…æ»¡èƒŒåŒ…çš„æ•°ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†<a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜">å®Œå…¨èƒŒåŒ…</a>çš„è½¬æ€è½¬ç§»æ–¹ç¨‹ä¸­ç¨å¾®æ”¹æ”¹å³å¯:  </p>
<ul>
<li>dp[i][j]å®šä¹‰ä¸º: ç”¨å‰iç§ç¡¬å¸å¯ä»¥æŠ½ä¸€äº›ç¡¬å¸å‡ºæ¥è£…æ»¡å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æœ€å°‘ç¡¬å¸æ•°é‡</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: <code>d[i][j] = min(dp[i-1][j], dp[i][j-coins[i-1]]+1)</code></li>
</ul>
<p><a href="#ä¸ºä»€ä¹ˆæ˜¯i-1">ä¸ºä»€ä¹ˆæ˜¯i-1</a><br><a href="#ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1">ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1</a>  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins, amount)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type coins: List[int]</span></span><br><span class="line"><span class="string">    :type amount: int</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">assert</span>(coins)</span><br><span class="line">    <span class="comment"># ç”¨èƒŒåŒ…çš„æ€è·¯</span></span><br><span class="line">    <span class="keyword">if</span> amount == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    n = len(coins)</span><br><span class="line">    <span class="comment"># å¦‚æœæˆ‘ä»¬å°†æ¯ç§ç¡¬å¸çœ‹ä½œæ˜¯æ¯ç§ç‰©å“ï¼Œé¢å€¼é‡‘é¢çœ‹æˆæ˜¯ç‰©å“çš„é‡é‡ï¼Œæ€»é‡‘é¢æ˜¯èƒŒåŒ…çš„æ€»å®¹é‡, å› ä¸ºç¡¬å¸æ— é™, è¿™æ ·æ­¤é¢˜å°±æ˜¯æ˜¯ä¸€ä¸ªæ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜.äº†ã€‚ä¸è¿‡è¿™é‡Œä¸æ˜¯æ±‚æœ€å¤šè£…å…¥å¤šå°‘ä»·å€¼è€Œæ˜¯æ±‚æœ€å°‘è£…æ»¡èƒŒåŒ…çš„æ•°ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†[å®Œå…¨èƒŒåŒ…](#å®Œå…¨èƒŒåŒ…é—®é¢˜)çš„è½¬æ€è½¬ç§»æ–¹ç¨‹ä¸­ç¨å¾®æ”¹æ”¹å³å¯:  </span></span><br><span class="line">    <span class="comment"># - dp[i][j]å®šä¹‰ä¸º: ç”¨å‰iç§ç¡¬å¸å¯ä»¥æŠ½ä¸€äº›ç¡¬å¸å‡ºæ¥è£…æ»¡å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æœ€å°‘ç¡¬å¸æ•°é‡</span></span><br><span class="line">    <span class="comment"># - çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: `d[i][j] = min(dp[i-1][j], dp[i][j-coins[i-1]])`</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å› ä¸ºä¹‹åè¦å–minæ“ä½œ, æ‰€ä»¥è¿™é‡Œåˆå§‹åŒ–ä¸ºæ— ç©·å¤§`float("inf")`</span></span><br><span class="line">    dp = [ [ float(<span class="string">"inf"</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(amount+<span class="number">1</span>) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>) ]</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(n+<span class="number">1</span>):</span><br><span class="line">        dp[k][<span class="number">0</span>] = <span class="number">0</span>  <span class="comment"># å……æ»¡å®¹é‡ä¸º0çš„èƒŒåŒ…, æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ä¸º0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(amount+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> j - coins[i<span class="number">-1</span>] &lt; <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = min(</span><br><span class="line">                    dp[i<span class="number">-1</span>][j],</span><br><span class="line">                    dp[i][j-coins[i<span class="number">-1</span>]] + <span class="number">1</span></span><br><span class="line">                )</span><br><span class="line">    <span class="keyword">return</span> dp[n][amount] <span class="keyword">if</span> dp[n][amount] != float(<span class="string">"inf"</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<h4 id="å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜</h4><p><a href="https://leetcode-cn.com/problems/coin-change-2" target="_blank" rel="noopener">lc518</a><br>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸å’Œä¸€ä¸ªæ€»é‡‘é¢ã€‚å†™å‡ºå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚<br>ç¤ºä¾‹ 1:<br>è¾“å…¥: amount = 5, coins = [1, 2, 5]<br>è¾“å‡º: 4<br>è§£é‡Š: æœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢:<br>5=5<br>5=2+2+1<br>5=2+1+1+1<br>5=1+1+1+1+1<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: amount = 3, coins = [2]<br>è¾“å‡º: 0<br>è§£é‡Š: åªç”¨é¢é¢2çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢3ã€‚<br>ç¤ºä¾‹ 3:<br>è¾“å…¥: amount = 10, coins = [10]<br>è¾“å‡º: 1</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé—®é¢˜è½¬åŒ–ä¸ºèƒŒåŒ…é—®é¢˜çš„æè¿°å½¢å¼ï¼š<br>æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤§å®¹é‡ä¸ºamountï¼Œæœ‰ä¸€ç³»åˆ—ç‰©å“coinsï¼Œæ¯ç§ç‰©å“çš„é‡é‡ä¸ºcoins[i]ï¼Œæ¯ç§ç‰©å“çš„æ•°é‡æ— é™ã€‚è¯·é—®æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œèƒ½å¤ŸæŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ï¼Ÿ<br>è¿™ä¸ªé—®é¢˜å’Œæˆ‘ä»¬å‰é¢è®²è¿‡çš„ä¸¤ä¸ª0-1èƒŒåŒ…é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼Œæ¯ç§ç‰©å“çš„æ•°é‡æ˜¯æ— é™çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„ã€Œå®Œå…¨èƒŒåŒ…é—®é¢˜ã€ï¼Œæ²¡å•¥é«˜å¤§ä¸Šçš„ï¼Œæ— éå°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹æœ‰ä¸€ç‚¹å˜åŒ–è€Œå·²ã€‚<strong>è¿™æ˜¯ä¸€ä¸ªæ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜</strong></p>
<ol>
<li><p><strong>ç¬¬ä¸€æ­¥è¦æ˜ç¡®ä¸¤ç‚¹ï¼Œã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€</strong>ã€‚<br> è¿™éƒ¨åˆ†éƒ½æ˜¯èƒŒåŒ…é—®é¢˜çš„è€å¥—è·¯äº†ï¼Œæˆ‘è¿˜æ˜¯å•°å—¦ä¸€ä¸‹å§ï¼šçŠ¶æ€æœ‰ä¸¤ä¸ªï¼Œå°±æ˜¯ã€ŒèƒŒåŒ…çš„å®¹é‡ã€å’Œã€Œå¯é€‰æ‹©çš„ç‰©å“ã€ï¼Œé€‰æ‹©å°±æ˜¯ã€Œè£…è¿›èƒŒåŒ…ã€æˆ–è€…ã€Œä¸è£…è¿›èƒŒåŒ…ã€ã€‚  æ˜ç™½äº†çŠ¶æ€å’Œé€‰æ‹©ï¼ŒåŠ¨æ€è§„åˆ’é—®é¢˜åŸºæœ¬ä¸Šå°±è§£å†³äº†</p>
</li>
<li><p><strong>ç¬¬äºŒæ­¥è¦æ˜ç¡®<code>dp</code>æ•°ç»„çš„å®šä¹‰</strong>ã€‚<br> é¦–å…ˆçœ‹çœ‹åˆšæ‰æ‰¾åˆ°çš„ã€ŒçŠ¶æ€ã€ï¼Œæœ‰ä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦ä¸€ä¸ªäºŒç»´<code>dp</code>æ•°ç»„ã€‚<br> <code>dp[i][j]</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š<br> <strong>ä»å‰<code>i</code>ç§ç‰©å“é‡Œé€‰å–è‹¥å¹²ä»¶ç‰©å“ï¼Œå½“èƒŒåŒ…å®¹é‡ä¸º<code>j</code>æ—¶ï¼Œæœ‰<code>dp[i][j]</code>ç§æ–¹æ³•å¯ä»¥è£…æ»¡èƒŒåŒ…ã€‚</strong><br> æ¢å¥è¯è¯´ï¼Œç¿»è¯‘å›æˆ‘ä»¬é¢˜ç›®çš„æ„æ€å°±æ˜¯ï¼š<br> <strong>è‹¥ä½¿ç”¨<code>coins</code>ä¸­çš„å‰<code>i</code>ç§ç¡¬å¸çš„é¢å€¼ï¼Œè‹¥æƒ³å‡‘å‡ºé‡‘é¢<code>j</code>ï¼Œæœ‰<code>dp[i][j]</code>ç§å‡‘æ³•</strong>ã€‚<br> ç»è¿‡ä»¥ä¸Šçš„å®šä¹‰ï¼Œå¯ä»¥å¾—åˆ°ï¼š<br> base case ä¸º</p>
<ul>
<li><code>dp[0][..] = 0</code> å› ä¸ºå¦‚æœä¸ä½¿ç”¨ä»»ä½•ä¸€ç§ç¡¬å¸ï¼Œå°±æ— æ³•å‡‘å‡ºä»»ä½•é‡‘é¢</li>
<li><p><code>dp[..][0] = 1</code> å¦‚æœå‡‘å‡ºçš„ç›®æ ‡é‡‘é¢ä¸º 0ï¼Œé‚£ä¹ˆ â€œæ— ä¸ºè€Œæ²»â€ (ä¸ç”¨ä»»ä½•ç¡¬å¸)å°±æ˜¯å”¯ä¸€çš„ä¸€ç§å‡‘æ³•ã€‚</p>
<p>æˆ‘ä»¬æœ€ç»ˆæƒ³å¾—åˆ°çš„ç­”æ¡ˆå°±æ˜¯<code>dp[N][amount]</code>ï¼Œå…¶ä¸­<code>N</code>ä¸º<code>coins</code>æ•°ç»„çš„å¤§å°ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>ç¬¬ä¸‰æ­¥ï¼Œæ ¹æ®ã€Œé€‰æ‹©ã€ï¼Œæ€è€ƒçŠ¶æ€è½¬ç§»çš„é€»è¾‘</strong>ã€‚</p>
<ul>
<li><strong>å¦‚æœä½ ä¸æŠŠè¿™ç¬¬<code>i</code>ç§çš„æŸä¸ªç‰©å“è£…å…¥èƒŒåŒ…</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸ä½¿ç”¨<code>coins[i]</code>è¿™ç§é¢å€¼çš„ç¡¬å¸ï¼Œé‚£ä¹ˆå‡‘å‡ºé¢é¢<code>j</code>çš„æ–¹æ³•æ•°<code>dp[i][j]</code>åº”è¯¥ç­‰äº<code>dp[i-1][j]</code>ï¼Œç»§æ‰¿ä¹‹å‰çš„ç»“æœã€‚</li>
<li><p><strong>å¦‚æœä½ æŠŠè¿™ç¬¬<code>i</code>ç§æŸä¸ªç‰©å“è£…å…¥äº†èƒŒåŒ…</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä½¿ç”¨<code>coins[i]</code>è¿™ç§é¢å€¼çš„ç¡¬å¸ï¼Œé‚£ä¹ˆ<code>dp[i][j]</code>åº”è¯¥ç­‰äº<code>dp[i][j-coins[i-1]]</code>ã€‚</p>
<p>é¦–å…ˆç”±äº<code>i</code>æ˜¯ä» 1 å¼€å§‹çš„ï¼Œæ‰€ä»¥<code>coins</code>çš„ç´¢å¼•æ˜¯<code>i-1</code>æ—¶è¡¨ç¤ºç¬¬<code>i</code>ç§ç¡¬å¸çš„é¢å€¼ã€‚<br><code>dp[i][j-coins[i-1]]</code>ä¹Ÿä¸éš¾ç†è§£ï¼Œå¦‚æœä½ å†³å®šä½¿ç”¨è¿™ç§é¢å€¼çš„ç¡¬å¸ï¼Œé‚£ä¹ˆå°±åº”è¯¥å…³æ³¨å¦‚ä½•å‡‘å‡ºé‡‘é¢<code>j - coins[i-1]</code>ã€‚<br>æ¯”å¦‚è¯´ï¼Œä½ æƒ³ç”¨é¢å€¼ä¸º 2 çš„ç¡¬å¸å‡‘å‡ºé‡‘é¢ 5ï¼Œé‚£ä¹ˆå¦‚æœä½ çŸ¥é“äº†å‡‘å‡ºé‡‘é¢ 3 çš„æ–¹æ³•ï¼Œå†åŠ ä¸Šä¸€æšé¢é¢ä¸º 2 çš„ç¡¬å¸ï¼Œä¸å°±å¯ä»¥å‡‘å‡º 5 äº†å˜›ã€‚<br><strong>ç»¼ä¸Šå°±æ˜¯ä¸¤ç§é€‰æ‹©ï¼Œè€Œæˆ‘ä»¬æƒ³æ±‚çš„<code>dp[i][j]</code>æ˜¯ã€Œå…±æœ‰å¤šå°‘ç§å‡‘æ³•ã€ï¼Œæ‰€ä»¥<code>dp[i][j]</code>çš„å€¼åº”è¯¥æ˜¯ä»¥ä¸Šä¸¤ç§é€‰æ‹©çš„ç»“æœä¹‹å’Œ</strong><br>åˆ™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: <code>dp[i][j] = dp[i-1][j] + dp[i][j-coins[i-1]]</code></p>
</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span><span class="params">(self, amount, coins)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type amount: int</span></span><br><span class="line"><span class="string">    :type coins: List[int]</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    """</span> </span><br><span class="line">    n = len(coins)</span><br><span class="line">    <span class="comment"># dp[i][j]`çš„å®šä¹‰å¦‚ä¸‹ï¼š  </span></span><br><span class="line">    <span class="comment"># ä»å‰`i`ç§ç‰©å“é‡Œé€‰å–è‹¥å¹²ä»¶ç‰©å“ï¼Œå½“èƒŒåŒ…å®¹é‡ä¸º`j`æ—¶ï¼Œæœ‰`dp[i][j]`ç§æ–¹æ³•å¯ä»¥è£…æ»¡èƒŒåŒ…ã€‚</span></span><br><span class="line">    dp = [ [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(amount+<span class="number">1</span>) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>) ]</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(n+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># å¦‚æœå‡‘å‡ºçš„ç›®æ ‡é‡‘é¢ä¸º 0ï¼Œé‚£ä¹ˆ â€œæ— ä¸ºè€Œæ²»â€ (ä¸ç”¨ä»»ä½•ç¡¬å¸)å°±æ˜¯å”¯ä¸€çš„ä¸€ç§å‡‘æ³•ã€‚</span></span><br><span class="line">        dp[k][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, amount+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> j - coins[i<span class="number">-1</span>] &lt; <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j-coins[i<span class="number">-1</span>]]</span><br><span class="line">    <span class="keyword">return</span> dp[n][amount]</span><br></pre></td></tr></table></figure>
<h4 id="ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…"><a href="#ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…" class="headerlink" title="ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…"></a>ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…</h4><p><a href="https://leetcode-cn.com/problems/ones-and-zeroes/" target="_blank" rel="noopener">lc474</a><br>ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²æ•°ç»„ strs å’Œä¸¤ä¸ªæ•´æ•° m å’Œ n ã€‚<br>è¯·ä½ æ‰¾å‡ºå¹¶è¿”å› strs çš„æœ€å¤§å­é›†çš„å¤§å°ï¼Œè¯¥å­é›†ä¸­ æœ€å¤š æœ‰ m ä¸ª 0 å’Œ n ä¸ª 1 ã€‚<br>å¦‚æœ x çš„æ‰€æœ‰å…ƒç´ ä¹Ÿæ˜¯ y çš„å…ƒç´ ï¼Œé›†åˆ x æ˜¯é›†åˆ y çš„ å­é›† ã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šstrs = [â€œ10â€, â€œ0001â€, â€œ111001â€, â€œ1â€, â€œ0â€], m = 5, n = 3<br>è¾“å‡ºï¼š4<br>è§£é‡Šï¼šæœ€å¤šæœ‰ 5 ä¸ª 0 å’Œ 3 ä¸ª 1 çš„æœ€å¤§å­é›†æ˜¯ {â€œ10â€,â€0001â€,â€1â€,â€0â€} ï¼Œå› æ­¤ç­”æ¡ˆæ˜¯ 4 ã€‚<br>å…¶ä»–æ»¡è¶³é¢˜æ„ä½†è¾ƒå°çš„å­é›†åŒ…æ‹¬ {â€œ0001â€,â€1â€} å’Œ {â€œ10â€,â€1â€,â€0â€} ã€‚{â€œ111001â€} ä¸æ»¡è¶³é¢˜æ„ï¼Œå› ä¸ºå®ƒå« 4 ä¸ª 1 ï¼Œå¤§äº n çš„å€¼ 3 ã€‚<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šstrs = [â€œ10â€, â€œ0â€, â€œ1â€], m = 1, n = 1<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šæœ€å¤§çš„å­é›†æ˜¯ {â€œ0â€, â€œ1â€} ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 2 ã€‚</p>
<p>pending_fini</p>
<h2 id="è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—"><a href="#è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—" class="headerlink" title="è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—"></a>è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—</h2><h3 id="stockæ€»ç»“"><a href="#stockæ€»ç»“" class="headerlink" title="stockæ€»ç»“"></a>stockæ€»ç»“</h3><p>æˆ‘ä»¬å…ˆè§£å†³ç¬¬å››é¢˜, ç„¶å:  </p>
<ul>
<li>ç¬¬ä¸€é¢˜æ˜¯åªè¿›è¡Œä¸€æ¬¡äº¤æ˜“ï¼Œç›¸å½“äº k = 1ï¼›</li>
<li>ç¬¬äºŒé¢˜æ˜¯ä¸é™äº¤æ˜“æ¬¡æ•°ï¼Œç›¸å½“äº k = +infinityï¼ˆæ­£æ— ç©·ï¼‰ï¼›</li>
<li>ç¬¬ä¸‰é¢˜æ˜¯åªè¿›è¡Œ 2 æ¬¡äº¤æ˜“ï¼Œç›¸å½“äº k = 2ï¼›</li>
<li>å‰©ä¸‹ä¸¤é“ä¹Ÿæ˜¯ä¸é™äº¤æ˜“æ¬¡æ•°ï¼Œä½†æ˜¯åŠ äº†äº¤æ˜“ã€Œå†·å†»æœŸã€å’Œã€Œæ‰‹ç»­è´¹ã€çš„é¢å¤–æ¡ä»¶ï¼Œå…¶å®å°±æ˜¯ç¬¬äºŒé¢˜çš„å˜ç§ï¼Œéƒ½å¾ˆå®¹æ˜“å¤„ç†ã€‚</li>
</ul>
<h3 id="stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜"><a href="#stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜" class="headerlink" title="stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜"></a>stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv" target="_blank" rel="noopener">lc188</a>, æˆ‘ä»¬å…ˆçœ‹è‚¡ç¥¨çš„ç¬¬4ä¸ªé¢˜, è¿™ä¸ªé¢˜æœ€åä»£è¡¨æ€§, ç­”æ¡ˆä¹Ÿæœ€é€šç”¨.</p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ prices ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´  prices[i] æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ k ç¬”äº¤æ˜“ã€‚æ³¨æ„: ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚<strong>é¢˜ä¸­äº¤æ˜“çš„å«æ„æ˜¯ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡, æ‰ç§°ä¸ºä¸€æ¬¡äº¤æ˜“</strong><br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šk = 2, prices = [2,4,1]<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šåœ¨ç¬¬ 1 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 4) çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-2 = 2 ã€‚<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šk = 2, prices = [3,2,6,5,0,3]<br>è¾“å‡ºï¼š7<br>è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤© (è‚¡ç¥¨ä»·æ ¼ = 6) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-2 = 4 ã€‚<br>     éšåï¼Œåœ¨ç¬¬ 5 å¤© (è‚¡ç¥¨ä»·æ ¼ = 0) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤© (è‚¡ç¥¨ä»·æ ¼ = 3) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 ã€‚</p>
<ul>
<li><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/solution/188-mai-mai-gu-piao-de-zui-jia-shi-ji-iv-el1s-by-e/" target="_blank" rel="noopener">å‚è€ƒ1</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484508&amp;idx=1&amp;sn=42cae6e7c5ccab1f156a83ea65b00b78&amp;chksm=9bd7fa54aca07342d12ae149dac3dfa76dc42bcdd55df2c71e78f92dedbbcbdb36dec56ac13b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">å‚è€ƒ2</a></li>
</ul>
<p>æ³¨æ„: é¢˜ä¸­äº¤æ˜“çš„å«æ„æ˜¯ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡, æ‰ç§°ä¸ºä¸€æ¬¡äº¤æ˜“<br><strong>ä½†æˆ‘ä»¬è§£é¢˜çš„æ—¶å€™å¯ä»¥æŠŠä¹°å…¥å°±å½“æˆä¸€æ¬¡äº¤æ˜“ä¼šå®¹æ˜“å†™ä»£ç ä¸€äº›,</strong><br>å½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰dpä¸ºä¹°äº†å†å–æ‰ç®—ä¸€æ¬¡äº¤æ˜“, åªæ˜¯ä»£ç éš¾å†™ä¸€äº›, è€Œä¸”åˆå§‹åŒ–çŠ¶æ€éš¾å¼„ä¸€äº›,</p>
<ul>
<li>dp[i][k][0]ä¸ºå‰iå¤©æœ€å¤šå¯ä»¥å®Œæˆkæ¬¡äº¤æ˜“æ—¶æ‰‹ä¸­ æ— è‚¡ç¥¨æ—¶ çš„æœ€å¤§åˆ©æ¶¦</li>
<li>dp[i][k][1]ä¸ºå‰iå¤©æœ€å¤šå¯ä»¥å®Œæˆkæ¬¡äº¤æ˜“æ—¶æ‰‹ä¸­ æœ‰è‚¡ç¥¨æ—¶ çš„æœ€å¤§åˆ©æ¶¦</li>
</ul>
<p>æˆ‘ä»¬å®šä¹‰dpä¹°å…¥å°±ç®—ä¸€æ¬¡äº¤æ˜“, åˆ™:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‰iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ï¼Œi-1å¤©t-1æ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ - iå¤©ä¹°å…¥ä»·æ ¼)</span></span><br><span class="line">dp[i][t][<span class="number">1</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][t][<span class="number">1</span>],</span><br><span class="line">    <span class="comment"># ä¸ºä»€ä¹ˆæ˜¯`prices[i-1]`å‘¢? å› ä¸ºè¿™é‡Œçš„iæ˜¯ç¬¬iå¤©,</span></span><br><span class="line">    <span class="comment"># æ ¹æ®æˆ‘ä»¬çš„dpå®šä¹‰, </span></span><br><span class="line">    <span class="comment"># å®é™…ä¸Šç¬¬i=1å¤©å¯¹åº”çš„æ˜¯æ•°ç»„ä¸­çš„prices[0]çš„ä»·æ ¼</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, è¿™é‡Œä¹°å…¥ä¸€å¼ è‚¡ç¥¨, å¾—å‡å»`prices[i-1]`</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰`t-1`, å¥½ç†è§£ä¸€äº›</span></span><br><span class="line">    dp[i<span class="number">-1</span>][t<span class="number">-1</span>][<span class="number">0</span>] - prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br><span class="line"><span class="comment"># å‰iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸Šä¸æŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ï¼Œi-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ + iå¤©å–å‡ºä»·æ ¼prices)</span></span><br><span class="line">dp[i][t][<span class="number">0</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][t][<span class="number">0</span>],</span><br><span class="line">    dp[i<span class="number">-1</span>][t][<span class="number">1</span>] + prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>dp[0][t][0] å‰0å¤©(å³è¿˜æ²¡å¼€å§‹ä¹‹æ„)tæ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸Šä¸æŒæœ‰ï¼šå¯èƒ½çš„ 0</li>
<li>dp[0][t][1] å‰0å¤©(å³è¿˜æ²¡å¼€å§‹ä¹‹æ„)tæ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸ŠæŒæœ‰ï¼šä¸å¯èƒ½ï¼ˆå‰0å¤©(å³è¿˜æ²¡å¼€å§‹ä¹‹æ„)æ²¡æœ‰è‚¡ç¥¨ï¼Œæ‰€ä»¥æ— æ³•ä¹°å…¥æŒæœ‰;æŒæœ‰è¯´æ˜è‡³å°‘è¿›è¡Œäº†ä¸€æ¬¡ä¹°å…¥ï¼Œä¹°å…¥å°±äº¤æ˜“ï¼Œå› æ­¤è¿™é‡Œä¸å¯èƒ½ã€ä¸å¯èƒ½æ„æ€å°±æ˜¯ä¸èƒ½ä»è¿™é‡Œè½¬ç§»ã€‘</li>
<li>dp[i][0][0] å‰iå¤©0æ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸Šä¸æŒæœ‰ï¼š0</li>
<li>dp[i][0][1] å‰iå¤©0æ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸ŠæŒæœ‰ï¼šä¸å¯èƒ½ï¼ˆä¸äº¤æ˜“æ‰‹ä¸Šä¸å¯èƒ½æŒæœ‰ï¼‰</li>
</ul>
<p>æ³¨æ„çœ‹ä¸‹æ–¹ä»£ç çš„æ³¨é‡Š:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_stock</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stock4_maxProfit</span><span class="params">(self, k, prices)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :type prices: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> prices <span class="keyword">or</span> <span class="keyword">not</span> k:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        n = len(prices)</span><br><span class="line">        <span class="comment"># æ³¨æ„: é¢˜ä¸­äº¤æ˜“çš„å«æ„æ˜¯ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡, æ‰ç§°ä¸ºä¸€æ¬¡äº¤æ˜“</span></span><br><span class="line">        <span class="comment"># ä½†æˆ‘ä»¬è§£é¢˜çš„æ—¶å€™å¯ä»¥æŠŠä¹°å…¥å°±å½“æˆä¸€æ¬¡äº¤æ˜“ä¼šå®¹æ˜“å†™ä»£ç ä¸€äº›,</span></span><br><span class="line">        <span class="comment"># å½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰dpä¸ºä¹°äº†å†å–æ‰ç®—ä¸€æ¬¡äº¤æ˜“, åªæ˜¯ä»£ç éš¾å†™ä¸€äº›, è€Œä¸”</span></span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–çŠ¶æ€éš¾å¼„ä¸€äº›</span></span><br><span class="line">        <span class="comment"># dp[i][k][0]ä¸ºå‰iå¤©æœ€å¤šå¯ä»¥å®Œæˆkæ¬¡äº¤æ˜“æ—¶æ‰‹ä¸­ æ— è‚¡ç¥¨æ—¶ çš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class="line">        <span class="comment"># dp[i][k][1]ä¸ºå‰iå¤©æœ€å¤šå¯ä»¥å®Œæˆkæ¬¡äº¤æ˜“æ—¶æ‰‹ä¸­ æœ‰è‚¡ç¥¨æ—¶ çš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class="line">        <span class="comment"># ä¸ºä»€ä¹ˆä¸‹æ–¹è¦åˆå§‹åŒ–ä¸º`n+1`å‘¢? å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯ç¬¬nå¤©æœ€å¤šå¯ä»¥å®Œæˆkæ¬¡äº¤æ˜“æ—¶æ‰‹ä¸­æ— è‚¡ç¥¨æ—¶çš„æœ€å¤§åˆ©æ¶¦,</span></span><br><span class="line">        <span class="comment"># è€Œä¸æ˜¯ç¬¬n-1å¤©, æ³¨æ„æˆ‘ä»¬ä¸‹æ–¹è¯´çš„ç¬¬0å¤©å¹¶ä¸æ˜¯æ•°ç»„æ„ä¹‰çš„ç¬¬1å¤©.</span></span><br><span class="line">        <span class="comment"># è¯»è€…å¯èƒ½é—®ä¸ºä»€ä¹ˆä¸æ˜¯ dp[n - 1][K][1]ï¼Ÿ</span></span><br><span class="line">        <span class="comment"># å› ä¸º [1] ä»£è¡¨æ‰‹ä¸Šè¿˜æŒæœ‰è‚¡ç¥¨ï¼Œ[0] è¡¨ç¤ºæ‰‹ä¸Šçš„è‚¡ç¥¨å·²ç»å–å‡ºå»äº†ï¼Œ</span></span><br><span class="line">        <span class="comment"># å¾ˆæ˜¾ç„¶åè€…å¾—åˆ°çš„åˆ©æ¶¦ä¸€å®šå¤§äºå‰è€…ã€‚</span></span><br><span class="line">        dp = [ [ [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>) ]  <span class="keyword">for</span> _ <span class="keyword">in</span> range(k+<span class="number">1</span>) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>) ]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n+<span class="number">1</span>):</span><br><span class="line">            dp[j][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>  <span class="comment"># å‰jå¤©0æ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸Šä¸æŒæœ‰, æ•…ä¸º0</span></span><br><span class="line">            <span class="comment"># å‰jå¤©0æ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸ŠæŒæœ‰è‚¡ç¥¨, è¿™æ˜¯ä¸å¯èƒ½çš„, </span></span><br><span class="line">            <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, 0æ¬¡äº¤æ˜“éƒ½æ²¡ä¹°å…¥è‚¡ç¥¨, ä¸å¯èƒ½æŒæœ‰è‚¡ç¥¨</span></span><br><span class="line">            <span class="comment"># æ‰€ä»¥æˆ‘ä»¬ç”¨è´Ÿæ— ç©·æ¥è¡¨ç¤º, å› ä¸ºä¹‹åæˆ‘ä»¬ç”¨maxæ¥å–å€¼,</span></span><br><span class="line">            <span class="comment"># å¦‚æœè¿™é‡Œä¸è¿™æ ·åˆå§‹åŒ–ï¼Œè€Œæ˜¯åˆå§‹åŒ–ä¸º0ï¼Œé‚£ä¹ˆæˆ‘tæ¬¡äº¤æ˜“çš„æ— æ³•å»åšmax,</span></span><br><span class="line">            <span class="comment"># maxå®ƒä¼šå–è¿™ä¸ª0,è€Œä¸ä¼šå»å–é‚£äº›è´Ÿå€¼</span></span><br><span class="line">            dp[j][<span class="number">0</span>][<span class="number">1</span>] = float(<span class="string">"-inf"</span>)</span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> range(k+<span class="number">1</span>):</span><br><span class="line">                <span class="comment"># å‰0å¤©tæ¬¡äº¤æ˜“ï¼Œæ‰‹ä¸ŠæŒæœ‰è‚¡ç¥¨, è¿™é‡Œæ‰€è¯´çš„å‰0å¤©ä¸æ˜¯æ•°ç»„çš„ç¬¬1å¤©,</span></span><br><span class="line">                <span class="comment"># å‰0å¤©æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„æ—¥å­, æ‰€ä»¥è¿™æ˜¯ä¸å¯èƒ½çš„, </span></span><br><span class="line">                <span class="comment"># æ‰€ä»¥æˆ‘ä»¬ç”¨è´Ÿæ— ç©·æ¥è¡¨ç¤º, å› ä¸ºä¹‹åæˆ‘ä»¬ç”¨maxæ¥å–å€¼,</span></span><br><span class="line">                <span class="comment"># å¦‚æœè¿™é‡Œä¸è¿™æ ·åˆå§‹åŒ–ï¼Œè€Œæ˜¯åˆå§‹åŒ–ä¸º0ï¼Œé‚£ä¹ˆæˆ‘tæ¬¡äº¤æ˜“çš„æ— æ³•å»åšmax,</span></span><br><span class="line">                <span class="comment"># maxå®ƒä¼šå–è¿™ä¸ª0,è€Œä¸ä¼šå»å–é‚£äº›è´Ÿå€¼</span></span><br><span class="line">                dp[<span class="number">0</span>][t][<span class="number">1</span>] = float(<span class="string">"-inf"</span>)</span><br><span class="line">                dp[<span class="number">0</span>][t][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, k+<span class="number">1</span>):</span><br><span class="line">                <span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ï¼Œi-1å¤©t-1æ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ - iå¤©ä¹°å…¥ä»·æ ¼)</span></span><br><span class="line">                dp[i][t][<span class="number">1</span>] = max(</span><br><span class="line">                    dp[i<span class="number">-1</span>][t][<span class="number">1</span>],</span><br><span class="line">                    <span class="comment"># ä¸ºä»€ä¹ˆæ˜¯`prices[i-1]`å‘¢? å› ä¸ºè¿™é‡Œçš„iæ˜¯ç¬¬iå¤©,</span></span><br><span class="line">                    <span class="comment"># æ ¹æ®æˆ‘ä»¬çš„dpå®šä¹‰, </span></span><br><span class="line">                    <span class="comment"># å®é™…ä¸Šç¬¬i=1å¤©å¯¹åº”çš„æ˜¯æ•°ç»„ä¸­çš„prices[0]çš„ä»·æ ¼</span></span><br><span class="line">                    <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, è¿™é‡Œä¹°å…¥ä¸€å¼ è‚¡ç¥¨, å¾—å‡å»`prices[i-1]`</span></span><br><span class="line">                    <span class="comment"># æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰`t-1`, å¥½ç†è§£ä¸€äº›</span></span><br><span class="line">                    dp[i<span class="number">-1</span>][t<span class="number">-1</span>][<span class="number">0</span>] - prices[i<span class="number">-1</span>]</span><br><span class="line">                )</span><br><span class="line">                <span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸Šä¸æŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ï¼Œi-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ + iå¤©å–å‡ºä»·æ ¼prices)</span></span><br><span class="line">                dp[i][t][<span class="number">0</span>] = max(</span><br><span class="line">                    dp[i<span class="number">-1</span>][t][<span class="number">0</span>],</span><br><span class="line">                    dp[i<span class="number">-1</span>][t][<span class="number">1</span>] + prices[i<span class="number">-1</span>]</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[n][k][<span class="number">0</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="stock1"><a href="#stock1" class="headerlink" title="stock1"></a>stock1</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock" target="_blank" rel="noopener">lc121</a><br>k=1</p>
<p><strong>è§£æ³•</strong>: ç›´æ¥è°ƒç”¨<a href="#stock4">stock4</a>çš„ä»£ç , æŠŠkè®¾ç½®ä¸º1å³å¯</p>
<h3 id="stock2"><a href="#stock2" class="headerlink" title="stock2"></a>stock2</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/" target="_blank" rel="noopener">lc122</a><br>k=æ— ç©·å¤§</p>
<p><strong>è§£æ³•</strong>: å¦‚æœ k ä¸ºæ­£æ— ç©·ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸º k å’Œ k - 1 æ˜¯ä¸€æ ·çš„, kçš„çº¦æŸå·²ç»æ²¡æœ‰ä½œç”¨äº†ã€‚æ‰€ä»¥dpæ•°ç»„å¯ä»¥å»æ‰kè¿™ä¸ªç»´åº¦.<br><strong>å¿½ç•¥ä¸‹æ–¹æ³¨é‡Šä¸­çš„t</strong>, åˆ™:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ï¼Œi-1å¤©t-1æ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ - iå¤©ä¹°å…¥ä»·æ ¼)</span></span><br><span class="line">dp[i][<span class="number">1</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>],</span><br><span class="line">    <span class="comment"># ä¸ºä»€ä¹ˆæ˜¯`prices[i-1]`å‘¢? å› ä¸ºè¿™é‡Œçš„iæ˜¯ç¬¬iå¤©,</span></span><br><span class="line">    <span class="comment"># æ ¹æ®æˆ‘ä»¬çš„dpå®šä¹‰, </span></span><br><span class="line">    <span class="comment"># å®é™…ä¸Šç¬¬i=1å¤©å¯¹åº”çš„æ˜¯æ•°ç»„ä¸­çš„prices[0]çš„ä»·æ ¼</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, è¿™é‡Œä¹°å…¥ä¸€å¼ è‚¡ç¥¨, å¾—å‡å»`prices[i-1]`</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰`t-1`, å¥½ç†è§£ä¸€äº›</span></span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">0</span>] - prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸Šä¸æŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ï¼Œi-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ + iå¤©å–å‡ºä»·æ ¼prices)</span></span><br><span class="line">dp[i][<span class="number">0</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">0</span>],</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>] + prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="stock3"><a href="#stock3" class="headerlink" title="stock3"></a>stock3</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/" target="_blank" rel="noopener">lc123</a><br>k=2  </p>
<p><strong>è§£æ³•</strong>: ç›´æ¥è°ƒç”¨<a href="#stock4">stock4</a>çš„ä»£ç , æŠŠkè®¾ç½®ä¸º2å³å¯</p>
<h3 id="stock5"><a href="#stock5" class="headerlink" title="stock5"></a>stock5</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown" target="_blank" rel="noopener">lc714</a>  </p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ i å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚â€‹<br>è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:</p>
<ul>
<li>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚</li>
<li>å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚<br>ç¤ºä¾‹:<br>è¾“å…¥: [1,2,3,0,2]<br>è¾“å‡º: 3<br>è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]</li>
</ul>
<p>é¢˜ç›®ç‰¹ç‚¹:  </p>
<ul>
<li>å¯æ— é™æ¬¡äº¤æ˜“, åˆ™kè¿˜æ˜¯æ— ç©·å¤§, é‚£ä¹ˆå°±å¯ä»¥è®¤ä¸º k å’Œ k - 1 æ˜¯ä¸€æ ·çš„, kçš„çº¦æŸå·²ç»æ²¡æœ‰ä½œç”¨äº†ã€‚æ‰€ä»¥dpæ•°ç»„å¯ä»¥å»æ‰kè¿™ä¸ªç»´åº¦.</li>
<li>å› ä¸ºå†·å†»æœŸçš„å­˜åœ¨, ç¬¬iå¤©å¦‚æœæ‰‹ä¸Šæœ‰è‚¡ç¥¨è€Œä¸”é€‰æ‹©äº†è¦ä¹°è‚¡ç¥¨çš„æ—¶å€™åº”è¯¥æ˜¯ä»ç¬¬i-2å¤©å¼€å§‹çŠ¶æ€è½¬ç§», æ³¨æ„ä¸‹æ–¹ä»£ç ä¸­çš„<code>dp[i-2][0] - prices[i-1]</code></li>
</ul>
<p>åˆ™dpçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—æ”¹æ”¹(<strong>å¿½ç•¥ä¸‹æ–¹æ³¨é‡Šä¸­çš„t</strong>), å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ï¼Œi-2å¤©t-1æ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ - iå¤©ä¹°å…¥ä»·æ ¼)</span></span><br><span class="line">dp[i][<span class="number">1</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>],</span><br><span class="line">    <span class="comment"># ä¸ºä»€ä¹ˆæ˜¯`prices[i-2]`å‘¢? å› ä¸ºè¿™é‡Œçš„iæ˜¯ç¬¬iå¤©,</span></span><br><span class="line">    <span class="comment"># æ ¹æ®æˆ‘ä»¬çš„dpå®šä¹‰, </span></span><br><span class="line">    <span class="comment"># å®é™…ä¸Šç¬¬i=1å¤©å¯¹åº”çš„æ˜¯æ•°ç»„ä¸­çš„prices[0]çš„ä»·æ ¼</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, è¿™é‡Œä¹°å…¥ç¬¬iå¤©çš„ä¸€å¼ è‚¡ç¥¨, å¾—å‡å»`prices[i-1]`</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰`t-1`, å¥½ç†è§£ä¸€äº›</span></span><br><span class="line">    dp[i<span class="number">-2</span>][<span class="number">0</span>] - prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸Šä¸æŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ï¼Œi-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ + iå¤©å–å‡ºä»·æ ¼prices)</span></span><br><span class="line">dp[i][<span class="number">0</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">0</span>],</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>] + prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="stock6"><a href="#stock6" class="headerlink" title="stock6"></a>stock6</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/" target="_blank" rel="noopener">lc714</a><br>ä½ å¯ä»¥æ— é™æ¬¡åœ°å®Œæˆäº¤æ˜“ï¼Œä½†æ˜¯ä½ æ¯ç¬”äº¤æ˜“éƒ½éœ€è¦ä»˜æ‰‹ç»­è´¹ã€‚</p>
<p>é¢˜ç›®ç‰¹ç‚¹:  </p>
<ul>
<li>å¯æ— é™æ¬¡äº¤æ˜“, åˆ™kè¿˜æ˜¯æ— ç©·å¤§, é‚£ä¹ˆå°±å¯ä»¥è®¤ä¸º k å’Œ k - 1 æ˜¯ä¸€æ ·çš„, kçš„çº¦æŸå·²ç»æ²¡æœ‰ä½œç”¨äº†ã€‚æ‰€ä»¥dpæ•°ç»„å¯ä»¥å»æ‰kè¿™ä¸ªç»´åº¦.</li>
<li>æ‰‹ç»­è´¹çš„å­˜åœ¨, æ ¹æ®æˆ‘ä»¬dpçš„å®šä¹‰, æˆ‘ä»¬å®šä¹‰è´­ä¹°å³ä¸ºä¸€æ¬¡äº¤æ˜“, é‚£æˆ‘ä»¬å°±åœ¨æ¯æ¬¡è´­ä¹°çš„æ—¶å€™åŠ ä¸Šè¿™ä¸ªæ‰‹ç»­è´¹, åˆ™ç¬¬iå¤©å¦‚æœæ‰‹ä¸Šæœ‰è‚¡ç¥¨è€Œä¸”é€‰æ‹©äº†è¦ä¹°è‚¡ç¥¨çš„æ—¶å€™åº”è¯¥åŠ ä¸Šæ‰‹ç»­è´¹, æ³¨æ„ä¸‹æ–¹ä»£ç ä¸­çš„<code>dp[i-1][0] - prices[i-1] - fee</code></li>
</ul>
<p>åˆ™dpçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—æ”¹æ”¹(<strong>å¿½ç•¥ä¸‹æ–¹æ³¨é‡Šä¸­çš„t</strong>), å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸ŠæŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ï¼Œi-1å¤©t-1æ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ - iå¤©ä¹°å…¥ä»·æ ¼)</span></span><br><span class="line">dp[i][<span class="number">1</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>],</span><br><span class="line">    <span class="comment"># ä¸ºä»€ä¹ˆæ˜¯`prices[i-1]`å‘¢? å› ä¸ºè¿™é‡Œçš„iæ˜¯ç¬¬iå¤©,</span></span><br><span class="line">    <span class="comment"># æ ¹æ®æˆ‘ä»¬çš„dpå®šä¹‰, </span></span><br><span class="line">    <span class="comment"># å®é™…ä¸Šç¬¬i=1å¤©å¯¹åº”çš„æ˜¯æ•°ç»„ä¸­çš„prices[0]çš„ä»·æ ¼</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬dpå¯¹äº¤æ˜“çš„å®šä¹‰æ˜¯ä¹°å…¥å°±ç®—, è¿™é‡Œä¹°å…¥ä¸€å¼ è‚¡ç¥¨, å¾—å‡å»`prices[i-1]`</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰`t-1`, å¥½ç†è§£ä¸€äº›</span></span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">0</span>] - prices[i<span class="number">-1</span>] - fee</span><br><span class="line">)</span><br><span class="line"><span class="comment"># iå¤©tæ¬¡äº¤æ˜“ç°åœ¨æ‰‹ä¸Šä¸æŒæœ‰ = max(i-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸Šä¸æŒæœ‰ï¼Œi-1å¤©tæ¬¡äº¤æ˜“æ‰‹ä¸ŠæŒæœ‰ + iå¤©å–å‡ºä»·æ ¼prices)</span></span><br><span class="line">dp[i][<span class="number">0</span>] = max(</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">0</span>],</span><br><span class="line">    dp[i<span class="number">-1</span>][<span class="number">1</span>] + prices[i<span class="number">-1</span>]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h2 id="æ‰“å®¶åŠ«èˆç³»åˆ—"><a href="#æ‰“å®¶åŠ«èˆç³»åˆ—" class="headerlink" title="æ‰“å®¶åŠ«èˆç³»åˆ—"></a>æ‰“å®¶åŠ«èˆç³»åˆ—</h2><h3 id="rob1"><a href="#rob1" class="headerlink" title="rob1"></a>rob1</h3><p><a href="https://leetcode-cn.com/problems/path-sum-iii/" target="_blank" rel="noopener">leetcode198é¢˜</a><br>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p>
<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼š[1,2,3,1]<br>è¾“å‡ºï¼š4<br>è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚<br>     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</p>
<p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼š[2,7,9,3,1]<br>è¾“å‡ºï¼š12<br>è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚<br>     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚</p>
<p><a href="https://leetcode-cn.com/problems/house-robber/solution/da-jia-jie-she-by-leetcode-solution/" target="_blank" rel="noopener">å‚è€ƒ</a><br>é¢˜ç›®å¾ˆå®¹æ˜“ç†è§£ï¼Œè€Œä¸”åŠ¨æ€è§„åˆ’çš„ç‰¹å¾å¾ˆæ˜æ˜¾ã€‚æˆ‘ä»¬å‰æ–‡ åŠ¨æ€è§„åˆ’è¯¦è§£ åšè¿‡æ€»ç»“ï¼Œè§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜å°±æ˜¯æ‰¾ã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€ï¼Œä»…æ­¤è€Œå·²ã€‚<br>å‡æƒ³ä½ å°±æ˜¯è¿™ä¸ªä¸“ä¸šå¼ºç›—ï¼Œä»å·¦åˆ°å³èµ°è¿‡è¿™ä¸€æ’æˆ¿å­ï¼Œåœ¨æ¯é—´æˆ¿å­å‰éƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼šæŠ¢æˆ–è€…ä¸æŠ¢ã€‚</p>
<ul>
<li>å¦‚æœä½ æŠ¢äº†è¿™é—´æˆ¿å­ï¼Œé‚£ä¹ˆä½ è‚¯å®šä¸èƒ½æŠ¢ç›¸é‚»çš„ä¸‹ä¸€é—´æˆ¿å­äº†ï¼Œåªèƒ½ä»ä¸‹ä¸‹é—´æˆ¿å­å¼€å§‹åšé€‰æ‹©ã€‚</li>
<li>å¦‚æœä½ ä¸æŠ¢è¿™é—´æˆ¿å­ï¼Œé‚£ä¹ˆä½ å¯ä»¥èµ°åˆ°ä¸‹ä¸€é—´æˆ¿å­å‰ï¼Œç»§ç»­åšé€‰æ‹©ã€‚</li>
</ul>
<p>å½“ä½ èµ°è¿‡äº†æœ€åä¸€é—´æˆ¿å­åï¼Œä½ å°±æ²¡å¾—æŠ¢äº†ï¼Œèƒ½æŠ¢åˆ°çš„é’±æ˜¾ç„¶æ˜¯ 0ï¼ˆbase caseï¼‰ã€‚<br>ä»¥ä¸Šçš„é€»è¾‘å¾ˆç®€å•å§ï¼Œå…¶å®å·²ç»æ˜ç¡®äº†ã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€ï¼šä½ é¢å‰æˆ¿å­çš„ç´¢å¼•å°±æ˜¯çŠ¶æ€ï¼ŒæŠ¢å’Œä¸æŠ¢å°±æ˜¯é€‰æ‹©ã€‚<br>åœ¨ä¸¤ä¸ªé€‰é¡¹ä¸­é€‰æ‹©å·çªƒæ€»é‡‘é¢è¾ƒå¤§çš„é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å¯¹åº”çš„å·çªƒæ€»é‡‘é¢å³ä¸ºä»indexå¼€å§‹å·åˆ°æœ€åçš„æˆ¿å­èƒ½å·åˆ°çš„æœ€é«˜æ€»é‡‘é¢.<br><strong>ç”¨ <code>dp[i]</code> è¡¨ç¤ºä»indexå¼€å§‹å·åˆ°æœ€åçš„æˆ¿å­èƒ½å·åˆ°çš„æœ€é«˜æ€»é‡‘é¢</strong>ï¼Œé‚£ä¹ˆå°±æœ‰å¦‚ä¸‹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br><code>dp[i] = max( dp[i+2] + nums[i], dp[i+1] )</code><br>è¾¹ç•Œæ¡ä»¶ä¸ºï¼š</p>
<ul>
<li><code>dp[n-1] = nums[n-1]</code> , æœ€åä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒè¯¥æˆ¿å±‹ </li>
<li><code>dp[n-2] = max( nums[n-1], nums[n-2] )</code> ,  æœ€åä¸¤é—´æˆ¿å±‹ï¼Œé€‰æ‹©å…¶ä¸­é‡‘é¢è¾ƒé«˜çš„æˆ¿å±‹è¿›è¡Œå·çªƒ</li>
</ul>
<p>æœ€ç»ˆçš„ç­”æ¡ˆå³ä¸º <code>dp[nâˆ’1]</code>ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦<br>é€’å½’memoå†™æ³•:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rob1_dp_memo</span><span class="params">(self, nums_arr)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self._do_rob1_dp_memo(nums_arr, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_do_rob1_dp_memo</span><span class="params">(self, nums_arr, index)</span>:</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬å®šä¹‰æ­¤å‡½æ•°ä¸ºä»indexå¼€å§‹å·åˆ°æœ€åçš„æˆ¿å­èƒ½å·åˆ°çš„æœ€é«˜æ€»é‡‘é¢</span></span><br><span class="line">    <span class="keyword">if</span> index &gt;= len(nums_arr):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> index <span class="keyword">in</span> self._memo:</span><br><span class="line">        <span class="keyword">return</span> self._memo[index]</span><br><span class="line">    res = max(</span><br><span class="line">        nums_arr[index] + self._do_rob1_dp_memo(nums_arr, index+<span class="number">2</span>),</span><br><span class="line">        self._do_rob1_dp_memo(nums_arr, index+<span class="number">1</span>),</span><br><span class="line">    )</span><br><span class="line">    self._memo[index] = res</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></p>
<p>è¿­ä»£å†™æ³•:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rob1_dp</span><span class="params">(self, nums_arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> nums_arr:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    n = len(nums_arr)</span><br><span class="line">    dp = [<span class="number">0</span>] * n</span><br><span class="line">    dp[n<span class="number">-1</span>] = nums_arr[n<span class="number">-1</span>]</span><br><span class="line">    dp[n<span class="number">-2</span>] = max(nums_arr[n<span class="number">-1</span>], nums_arr[n<span class="number">-2</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-3</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        dp[i] = max(dp[i+<span class="number">1</span>], nums_arr[i]+dp[i+<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—"><a href="#rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—" class="headerlink" title="rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—"></a>rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—</h3><p>è¿˜æ˜¯ç”¨åŠ¨è§„æ€è·¯<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house_rob_detail_seq</span><span class="params">(self, nums_arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> nums_arr:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    n = len(nums_arr)</span><br><span class="line">    <span class="comment"># æ ¹æ®ä¸Šè¿°æ€è·¯, æˆ‘ä»¬ç”¨ dp[i] è¡¨ç¤ºä»ç¬¬ i é—´æˆ¿å±‹å·åˆ°æœ€åä¸€é—´èƒ½å·çªƒåˆ°çš„æœ€</span></span><br><span class="line">    <span class="comment"># é«˜æ€»é‡‘é¢çš„æˆ¿å­æ•°ç»„å­åºåˆ—</span></span><br><span class="line">    dp = [ [] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(n) ]</span><br><span class="line">    dp[n<span class="number">-1</span>] = [nums_arr[n<span class="number">-1</span>]]</span><br><span class="line">    dp[n<span class="number">-2</span>] = [max(nums_arr[n<span class="number">-1</span>], nums_arr[n<span class="number">-2</span>])]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-3</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> (nums_arr[i] + sum(dp[i+<span class="number">2</span>])) &gt; sum(dp[i+<span class="number">1</span>]):</span><br><span class="line">            dp[i] = [nums_arr[i]] + dp[i+<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dp[i] = dp[i+<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="rob2"><a href="#rob2" class="headerlink" title="rob2"></a>rob2</h3><p><a href="https://leetcode-cn.com/problems/house-robber-ii/" target="_blank" rel="noopener">lc213</a><br>è¿™é“é¢˜ç›®å’Œç¬¬ä¸€é“æè¿°åŸºæœ¬ä¸€æ ·ï¼Œå¼ºç›—ä¾ç„¶ä¸èƒ½æŠ¢åŠ«ç›¸é‚»çš„æˆ¿å­ï¼Œè¾“å…¥ä¾ç„¶æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯å‘Šè¯‰ä½ è¿™äº›æˆ¿å­ä¸æ˜¯ä¸€æ’ï¼Œè€Œæ˜¯å›´æˆäº†ä¸€ä¸ªåœˆã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨ç¬¬ä¸€é—´æˆ¿å­å’Œæœ€åä¸€é—´æˆ¿å­ä¹Ÿç›¸å½“äºæ˜¯ç›¸é‚»çš„ï¼Œä¸èƒ½åŒæ—¶æŠ¢ã€‚æ¯”å¦‚è¯´è¾“å…¥æ•°ç»„nums=[2,3,2]ï¼Œç®—æ³•è¿”å›çš„ç»“æœåº”è¯¥æ˜¯ 3 è€Œä¸æ˜¯ 4ï¼Œå› ä¸ºå¼€å¤´å’Œç»“å°¾ä¸èƒ½åŒæ—¶è¢«æŠ¢ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/rob2_1.png" alt></p>
<p>é‚£å°±ç®€å•äº†å•Šï¼Œè¿™ä¸‰ç§æƒ…å†µï¼Œå“ªç§çš„ç»“æœæœ€å¤§ï¼Œå°±æ˜¯æœ€ç»ˆç­”æ¡ˆå‘—ï¼ä¸è¿‡ï¼Œå…¶å®æˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒä¸‰ç§æƒ…å†µï¼Œåªè¦æ¯”è¾ƒæƒ…å†µäºŒå’Œæƒ…å†µä¸‰å°±è¡Œäº†ï¼Œå› ä¸ºè¿™ä¸¤ç§æƒ…å†µå¯¹äºæˆ¿å­çš„é€‰æ‹©ä½™åœ°æ¯”æƒ…å†µä¸€å¤§å‘€ï¼Œæˆ¿å­é‡Œçš„é’±æ•°éƒ½æ˜¯éè´Ÿæ•°ï¼Œæ‰€ä»¥é€‰æ‹©ä½™åœ°å¤§ï¼Œæœ€ä¼˜å†³ç­–ç»“æœè‚¯å®šä¸ä¼šå°ã€‚<br>æ‰€ä»¥åªéœ€å¯¹ä¹‹å‰çš„è§£æ³•è°ƒç”¨ä¸€ä¸‹æ±‚ä¸ªmaxå€¼å³å¯ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rob2_dp</span><span class="params">(nums_arr)</span>:</span></span><br><span class="line">    n = len(nums_arr)</span><br><span class="line">    max(rob1_dp(nums_arr[<span class="number">0</span>:n<span class="number">-1</span>]), rob1_dp(nums_arr[<span class="number">1</span>:n])</span><br></pre></td></tr></table></figure></p>
<h3 id="rob3"><a href="#rob3" class="headerlink" title="rob3"></a>rob3</h3><p><a href="https://leetcode-cn.com/problems/house-robber-iii/" target="_blank" rel="noopener">lc337</a><br>ç¬¬ä¸‰é¢˜çš„æˆ¿å­åœ¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸Šï¼Œç›¸è¿çš„ä¸¤ä¸ªæˆ¿å­ä¸èƒ½åŒæ—¶è¢«æŠ¢åŠ«ï¼š<br>ç¤ºä¾‹ 1:<br>è¾“å…¥: [3,2,3,null,3,null,1]<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">2   3</span><br><span class="line"> \   \ </span><br><span class="line">  3   1</span><br></pre></td></tr></table></figure></p>
<p>è¾“å‡º: 7<br>è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: [3,4,5,1,3,null,1]<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Â     3</span><br><span class="line">   / \</span><br><span class="line">  4   5</span><br><span class="line"> / \   \ </span><br><span class="line">1   3   1</span><br></pre></td></tr></table></figure></p>
<p>è¾“å‡º: 9<br>è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9.</p>
<p>æ•´ä½“çš„æ€è·¯å®Œå…¨æ²¡å˜ï¼Œè¿˜æ˜¯åšæŠ¢æˆ–è€…ä¸æŠ¢çš„é€‰æ‹©ï¼Œå–æ”¶ç›Šè¾ƒå¤§çš„é€‰æ‹©ã€‚ç”šè‡³æˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‰è¿™ä¸ªå¥—è·¯å†™å‡ºé€’å½’å¼çš„dpä»£ç ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rob3_dp</span><span class="params">(self, bt)</span>:</span></span><br><span class="line">    <span class="comment"># æ­¤å‡½æ•°æ±‚å‡ºbtä¸ºæ ¹èŠ‚ç‚¹çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> bt:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> bt <span class="keyword">in</span> memo:</span><br><span class="line">        <span class="keyword">return</span> memo[bt]</span><br><span class="line">    <span class="comment"># æŠ¢, ç„¶åå»ä¸‹ä¸‹å®¶</span></span><br><span class="line">    do_it = bt.val + \</span><br><span class="line">        (rob3_dp(bt.left.left) + rob3_dp(bt.left.right) <span class="keyword">if</span> bt.left <span class="keyword">else</span> <span class="number">0</span>) + \</span><br><span class="line">        (rob3_dp(bt.right.left) + rob3_dp(bt.right.left) <span class="keyword">if</span> bt.right <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">    <span class="comment"># ä¸æŠ¢, ç„¶åå»ä¸‹å®¶</span></span><br><span class="line">    not_do_it = rob3_dp(bt.left) + rob3_dp(bt.right)</span><br><span class="line">    res = max(do_it, not_do_it)</span><br><span class="line">    memo[bt] = res</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></p>
<h2 id="LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—"><a href="#LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—" class="headerlink" title="LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—"></a>LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—</h2><p><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/" target="_blank" rel="noopener">leetcode300é¢˜</a><br>LISå³longest-increasing-subsequence<br>ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚<br>ç¤ºä¾‹:<br>è¾“å…¥: [10,9,2,5,3,7,101,18]<br>è¾“å‡º: 4<br>è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚<br>è¯´æ˜:<br>å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚<br>ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(n2) ã€‚<br>è¿›é˜¶: ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(n log n) å—?</p>
<p><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/solution/zui-chang-shang-sheng-zi-xu-lie-by-leetcode-soluti/" target="_blank" rel="noopener">å‚è€ƒ</a><br>æˆ‘ä»¬å®šä¹‰ <code>dp[i]</code> ä¸ºé€‰å–åˆ°ç¬¬iä¸ªæ•°å­—çš„æ—¶å€™çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦, <strong>æ³¨æ„è¿™é‡Œçš„å®šä¹‰, ç¬¬iä¸ªæ•°å­—æ˜¯ä¸€å®šè¦é€‰å–çš„</strong><br>åˆ™æˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: <code>dp[i] = max(dp[j]) + 1 , å…¶ä¸­ 0 &lt;= j &lt; i ä¸” nums[j] &lt; nums[i]</code></p>
<p>å³è€ƒè™‘å¾€ dp[0â€¦iâˆ’1] ä¸­æœ€é•¿çš„ä¸Šå‡å­åºåˆ—åé¢å†åŠ ä¸€ä¸ª nums[i]ã€‚ç”±äº dp[j]dp[j] ä»£è¡¨ nums[0â€¦j] ä¸­ä»¥ nums[j] ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œæ‰€ä»¥å¦‚æœèƒ½ä» dp[j]dp[j] è¿™ä¸ªçŠ¶æ€è½¬ç§»è¿‡æ¥ï¼Œé‚£ä¹ˆ nums[i] å¿…ç„¶è¦å¤§äº nums[j]ï¼Œæ‰èƒ½å°† nums[i] æ”¾åœ¨ nums[j] åé¢ä»¥å½¢æˆæ›´é•¿çš„ä¸Šå‡å­åºåˆ—ã€‚<br>æœ€åï¼Œæ•´ä¸ªæ•°ç»„çš„æœ€é•¿ä¸Šå‡å­åºåˆ—å³æ‰€æœ‰ dp[i]dp[i] ä¸­çš„æœ€å¤§å€¼ã€‚<br>LIS =max(dp[i]), å…¶ä¸­ 0 â‰¤ i &lt; n<br>ä¸‹å›¾æ˜¾ç¤ºäº†è¯¥æ–¹æ³•ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/lis_1.png" alt title="ä¸€ä¸ªä¾‹å­"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/lis_2.png" alt title="å¦ä¸€ä¸ªä¾‹å­"></p>
<p>ç¿»è¯‘æˆä»£ç å°±æ˜¯:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_LIS</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å®šä¹‰ `dp[i]` ä¸ºé€‰å–åˆ°ç¬¬iä¸ªæ•°å­—çš„æ—¶å€™çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦,</span></span><br><span class="line">        <span class="comment"># æ³¨æ„è¿™é‡Œçš„å®šä¹‰, ç¬¬iä¸ªæ•°å­—æ˜¯ä¸€å®šè¦é€‰å–çš„.</span></span><br><span class="line">        dp = [<span class="number">1</span>] * n  <span class="comment"># å› ä¸ºè‡ªå·±æœ¬èº«å°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º1çš„ä¸Šå‡å­åºåˆ—</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">0</span>, i):</span><br><span class="line">                <span class="comment"># åˆ™æˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: </span></span><br><span class="line">                <span class="comment"># `dp[i] = max(dp[j]) + 1 , å…¶ä¸­ 0 &lt;= j &lt; i ä¸” nums[j] &lt; nums[i]`</span></span><br><span class="line">                <span class="keyword">if</span> nums[j] &lt; nums[i]:</span><br><span class="line">                    dp[i] = max(dp[i], dp[j] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> max(dp)</span><br></pre></td></tr></table></figure></p>
<h2 id="LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨"><a href="#LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨" class="headerlink" title="LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨"></a>LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨</h2><p><a href="https://leetcode-cn.com/problems/longest-increasing-path-in-a-matrix" target="_blank" rel="noopener">lc329, hard</a><br>ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚<br>ç¤ºä¾‹ 1:<br>è¾“å…¥:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nums = </span><br><span class="line">[</span><br><span class="line">  [9,9,4],</span><br><span class="line">  [6,6,8],</span><br><span class="line">  [2,1,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>è¾“å‡º: 4<br>è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„ä¸º <code>[1, 2, 6, 9]</code>ã€‚<br>ç¤ºä¾‹ 2:<br>è¾“å…¥:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nums = </span><br><span class="line">[</span><br><span class="line">  [3,4,5],</span><br><span class="line">  [3,2,6],</span><br><span class="line">  [2,2,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>è¾“å‡º: 4<br>è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„æ˜¯ <code>[3, 4, 5, 6]</code>ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚</p>
<p>ç”±<a href="#lc300-lisé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—">lc300-lisé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—</a>, æˆ‘ä»¬å¾ˆå®¹æ˜“å¾—å‡º</p>
<ul>
<li>çŠ¶æ€å®šä¹‰<code>dp[i][j]</code> ä¸ºé€‰ä¸­ <code>matrix[i][j]</code> çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦, æ³¨æ„è¿™é‡Œçš„ <code>matrix[i][j]</code>æ˜¯ä¸€å®šè¦é€‰ä¸­çš„</li>
<li><code>dp[i][j] = 1</code>, éƒ½åˆå§‹åŒ–ä¸º1, å› ä¸ºæ ¹æ®çŠ¶æ€å®šä¹‰, å³ä½¿ç›¸é‚»ç»“ç‚¹éƒ½å°äºè‡ªå·±, é‚£ä¹Ÿè‡³å°‘ä¸º1</li>
<li>æ ¹æ®å½“å‰çš„å…ƒç´ å’Œç›¸é‚»ä¸Šä¸‹å·¦å³çš„å…ƒç´ æ¯”è¾ƒ, é€‰å‡ºæœ€å¤§å€¼å†åŠ 1, åˆ™ä¸ºå½“å‰çš„dp, æ•…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dp[i][j] = <span class="number">1</span> + max(</span><br><span class="line">    dp[i<span class="number">-1</span>][j] <span class="keyword">if</span> i<span class="number">-1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> matrix[i<span class="number">-1</span>][j] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># ä¸Š</span></span><br><span class="line">    dp[i][j<span class="number">-1</span>] <span class="keyword">if</span> j<span class="number">-1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> matrix[i][j<span class="number">-1</span>] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># å·¦</span></span><br><span class="line">    dp[i+<span class="number">1</span>][j] <span class="keyword">if</span> i+<span class="number">1</span> &lt;= m<span class="number">-1</span> <span class="keyword">and</span> matrix[i+<span class="number">1</span>][j] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># ä¸‹</span></span><br><span class="line">    dp[i][j+<span class="number">1</span>] <span class="keyword">if</span> j+<span class="number">1</span> &lt;= n<span class="number">-1</span> <span class="keyword">and</span> matrix[i][j+<span class="number">1</span>] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>  <span class="comment"># å³</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿™ä¸ªé¢˜ç›®<strong>å¦‚æœæ²¡æœ‰çœŸæ­£ç†è§£é€’æ¨, å¾ˆå®¹æ˜“å†™é”™: ä»¥ä¸ºç›´æ¥æ‹¿ç€matrixå°±ä¸¤é‡forå¾ªç¯éå†å°±å®Œäº†.</strong><br><strong>è¿™æ ·å†™æ˜¯ä¸å¯¹çš„, å› ä¸ºè¦æ±‚çš„æ˜¯é€’å¢è·¯å¾„, æ‰€ä»¥æˆ‘ä»¬å¾—å…ˆæ ¹æ®matrixä¸­æ¯ä¸ªå…ƒç´ å€¼çš„å¤§å°æŒ‰ç…§ä»å°åˆ°å¤§æ’åº</strong>,<br>ç„¶åä»æœ€å°å€¼çš„å…ƒç´ å¼€å§‹éå†ä¸€æ­¥æ­¥ç”±å°åˆ°å¤§é€’æ¨åˆ°æœ€å¤§ä¸€ä¸ªç‚¹,<br>è¿™æ ·æ‰ç®—æ˜¯è€ƒè™‘å®Œå…¨äº†, è¿™æ ·æ‰æ˜¯ä»æœ€å°ä¿¡æ¯é‡çš„çŠ¶æ€ä¸€ç‚¹ä¸€ç‚¹è½¬ç§»é€’æ¨åˆ°å¤§çš„çŠ¶æ€çš„åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹.</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">longestIncreasingPath</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type matrix: List[List[int]]</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> matrix:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    m = len(matrix)</span><br><span class="line">    n = len(matrix[<span class="number">0</span>])</span><br><span class="line">    <span class="comment"># * çŠ¶æ€å®šä¹‰`dp[i][j]` ä¸ºé€‰ä¸­ `matrix[i][j]` çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦, æ³¨æ„è¿™é‡Œçš„ `matrix[i][j]`æ˜¯ä¸€å®šè¦é€‰ä¸­çš„</span></span><br><span class="line">    <span class="comment"># * `dp[i][j] = 1`, éƒ½åˆå§‹åŒ–ä¸º1, å› ä¸ºæ ¹æ®çŠ¶æ€å®šä¹‰, å³ä½¿ç›¸é‚»ç»“ç‚¹éƒ½å°äºè‡ªå·±, é‚£ä¹Ÿè‡³å°‘ä¸º1</span></span><br><span class="line">    dp = [ [ <span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(m) ]</span><br><span class="line">    points_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            points_list.append([ matrix[i][j], i, j ])</span><br><span class="line">    <span class="comment"># è¿™ä¸ªé¢˜ç›®**å¦‚æœæ²¡æœ‰çœŸæ­£ç†è§£é€’æ¨, å¾ˆå®¹æ˜“å†™é”™: ä»¥ä¸ºç›´æ¥æ‹¿ç€matrixå°±ä¸¤é‡forå¾ªç¯éå†å°±å®Œäº†.**  </span></span><br><span class="line">    <span class="comment"># **è¿™æ ·å†™æ˜¯ä¸å¯¹çš„, å› ä¸ºè¦æ±‚çš„æ˜¯é€’å¢è·¯å¾„, æ‰€ä»¥æˆ‘ä»¬å¾—å…ˆæ ¹æ®matrixä¸­æ¯ä¸ªå…ƒç´ å€¼çš„å¤§å°æŒ‰ç…§ä»å°åˆ°å¤§æ’åº**,   </span></span><br><span class="line">    <span class="comment"># ç„¶åä»æœ€å°å€¼çš„å…ƒç´ å¼€å§‹éå†ä¸€æ­¥æ­¥ç”±å°åˆ°å¤§é€’æ¨åˆ°æœ€å¤§ä¸€ä¸ªç‚¹,  </span></span><br><span class="line">    <span class="comment"># è¿™æ ·æ‰ç®—æ˜¯è€ƒè™‘å®Œå…¨äº†, è¿™æ ·æ‰æ˜¯ä»æœ€å°ä¿¡æ¯é‡çš„çŠ¶æ€ä¸€ç‚¹ä¸€ç‚¹è½¬ç§»é€’æ¨åˆ°å¤§çš„çŠ¶æ€çš„åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹.</span></span><br><span class="line">    sorted_points_list = sorted(points_list, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> val, i, j <span class="keyword">in</span> sorted_points_list:</span><br><span class="line">        dp[i][j] = <span class="number">1</span> + max(</span><br><span class="line">            dp[i<span class="number">-1</span>][j] <span class="keyword">if</span> i<span class="number">-1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> matrix[i<span class="number">-1</span>][j] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># ä¸Š</span></span><br><span class="line">            dp[i][j<span class="number">-1</span>] <span class="keyword">if</span> j<span class="number">-1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> matrix[i][j<span class="number">-1</span>] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># å·¦</span></span><br><span class="line">            dp[i+<span class="number">1</span>][j] <span class="keyword">if</span> i+<span class="number">1</span> &lt;= m<span class="number">-1</span> <span class="keyword">and</span> matrix[i+<span class="number">1</span>][j] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>,  <span class="comment"># ä¸‹</span></span><br><span class="line">            dp[i][j+<span class="number">1</span>] <span class="keyword">if</span> j+<span class="number">1</span> &lt;= n<span class="number">-1</span> <span class="keyword">and</span> matrix[i][j+<span class="number">1</span>] &lt; matrix[i][j] <span class="keyword">else</span> <span class="number">0</span>  <span class="comment"># å³</span></span><br><span class="line">        )</span><br><span class="line">    max_path_len = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> dp[i][j] &gt; max_path_len:</span><br><span class="line">                max_path_len = dp[i][j]</span><br><span class="line">    <span class="keyword">return</span> max_path_len</span><br></pre></td></tr></table></figure></p>
<h2 id="LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜"><a href="#LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜" class="headerlink" title="LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜"></a>LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜</h2><p><a href="https://leetcode-cn.com/problems/longest-common-subsequence/" target="_blank" rel="noopener">lc1143</a><br>LCSå³Longest-Common-Sequence<br>ç»™å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²S1å’ŒS2, æ±‚è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦.<br>æ¯”å¦‚:  </p>
<ul>
<li>S1 = ABCD</li>
<li>S2 = AEBD</li>
</ul>
<p>åˆ™æœ€é•¿å…¬å…±å­åºåˆ—ä¸ºABD, å…¶é•¿åº¦ä¸º3, ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² text1 å’Œ text2ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€‚<br>ä¸€ä¸ªå­—ç¬¦ä¸²çš„ å­åºåˆ— æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚<br>ä¾‹å¦‚ï¼Œâ€aceâ€ æ˜¯ â€œabcdeâ€ çš„å­åºåˆ—ï¼Œä½† â€œaecâ€ ä¸æ˜¯ â€œabcdeâ€ çš„å­åºåˆ—ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ã€Œå…¬å…±å­åºåˆ—ã€æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚<br>è‹¥è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å­åºåˆ—ï¼Œåˆ™è¿”å› 0ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/lcs_1.png" alt title="LCSçŠ¶æ€è½¬ç§»æ–¹ç¨‹"><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/lcs_2.png" alt title="LCSé€’å½’æ ‘"><br>åˆ™ä»£ç å¦‚ä¸‹:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_LCS</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLCS</span><span class="params">(self, str_arr)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> str_arr:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">assert</span> len(str_arr) == <span class="number">2</span></span><br><span class="line">        str_a = str_arr[<span class="number">0</span>]</span><br><span class="line">        str_b = str_arr[<span class="number">1</span>]</span><br><span class="line">        m = len(str_a)</span><br><span class="line">        n = len(str_b)</span><br><span class="line">        <span class="keyword">if</span> m &lt; <span class="number">1</span> <span class="keyword">or</span> n &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å®šä¹‰dp[i][j] ä¸º str_a[0...i] å’Œstr_b[0...j]çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦</span></span><br><span class="line">        dp = [ [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(n) ] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(m) ]</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–æœ€åº•å±‚çš„åŸºç¡€æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> xrange(n):</span><br><span class="line">            dp[<span class="number">0</span>][k] = <span class="number">1</span> <span class="keyword">if</span> str_a[<span class="number">0</span>] == str_b[k] <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> h <span class="keyword">in</span> xrange(m):</span><br><span class="line">            dp[h][<span class="number">0</span>] = <span class="number">1</span> <span class="keyword">if</span> str_a[h] == str_b[<span class="number">0</span>] <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(n):</span><br><span class="line">                <span class="comment"># æ ¹æ®å›¾ä¸­çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—å‡º, æœ‰ä¸¤ç§æƒ…å†µ, æ‰€ä»¥ifä¸€ä¸‹</span></span><br><span class="line">                <span class="keyword">if</span> str_a[i] == str_b[j]:</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = max(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>] <span class="keyword">if</span> j<span class="number">-1</span> &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[m<span class="number">-1</span>][n<span class="number">-1</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—"><a href="#æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—" class="headerlink" title="æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—"></a>æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—</h3><ul>
<li><p><strong>æ€è·¯1</strong>: è¿˜æ˜¯ç”¨åŠ¨è§„æ¥è§£</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_lcs_detail_seq_1</span><span class="params">(self, str_arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> str_arr:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    <span class="keyword">assert</span> len(str_arr) == <span class="number">2</span></span><br><span class="line">    str_a = str_arr[<span class="number">0</span>]</span><br><span class="line">    str_b = str_arr[<span class="number">1</span>]</span><br><span class="line">    m = len(str_a)</span><br><span class="line">    n = len(str_b)</span><br><span class="line">    <span class="keyword">if</span> m &lt; <span class="number">1</span> <span class="keyword">or</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬å®šä¹‰dp[i][j] ä¸º str_a[0...i] å’Œstr_b[0...j]çš„æœ€é•¿å­åºåˆ—</span></span><br><span class="line">    dp = [ [ <span class="string">""</span> <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(n) ] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(m) ]</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æœ€åº•å±‚çš„åŸºç¡€æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(n):</span><br><span class="line">        <span class="keyword">if</span> str_a[<span class="number">0</span>] == str_b[k]:</span><br><span class="line">            <span class="keyword">for</span> h <span class="keyword">in</span> xrange(k, n):  <span class="comment"># kåé¢çš„ä¹Ÿéƒ½è¦è®¾ç½®</span></span><br><span class="line">                dp[<span class="number">0</span>][h] = str_a[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(m):</span><br><span class="line">        <span class="keyword">if</span> str_a[k] == str_b[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">for</span> h <span class="keyword">in</span> xrange(k, m):  <span class="comment"># kåé¢çš„ä¹Ÿéƒ½è¦è®¾ç½®</span></span><br><span class="line">                dp[h][<span class="number">0</span>] = str_b[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, m):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># æ ¹æ®å›¾ä¸­çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—å‡º, æœ‰ä¸¤ç§æƒ…å†µ, æ‰€ä»¥ifä¸€ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span> str_a[i] == str_b[j]:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + str_a[i]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j] <span class="keyword">if</span> len(dp[i<span class="number">-1</span>][j]) &gt; len(dp[i][j<span class="number">-1</span>]) <span class="keyword">else</span> dp[i][j<span class="number">-1</span>]</span><br><span class="line">    <span class="keyword">return</span> dp[m<span class="number">-1</span>][n<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ€è·¯2, ä»…ç”¨æ¥åŠ æ·±ç†è§£</strong>:<br>  ä¸ç®¡æ˜¯LCS/LIS/0-1èƒŒåŒ…é—®é¢˜å¦‚æœè¦æ±‚æœ€ä¼˜è§£çš„å…·ä½“æƒ…å†µæ˜¯å“ªç§, æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯è¦ç”¨dpè§£æ³•æ±‚å‡ºæ•´ä¸ªdpæ•°ç»„ä¹‹å, ç„¶åæ ¹æ®dpçš„çŠ¶æ€å®šä¹‰, ä»¥åŠdpæ•°ç»„é‡Œå…·ä½“å­˜å‚¨äº†çš„ä¿¡æ¯åæ¨å›å».  </p>
<p>  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/lcs_3.png" alt title="LCSé—®é¢˜çš„dpæ•°ç»„å›¾"><br>  ä»ä¹‹å‰æ±‚lcsçš„ä»£ç ä»¥åŠä¸Šå›¾ä¸­éƒ½å¯ä»¥çœ‹å‡º, ä»dpæ•°ç»„çš„æœ«å°¾åé¢åæ¨å›å», ä¸Šä¸€ä¸ªå…¬å…±å­—ç¬¦æ‰€åœ¨çš„æ¨ªçºµindexè‚¯å®šåœ¨å½“å‰æ¨ªçºµindexçš„å·¦ä¸Š.<br>  é‚£åˆ™å¯¹äºLCSçš„å…·ä½“è§£, æ€è·¯2çš„ä»£ç å¦‚ä¸‹:</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_lcs_detail_seq_2</span><span class="params">(self, str_arr)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> str_arr:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    <span class="keyword">assert</span> len(str_arr) == <span class="number">2</span></span><br><span class="line">    str_a = str_arr[<span class="number">0</span>]</span><br><span class="line">    str_b = str_arr[<span class="number">1</span>]</span><br><span class="line">    m = len(str_a)</span><br><span class="line">    n = len(str_b)</span><br><span class="line">    <span class="keyword">if</span> m &lt; <span class="number">1</span> <span class="keyword">or</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬å®šä¹‰dp[i][j] ä¸º str_a[0...i] å’Œstr_b[0...j]çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦</span></span><br><span class="line">    dp = [ [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(n) ] <span class="keyword">for</span> _ <span class="keyword">in</span> xrange(m) ]</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æœ€åº•å±‚çš„åŸºç¡€æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(n):</span><br><span class="line">        <span class="keyword">if</span> str_a[<span class="number">0</span>] == str_b[k]:</span><br><span class="line">            <span class="keyword">for</span> h <span class="keyword">in</span> xrange(k, n):  <span class="comment"># kåé¢çš„ä¹Ÿéƒ½è¦ç½®ä¸º1</span></span><br><span class="line">                dp[<span class="number">0</span>][h] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(m):</span><br><span class="line">        <span class="keyword">if</span> str_a[k] == str_b[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">for</span> h <span class="keyword">in</span> xrange(k, m):  <span class="comment"># kåé¢çš„ä¹Ÿéƒ½è¦ç½®ä¸º1</span></span><br><span class="line">                dp[h][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, m):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># æ ¹æ®å›¾ä¸­çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—å‡º, æœ‰ä¸¤ç§æƒ…å†µ, æ‰€ä»¥ifä¸€ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span> str_a[i] == str_b[j]:</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = max(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>])</span><br><span class="line">    <span class="comment"># ä¸ç®¡æ˜¯LCS/LIS/0-1èƒŒåŒ…é—®é¢˜å¦‚æœè¦æ±‚æœ€ä¼˜è§£çš„å…·ä½“æƒ…å†µæ˜¯å“ªç§, </span></span><br><span class="line">    <span class="comment"># æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯è¦ç”¨dpè§£æ³•æ±‚å‡ºæ•´ä¸ªdpæ•°ç»„ä¹‹å,</span></span><br><span class="line">    <span class="comment"># ç„¶åæ ¹æ®dpçš„çŠ¶æ€å®šä¹‰, ä»¥åŠdpæ•°ç»„é‡Œå…·ä½“å­˜å‚¨äº†çš„ä¿¡æ¯åæ¨å›å».  </span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># ä»ä¹‹å‰æ±‚lcsçš„ä»£ç ä»¥åŠä¸Šå›¾ä¸­éƒ½å¯ä»¥çœ‹å‡º,</span></span><br><span class="line">    <span class="comment"># ä»dpæ•°ç»„çš„æœ«å°¾åé¢åæ¨å›å»,</span></span><br><span class="line">    <span class="comment"># ä¸Šä¸€ä¸ªå…¬å…±å­—ç¬¦æ‰€åœ¨çš„æ¨ªçºµindexè‚¯å®šåœ¨å½“å‰æ¨ªçºµindexçš„å·¦ä¸Š.</span></span><br><span class="line">    p = len(str_a) - <span class="number">1</span>;</span><br><span class="line">    q = len(str_b) - <span class="number">1</span>;</span><br><span class="line">    _lcs_detail_seq = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">while</span>(p &gt;= <span class="number">0</span> <span class="keyword">and</span> q &gt;= <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">if</span>( str_a[p] == str_b[q] ):</span><br><span class="line">            _lcs_detail_seq = str_a[p] + _lcs_detail_seq;</span><br><span class="line">            p -= <span class="number">1</span>;</span><br><span class="line">            q -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">elif</span>(p == <span class="number">0</span>):</span><br><span class="line">            q -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">elif</span>(q == <span class="number">0</span>):</span><br><span class="line">            p -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># ç”±dpæ•°ç»„å›¾ä¸­å¯çŸ¥, </span></span><br><span class="line">            <span class="comment"># ä¸Šä¸€ä¸ªå…¬å…±å­—ç¬¦æ‰€åœ¨çš„æ¨ªçºµindexè‚¯å®šåœ¨å½“å‰æ¨ªçºµindexçš„å·¦ä¸Š.</span></span><br><span class="line">            <span class="keyword">if</span>(dp[p<span class="number">-1</span>][q] &gt; dp[p][q<span class="number">-1</span>]):</span><br><span class="line">                <span class="comment"># dp[p-1][q] å¤§, åˆ™å¾€å·¦ç§»åŠ¨, på‡ä¸€</span></span><br><span class="line">                <span class="comment"># è¿™æ ·æ‰èƒ½æ‰èƒ½æ‰¾åˆ°æœ€å¤§å…¬å…±å­ä¸²çš„ä¸Šä¸€ä¸ªå…¬å…±å­—ç¬¦å˜›</span></span><br><span class="line">                p -= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># dp[p][q-1] å¤§, åˆ™å¾€ä¸Šç§»åŠ¨, qå‡ä¸€</span></span><br><span class="line">                <span class="comment"># è¿™æ ·æ‰èƒ½æ‰èƒ½æ‰¾åˆ°æœ€å¤§å…¬å…±å­ä¸²çš„ä¸Šä¸€ä¸ªå…¬å…±å­—ç¬¦å˜›</span></span><br><span class="line">                q -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> _lcs_detail_seq;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜"><a href="#è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜" class="headerlink" title="è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜"></a>è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜</h2><p><a href="https://leetcode-cn.com/problems/super-egg-drop/" target="_blank" rel="noopener">lc887</a><br>é¢˜ç›®æ˜¯è¿™æ ·ï¼šä½ é¢å‰æœ‰ä¸€æ ‹ä» 1 åˆ°<code>N</code>å…±<code>N</code>å±‚çš„æ¥¼ï¼Œç„¶åç»™ä½ <code>K</code>ä¸ªé¸¡è›‹ï¼ˆ<code>K</code>è‡³å°‘ä¸º 1ï¼‰ã€‚ç°åœ¨ç¡®å®šè¿™æ ‹æ¥¼å­˜åœ¨æ¥¼å±‚<code>0 &lt;= F &lt;= N</code>ï¼Œåœ¨è¿™å±‚æ¥¼å°†é¸¡è›‹æ‰”ä¸‹å»ï¼Œé¸¡è›‹<strong>æ°å¥½æ²¡æ‘”ç¢</strong>ï¼ˆé«˜äº<code>F</code>çš„æ¥¼å±‚éƒ½ä¼šç¢ï¼Œä½äº<code>F</code>çš„æ¥¼å±‚éƒ½ä¸ä¼šç¢ï¼‰ã€‚ç°åœ¨é—®ä½ ï¼Œ<strong>æœ€å</strong>æƒ…å†µä¸‹ï¼Œä½ <strong>è‡³å°‘</strong>è¦æ‰”å‡ æ¬¡é¸¡è›‹ï¼Œæ‰èƒ½<strong>ç¡®å®š</strong>è¿™ä¸ªæ¥¼å±‚<code>F</code>å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜é¢˜æ„, æ¯”å¦‚10å±‚æ¥¼, 2ä¸ªé¸¡è›‹Aå’ŒB, æœ€ä¼˜è§£æ˜¯ 4 æ¬¡. è¿™ä¸ª4æ¬¡æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„å‘¢? éšæ„ä¸¾å‡ ç§æƒ…å†µ:  </p>
<ul>
<li>ä»5æ¥¼æ‰”A, Aç¢äº†å°±æ‰”å¦ä¸€ä¸ªè›‹Båˆ°0-4å±‚, Aæ²¡ç¢å°±ç»§ç»­æ‰”Båˆ°6-10å±‚<ul>
<li>æœ€å¥½çš„æƒ…å†µæ˜¯: Aç¬¬ä¸€æ¬¡æ‰”æ²¡ç¢, ç„¶ååˆ°ç¬¬6å±‚ç¢äº†, åªæ‰”äº†2æ¬¡</li>
<li>æœ€å: Aç¬¬ä¸€æ¬¡æ‰”æ²¡ç¢, ç„¶ååˆ°ç¬¬10å±‚éƒ½æ²¡ç¢, æ‰”äº†6æ¬¡</li>
</ul>
</li>
<li>ä»2æ¥¼/4/6/8/10æ‰”A, Aç¢äº†å°±æ‰”å¦ä¸€ä¸ªè›‹B, æ¯”å¦‚åœ¨4æ¥¼Aç¢äº†å°±åˆ°3æ¥¼æ‰”B<ul>
<li>æœ€å¥½çš„æƒ…å†µæ˜¯: Aç¬¬ä¸€æ¬¡æ‰”å°±ç¢äº†, ç„¶åBåˆ°1æ¥¼å»æ‰”, åªæ‰”äº†2æ¬¡</li>
<li>æœ€å: Aä¸€ç›´æ‰”åˆ°10æ¥¼æ‰ç¢, ç„¶åBåˆ°ç¬¬9å±‚å»è¯•è¯•, æ‰”äº†6æ¬¡</li>
</ul>
</li>
<li>ç»Ÿè®¡å‡ºæ¥, å®é™…ä¸Šæœ€ä¼˜çš„æ‰”æ³•æ˜¯: Aä»ç¬¬4æ¥¼/7/9/10è¿™æ ·æ‰”<ul>
<li>æœ€å¥½çš„æƒ…å†µæ˜¯: Aç¬¬ä¸€æ¬¡æ‰”å°±ç¢äº†, ç„¶åBä»1æ¥¼å¼€å§‹æ‰”, ç„¶åbåœ¨1æ¥¼å°±ç¢äº†, åªæ‰”äº†2æ¬¡</li>
<li>æœ€å: <ul>
<li>Aä¸€ç›´æ‰”åˆ°10æ¥¼æ‰ç¢, æ‰”äº†4æ¬¡</li>
<li>Aç¬¬ä¸€æ¬¡æ‰”å°±ç¢äº†, ç„¶åBä»1æ¥¼å¼€å§‹æ‰”, ç„¶åbåœ¨3æ¥¼ç¢äº†, æ‰”äº†4æ¬¡</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å¦‚æœé¢˜ç›®æ²¡çœ‹æ‡‚, å»ºè®®çœ‹ä¸€ä¸‹<a href="https://www.bilibili.com/video/BV1KE41137PK?from=search&amp;seid=17973611971894816621" target="_blank" rel="noopener">æ­¤è§†é¢‘</a>çš„è®²è§£.<br><a href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484675&amp;idx=1&amp;sn=4a4ac1c0f1279530b42fedacc6cca6e6&amp;chksm=9bd7fb0baca0721dda1eaa1d00b9a520672dc9d5c3be762eeca869be35d7ce232922ba8e928b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">å‚è€ƒ</a><br>å¯¹åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œç›´æ¥å¥—æˆ‘ä»¬ä»¥å‰å¤šæ¬¡å¼ºè°ƒçš„æ¡†æ¶å³å¯ï¼šè¿™ä¸ªé—®é¢˜æœ‰ä»€ä¹ˆã€ŒçŠ¶æ€ã€ï¼Œæœ‰ä»€ä¹ˆã€Œé€‰æ‹©ã€ï¼Œç„¶åç©·ä¸¾ã€‚  </p>
<ul>
<li><strong>ã€ŒçŠ¶æ€ã€å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯å½“å‰æ‹¥æœ‰çš„é¸¡è›‹æ•°<code>K</code>å’Œéœ€è¦æµ‹è¯•çš„æ¥¼å±‚æ•°<code>N</code></strong>ã€‚éšç€æµ‹è¯•çš„è¿›è¡Œï¼Œé¸¡è›‹ä¸ªæ•°å¯èƒ½å‡å°‘ï¼Œæ¥¼å±‚çš„æœç´¢èŒƒå›´ä¼šå‡å°ï¼Œè¿™å°±æ˜¯çŠ¶æ€çš„å˜åŒ–ã€‚</li>
<li><strong>ã€Œé€‰æ‹©ã€å…¶å®å°±æ˜¯å»é€‰æ‹©å“ªå±‚æ¥¼æ‰”é¸¡è›‹</strong>ã€‚å›é¡¾åˆšæ‰çš„çº¿æ€§æ‰«æå’ŒäºŒåˆ†æ€è·¯ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡é€‰æ‹©åˆ°æ¥¼å±‚åŒºé—´çš„ä¸­é—´å»æ‰”é¸¡è›‹ï¼Œè€Œçº¿æ€§æ‰«æé€‰æ‹©ä¸€å±‚å±‚å‘ä¸Šæµ‹è¯•ã€‚ä¸åŒçš„é€‰æ‹©ä¼šé€ æˆçŠ¶æ€çš„è½¬ç§»ã€‚</li>
</ul>
<p>ç°åœ¨æ˜ç¡®äº†ã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€ï¼Œ<strong>åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ€è·¯å°±å½¢æˆäº†</strong>ï¼šè‚¯å®šæ˜¯ä¸ªäºŒç»´çš„<code>dp</code>æ•°ç»„æˆ–è€…å¸¦æœ‰ä¸¤ä¸ªçŠ¶æ€å‚æ•°çš„<code>dp</code>å‡½æ•°æ¥è¡¨ç¤ºçŠ¶æ€è½¬ç§»ï¼›å¤–åŠ ä¸€ä¸ª for å¾ªç¯æ¥éå†æ‰€æœ‰é€‰æ‹©ï¼Œæ‹©æœ€ä¼˜çš„é€‰æ‹©æ›´æ–°ç»“æœ ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Â å½“å‰çŠ¶æ€ä¸ºÂ (KÂ ä¸ªé¸¡è›‹ï¼ŒNÂ å±‚æ¥¼)</span></span><br><span class="line"><span class="comment">#Â è¿”å›è¿™ä¸ªçŠ¶æ€ä¸‹çš„æœ€ä¼˜ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span>Â <span class="title">dp</span><span class="params">(K,Â N)</span>:</span></span><br><span class="line">Â Â Â Â intÂ res</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â <span class="number">1</span>Â &lt;=Â iÂ &lt;=Â N:</span><br><span class="line">Â Â Â Â Â Â Â Â resÂ =Â min(res,Â è¿™æ¬¡åœ¨ç¬¬Â iÂ å±‚æ¥¼æ‰”é¸¡è›‹)</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â res</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ®µä¼ªç è¿˜æ²¡æœ‰å±•ç¤ºé€’å½’å’ŒçŠ¶æ€è½¬ç§»ï¼Œä¸è¿‡å¤§è‡´çš„ç®—æ³•æ¡†æ¶å·²ç»å®Œæˆäº†ã€‚<br>æˆ‘ä»¬åœ¨ç¬¬<code>i</code>å±‚æ¥¼æ‰”äº†é¸¡è›‹ä¹‹åï¼Œå¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µï¼šé¸¡è›‹ç¢äº†ï¼Œé¸¡è›‹æ²¡ç¢ã€‚<strong>æ³¨æ„ï¼Œè¿™æ—¶å€™çŠ¶æ€è½¬ç§»å°±æ¥äº†</strong>ï¼š  </p>
<ul>
<li><strong>å¦‚æœé¸¡è›‹ç¢äº†</strong>ï¼Œé‚£ä¹ˆé¸¡è›‹çš„ä¸ªæ•°<code>K</code>åº”è¯¥å‡ä¸€ï¼Œæœç´¢çš„æ¥¼å±‚åŒºé—´åº”è¯¥ä»<code>[1..N]</code>å˜ä¸º<code>[1..i-1]</code>å…±<code>i-1</code>å±‚æ¥¼ï¼›</li>
<li><strong>å¦‚æœé¸¡è›‹æ²¡ç¢</strong>ï¼Œé‚£ä¹ˆé¸¡è›‹çš„ä¸ªæ•°<code>K</code>ä¸å˜ï¼Œæœç´¢çš„æ¥¼å±‚åŒºé—´åº”è¯¥ä» <code>[1..N]</code>å˜ä¸º<code>[i+1..N]</code>å…±<code>N-i</code>å±‚æ¥¼ã€‚</li>
</ul>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/super_egg_drop.png" alt><br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/super_egg_drop2.png" alt></p>
<p>å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯<strong>æœ€åæƒ…å†µ</strong>ä¸‹æ‰”é¸¡è›‹çš„æ¬¡æ•°ï¼Œæ‰€ä»¥å–å†³äºå“ªç§æƒ…å†µçš„dpç»“æœ<strong>æ›´å¤§</strong>, æ‰€ä»¥è¦maxä¸€ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span>Â <span class="title">dp</span><span class="params">(K,Â N)</span>:</span></span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â <span class="number">1</span>Â &lt;=Â iÂ &lt;=Â N:</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="comment">#Â æœ€åæƒ…å†µä¸‹çš„æœ€å°‘æ‰”é¸¡è›‹æ¬¡æ•°</span></span><br><span class="line">Â Â Â Â Â Â Â Â resÂ =Â min(res,Â </span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â max(Â </span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp(KÂ -Â <span class="number">1</span>,Â iÂ -Â <span class="number">1</span>),Â <span class="comment">#Â ç¢</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp(K,Â NÂ -Â i)Â Â Â Â Â Â <span class="comment">#Â æ²¡ç¢</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )Â +Â <span class="number">1</span>Â <span class="comment">#Â åœ¨ç¬¬Â iÂ æ¥¼æ‰”äº†ä¸€æ¬¡</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â res</span><br></pre></td></tr></table></figure></p>
<p>é€’å½’çš„ base case å¾ˆå®¹æ˜“ç†è§£ï¼šå½“æ¥¼å±‚æ•°<code>N</code>ç­‰äº 0 æ—¶ï¼Œæ˜¾ç„¶ä¸éœ€è¦æ‰”é¸¡è›‹ï¼›å½“é¸¡è›‹æ•°<code>K</code>ä¸º 1 æ—¶ï¼Œæ˜¾ç„¶åªèƒ½çº¿æ€§æ‰«ææ‰€æœ‰æ¥¼å±‚ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span>Â <span class="title">dp</span><span class="params">(K,Â N)</span>:</span></span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â KÂ ==Â <span class="number">1</span>:Â <span class="keyword">return</span>Â N</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>Â NÂ ==Â <span class="number">0</span>:Â <span class="keyword">return</span>Â <span class="number">0</span></span><br><span class="line">Â Â Â Â ...</span><br></pre></td></tr></table></figure></p>
<p>è‡³æ­¤ï¼Œå…¶å®è¿™é“é¢˜å°±è§£å†³äº†ï¼åªè¦æ·»åŠ ä¸€ä¸ªå¤‡å¿˜å½•æ¶ˆé™¤é‡å å­é—®é¢˜å³å¯ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">superEggDrop</span><span class="params">(self, K, N)</span>:</span></span><br><span class="line">    memo = dict()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(K, N)</span>:</span></span><br><span class="line">        <span class="comment"># base case</span></span><br><span class="line">        <span class="keyword">if</span> K == <span class="number">1</span>: <span class="keyword">return</span> N</span><br><span class="line">        <span class="keyword">if</span> N == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># é¿å…é‡å¤è®¡ç®—</span></span><br><span class="line">        <span class="keyword">if</span> (K, N) <span class="keyword">in</span> memo:</span><br><span class="line">            <span class="keyword">return</span> memo[(K, N)]</span><br><span class="line"></span><br><span class="line">        res = float(<span class="string">'INF'</span>)</span><br><span class="line">        <span class="comment"># ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, N + <span class="number">1</span>):</span><br><span class="line">            res = min(res, </span><br><span class="line">                        max(</span><br><span class="line">                            dp(K, N - i), </span><br><span class="line">                            dp(K - <span class="number">1</span>, i - <span class="number">1</span>)</span><br><span class="line">                            ) + <span class="number">1</span></span><br><span class="line">                    )</span><br><span class="line">        <span class="comment"># è®°å…¥å¤‡å¿˜å½•</span></span><br><span class="line">        memo[(K, N)] = res</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> dp(K, N)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">superEggDrop_dp</span><span class="params">(self, K, N)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type K: int</span></span><br><span class="line"><span class="string">    :type N: int</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    """</span> </span><br><span class="line">    <span class="comment"># dp[k][n]: è¡¨ç¤ºä¸ºå½“å‰çŠ¶æ€ä¸º k ä¸ªé¸¡è›‹ï¼Œé¢å¯¹ n å±‚æ¥¼çš„</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªçŠ¶æ€ä¸‹æœ€åçš„æƒ…å†µçš„æœ€å°‘çš„æ‰”é¸¡è›‹çš„æ¬¡æ•°</span></span><br><span class="line">    dp = [ [ p <span class="keyword">for</span> p <span class="keyword">in</span> range(N+<span class="number">1</span>) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(K+<span class="number">1</span>) ]</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">2</span>, K+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> q <span class="keyword">in</span> range(<span class="number">1</span>, N+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">1</span>, q):</span><br><span class="line">                dp[t][q] = min(</span><br><span class="line">                    dp[t][q],</span><br><span class="line">                    max(</span><br><span class="line">                        dp[t<span class="number">-1</span>][m<span class="number">-1</span>],  <span class="comment"># ç¢äº†</span></span><br><span class="line">                        dp[t][q-m],  <span class="comment"># æ²¡ç¢</span></span><br><span class="line">                    ) + <span class="number">1</span></span><br><span class="line">                )</span><br><span class="line">    <span class="keyword">return</span> dp[K][N]</span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ<strong>åŠ¨æ€è§„åˆ’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯å­é—®é¢˜ä¸ªæ•° Ã— å‡½æ•°æœ¬èº«çš„å¤æ‚åº¦</strong>ã€‚<br>å‡½æ•°æœ¬èº«çš„å¤æ‚åº¦å°±æ˜¯å¿½ç•¥é€’å½’éƒ¨åˆ†çš„å¤æ‚åº¦ï¼Œè¿™é‡Œ<code>dp</code>å‡½æ•°ä¸­æœ‰ä¸€ä¸ª for å¾ªç¯ï¼Œæ‰€ä»¥å‡½æ•°æœ¬èº«çš„å¤æ‚åº¦æ˜¯ O(N)ã€‚<br>å­é—®é¢˜ä¸ªæ•°ä¹Ÿå°±æ˜¯ä¸åŒçŠ¶æ€ç»„åˆçš„æ€»æ•°ï¼Œæ˜¾ç„¶æ˜¯ä¸¤ä¸ªçŠ¶æ€çš„ä¹˜ç§¯ï¼Œä¹Ÿå°±æ˜¯ O(KN)ã€‚<br>æ‰€ä»¥ç®—æ³•çš„æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(K*N^2), ç©ºé—´å¤æ‚åº¦ä¸ºå­é—®é¢˜ä¸ªæ•°ï¼Œå³ O(KN)ã€‚</p>
<h3 id="æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è"><a href="#æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è" class="headerlink" title="æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è"></a>æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è</h3><p><a href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484690&amp;idx=1&amp;sn=eea075701a5d96dd5c6e3dc6a993cac5&amp;chksm=9bd7fb1aaca0720c58c9d9e02a8b9211a289bcea359633a95886d7808d2846898d489ce98078&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">å‚è€ƒ</a><br>dp[2][3]è¡¨ç¤ºï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/super_egg_drop3.png" alt><br>æ³¨æ„æŸ¥çœ‹ä¸‹æ–¹ä»£ç ä¸­çš„æ³¨é‡Š:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">superEggDrop2</span><span class="params">(self, K, N)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type K: int</span></span><br><span class="line"><span class="string">    :type N: int</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    * é¸¡è›‹æ‰è½ï¼Œé¹°è›‹ï¼ˆLeetcode 887ï¼‰ï¼šï¼ˆç»å…¸dpï¼‰</span></span><br><span class="line"><span class="string">    * æœ‰ K ä¸ªé¸¡è›‹ï¼Œæœ‰ N å±‚æ¥¼ï¼Œç”¨æœ€å°‘çš„æ“ä½œæ¬¡æ•° Q æ£€æŸ¥å‡ºé¸¡è›‹çš„è´¨é‡ã€‚</span></span><br><span class="line"><span class="string">    *</span></span><br><span class="line"><span class="string">    * æ€è·¯ï¼š</span></span><br><span class="line"><span class="string">    * æœ¬é¢˜åº”è¯¥é€†å‘æ€ç»´ï¼Œè‹¥ä½ æœ‰ K ä¸ªé¸¡è›‹ï¼Œä½ æœ€å¤šæ“ä½œ Q æ¬¡ï¼Œæ±‚ N æœ€å¤§å€¼ã€‚</span></span><br><span class="line"><span class="string">    *</span></span><br><span class="line"><span class="string">    * dp[i][j] = dp[i][j-1] + dp[i-1][j-1] + 1;</span></span><br><span class="line"><span class="string">    * è§£é‡Šï¼š</span></span><br><span class="line"><span class="string">    * 0.dp[i][j]ï¼šå¦‚æœä½ è¿˜å‰© i ä¸ªè›‹ï¼Œä¸”æœ€å¤šåªèƒ½æ“ä½œ j æ¬¡äº†ï¼Œæ‰€èƒ½ç¡®å®šçš„æœ€é«˜æ¥¼å±‚ã€‚</span></span><br><span class="line"><span class="string">    * 1.dp[i][j-1]ï¼šè›‹æ²¡ç¢ï¼Œå› æ­¤è¯¥éƒ¨åˆ†å†³å®šäº†æ‰€æ“ä½œæ¥¼å±‚çš„ä¸Šé¢æ‰€èƒ½å®¹çº³çš„æ¥¼å±‚æœ€å¤§å€¼</span></span><br><span class="line"><span class="string">    * 2.dp[i-1][j-1]ï¼šè›‹ç¢äº†ï¼Œå› æ­¤è¯¥éƒ¨åˆ†å†³å®šäº†æ‰€æ“ä½œæ¥¼å±‚çš„ä¸‹é¢æ‰€èƒ½å®¹çº³çš„æ¥¼å±‚æœ€å¤§å€¼</span></span><br><span class="line"><span class="string">    * åˆå› ä¸ºç¬¬ j æ¬¡æ“ä½œç»“æœåªå’Œç¬¬ j-1 æ¬¡æ“ä½œç»“æœç›¸å…³ï¼Œå› æ­¤å¯ä»¥åªç”¨ä¸€ç»´æ•°ç»„ã€‚æ­¤å¤„ç•¥.</span></span><br><span class="line"><span class="string">    *</span></span><br><span class="line"><span class="string">    * æ—¶å¤ï¼šO(K*æ ¹å·(N))</span></span><br><span class="line"><span class="string">    """</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment"># j æœ€å¤šä¸ä¼šè¶…è¿‡ N æ¬¡ï¼ˆçº¿æ€§æ‰«æï¼‰</span></span><br><span class="line">    <span class="comment"># base case:</span></span><br><span class="line">    <span class="comment"># dp[0][..] = 0</span></span><br><span class="line">    <span class="comment"># dp[..][0] = 0</span></span><br><span class="line">    dp = [ [ <span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>) ] <span class="keyword">for</span> _ <span class="keyword">in</span> range(K+<span class="number">1</span>) ]</span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> dp[K][j] &lt; N:  <span class="comment"># ä¹Ÿå°±æ˜¯ç»™ä½ Kä¸ªé¸¡è›‹ï¼Œå…è®¸æµ‹è¯•jæ¬¡ï¼Œæœ€åæƒ…å†µä¸‹æœ€å¤šèƒ½æµ‹è¯•Nå±‚æ¥¼</span></span><br><span class="line">        j += <span class="number">1</span>  <span class="comment"># è¿™ä¸ªjä¸ºä»€ä¹ˆè¦å‡ä¸€è€Œä¸æ˜¯åŠ ä¸€ï¼Ÿä¹‹å‰å®šä¹‰å¾—å¾ˆæ¸…æ¥šï¼Œè¿™ä¸ªjæ˜¯ä¸€ä¸ªå…è®¸çš„æ¬¡æ•°ä¸Šç•Œï¼Œè€Œä¸æ˜¯æ‰”äº†å‡ æ¬¡ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, K+<span class="number">1</span>):</span><br><span class="line">            dp[i][j] = dp[i][j<span class="number">-1</span>] + dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> j</span><br></pre></td></tr></table></figure></p>
<h2 id="æ•´æ•°æ‹†åˆ†"><a href="#æ•´æ•°æ‹†åˆ†" class="headerlink" title="æ•´æ•°æ‹†åˆ†"></a>æ•´æ•°æ‹†åˆ†</h2><p>è¿™ä¸€å°èŠ‚, æˆ‘ä»¬å¼€å§‹è®¨è®ºæœ€ä¼˜å­ç»“æ„: é€šè¿‡æ±‚å­é—®é¢˜çš„æœ€ä¼˜è§£, å¯ä»¥è·å¾—åŸé—®é¢˜çš„æœ€ä¼˜è§£.</p>
<p><a href="https://leetcode-cn.com/problems/integer-break/" target="_blank" rel="noopener">leetcode343é¢˜</a><br>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œå°†å…¶æ‹†åˆ†ä¸ºè‡³å°‘ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚ è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚<br>è¯´æ˜: ä½ å¯ä»¥å‡è®¾ n ä¸å°äº 2 ä¸”ä¸å¤§äº 58ã€‚</p>
<p>ç¤ºä¾‹ 1:<br>è¾“å…¥: 2<br>è¾“å‡º: 1<br>è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1ã€‚</p>
<p>ç¤ºä¾‹ 2:<br>è¾“å…¥: 10<br>è¾“å‡º: 36<br>è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36ã€‚</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/dynamic_programming/integer_break_1.png" alt></p>
<p>é€šè¿‡ä¸Šå›¾ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¾—åˆ°ä¸€ä¸ªé€’å½’è¡¨è¾¾å¼ï¼š<br><code>F(n) = max {i * F(n - i)}ï¼Œi = 1ï¼Œ2ï¼Œ... ï¼Œn - 1</code><br>ä¸Šè¿°è¡¨è¾¾å¼æ˜¯è¡¨æ˜<code>n - i</code>éœ€è¦ç»§ç»­åˆ†è§£çš„æƒ…å†µï¼Œä½†å¦‚æœ<code>i * (n - i)</code>æ¯”<code>F(n - i)</code>è¦å¤§ï¼Œæ˜¾ç„¶å°±ä¸ç”¨å†ç»§ç»­åˆ†è§£äº†ã€‚æ•…æˆ‘ä»¬è¿˜éœ€è¦æ¯”è¾ƒ<code>i * (n - i)</code>ä¸<code>i * F(n - i)</code>çš„å¤§å°å…³ç³»ã€‚æ‰€ä»¥å®Œæ•´çš„è¡¨è¾¾å¼åº”è¯¥ä¸ºï¼š<br><code>F(n) = max { i * F(n - i), i * (n - i)} , i = 1, 2, ... , n - 1</code><br>åŸºäºæ­¤ï¼Œå°±ä¸éš¾å¾—åˆ°å¦‚ä¸‹ä»£ç ,<br><strong>è€Œé€šè¿‡ä»¥ä¸‹ä»£ç ä¸­çš„ <code>integer_break_dp</code> æ–¹æ³•ä¸­çš„æ³¨é‡Š, å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹å‡ºæ€ä¹ˆä»æ™®é€šé€’å½’ä¸€ç‚¹ä¸€ç‚¹æ¼”è¿›åˆ°åŠ¨æ€è§„åˆ’çš„æ€è·¯çš„!</strong><br>æ€è·¯åˆ†æå‚è€ƒ:</p>
<ul>
<li><a href="https://leetcode-cn.com/problems/integer-break/solution/bao-li-sou-suo-ji-yi-hua-sou-suo-dong-tai-gui-hua-/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/integer-break/solution/bao-li-sou-suo-ji-yi-hua-sou-suo-dong-tai-gui-hua-/</a></li>
<li><a href="https://leetcode-cn.com/problems/integer-break/solution/ba-yi-ba-zhe-chong-ti-de-wai-tao-343-zheng-shu-cha/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/integer-break/solution/ba-yi-ba-zhe-chong-ti-de-wai-tao-343-zheng-shu-cha/</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution_integer_break</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._memo = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†nè¿›è¡Œåˆ†å‰²(è‡³å°‘åˆ†å‰²ä¸¤éƒ¨åˆ†), å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integerBreak</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        _res = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> self._memo:</span><br><span class="line">            <span class="keyword">return</span> self._memo[n]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># è®¡ç®—`i + (n-i)`</span></span><br><span class="line">            _res = max(</span><br><span class="line">                _res,</span><br><span class="line">                i * (n-i),  <span class="comment"># æœ‰å¯èƒ½è‡ªå·±æœ¬èº«`i*(n-i)`å°±æ˜¯æœ€å¤§çš„</span></span><br><span class="line">                i * self.integerBreak(n-i))</span><br><span class="line">        self._memo[n] = _res</span><br><span class="line">        <span class="keyword">return</span> _res</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer_break_dp</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># ä¸‹é¢è¿™ç§Aæ€è·¯æ˜¯ä¸è¡Œçš„:</span></span><br><span class="line">        <span class="comment"># dp[i]ç­‰ä»·äº f(i)ï¼Œ</span></span><br><span class="line">        <span class="comment"># é‚£ä¹ˆä¸Šé¢é’ˆå¯¹ f(i) å†™çš„é€’å½’å…¬å¼å¯¹ dp[i] ä¹Ÿæ˜¯é€‚ç”¨çš„ï¼Œæˆ‘ä»¬æ‹¿æ¥è¯•è¯•ã€‚</span></span><br><span class="line">        <span class="comment"># å…³é”®è¯­å¥:</span></span><br><span class="line">        <span class="comment">#  `res = max(res, i * (n - i), max(i * self.integerBreak(n - i)))`</span></span><br><span class="line">        <span class="comment"># ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š`dp[i] = max(_res, i * (n-i), i * dp[n-i])`</span></span><br><span class="line">        <span class="comment"># åˆ™ä¸éš¾å¾—å‡ºä»¥ä¸‹ä»£ç , ä½†å› ä¸º dp[n-i] å½“å‰æ²¡æ±‚å‡ºæ¥, å­é—®é¢˜æ²¡æ±‚å‡ºæ¥,</span></span><br><span class="line">        <span class="comment"># æ‰€ä»¥åŸé—®é¢˜ä¹Ÿå°±æ±‚ä¸å‡ºæ¥äº†, æ‰€ä»¥ä¸‹é¢è¿™ä¸‰è¡Œä»£ç æ˜¯ä¸è¡Œçš„</span></span><br><span class="line">        <span class="comment"># _res = -1</span></span><br><span class="line">        <span class="comment"># for i in xrange(1, n):</span></span><br><span class="line">            <span class="comment"># dp[i] = max(_res, i * (n-i), i * dp[n-i])</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ­¤æ—¶æˆ‘ä»¬å¾—ä¸‹é¢è¿™ç§Bæ€è·¯æ‰è¡Œ:</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬ç”¨ä¸€å±‚å¾ªç¯æ¥ç”Ÿæˆä¸Šé¢è¿™æ®µAæ€è·¯ä»£ç ä¸€ç³»åˆ—çš„ n å€¼ã€‚</span></span><br><span class="line">        <span class="comment"># æ¥ç€æˆ‘ä»¬è¿˜è¦ç”Ÿæˆä¸Šé¢Aæ€è·¯ä»£ç ä¸­ä¸€ç³»åˆ—çš„ i å€¼ï¼Œ</span></span><br><span class="line">        <span class="comment"># æ³¨æ„åˆ° n - i æ˜¯è¦å¤§äº 0 çš„ï¼Œ</span></span><br><span class="line">        <span class="comment"># å› æ­¤ i åªéœ€è¦å¾ªç¯åˆ° n - 1 å³å¯ã€‚</span></span><br><span class="line">        <span class="comment"># ç”±æ­¤ä¸éš¾ç¿»è¯‘Aæ€è·¯å¾—å‡ºä»¥ä¸‹ä»£ç (jä»£è¡¨n, kä»£è¡¨i):</span></span><br><span class="line">        <span class="comment"># dp[i] = max(dp[i], (i-j)*j, j* dp[i-j])  # j=1...i</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># dp[i] è¡¨ç¤ºå°†æ•°å­—iåˆ†å‰²(è‡³å°‘åˆ†å‰²æˆä¸¤éƒ¨åˆ†)åå¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯</span></span><br><span class="line">        dp = [ float(<span class="string">"-inf"</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n+<span class="number">1</span>) ]</span><br><span class="line">        dp[<span class="number">0</span>] = float(<span class="string">"-inf"</span>)</span><br><span class="line">        dp[<span class="number">1</span>] = float(<span class="string">"-inf"</span>)</span><br><span class="line">        dp[<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">3</span>, n+<span class="number">1</span>):  <span class="comment"># å¾ªç¯åˆ°n</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> xrange(<span class="number">1</span>, j):  <span class="comment"># å¾ªç¯åˆ°j-1å³å¯</span></span><br><span class="line">                dp[j] = max(dp[j], k*(j-k), k*dp[j-k])</span><br><span class="line">        <span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure>
<h1 id="åŒæŒ‡é’ˆé¢˜å‹"><a href="#åŒæŒ‡é’ˆé¢˜å‹" class="headerlink" title="åŒæŒ‡é’ˆé¢˜å‹"></a>åŒæŒ‡é’ˆé¢˜å‹</h1><h2 id="ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"><a href="#ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ" class="headerlink" title="ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"></a>ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ</h2><p>æ€è·¯: ä¸¤ä¸ªé›†åˆæ±‚äº¤é›†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; intersection(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2) &#123;</span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; set1, set2;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums1) &#123;</span><br><span class="line">            set1.insert(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums2) &#123;</span><br><span class="line">            set2.insert(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getIntersection(set1, set2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getIntersection(<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&amp; set1, <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&amp; set2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (set1.size() &gt; set2.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> getIntersection(set2, set1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; intersection;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : set1) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set2.count(num)) &#123;</span><br><span class="line">                intersection.push_back(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intersection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"><a href="#ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ" class="headerlink" title="ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"></a>ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ</h2><p><a href="https://leetcode-cn.com/problems/intersection-of-two-arrays/" target="_blank" rel="noopener">lc349, easy</a></p>
<p>å…³é”®æ˜¯æ€ä¹ˆç”¨ä¸Š<strong>æœ‰åº</strong>è¿™ä¸ªå®šè¯­</p>
<ul>
<li><p>å¦‚æœä¸¤ä¸ªæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•å¾—åˆ°ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚</p>
</li>
<li><p>é¦–å…ˆå¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆéå†ä¸¤ä¸ªæ•°ç»„ã€‚å¯ä»¥é¢„è§çš„æ˜¯åŠ å…¥ç­”æ¡ˆçš„æ•°ç»„çš„å…ƒç´ ä¸€å®šæ˜¯é€’å¢çš„ï¼Œä¸ºäº†ä¿è¯åŠ å…¥å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–è®°å½•å˜é‡ <code>pre</code> è¡¨ç¤ºä¸Šä¸€æ¬¡åŠ å…¥ç­”æ¡ˆæ•°ç»„çš„å…ƒç´ ã€‚åˆå§‹æ—¶ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„çš„å¤´éƒ¨ã€‚æ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ•°å­—ï¼Œå¦‚æœä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰ï¼Œåˆ™å°†æŒ‡å‘è¾ƒå°æ•°å­—çš„æŒ‡é’ˆå³ç§»ä¸€ä½ï¼Œå¦‚æœä¸¤ä¸ªæ•°å­—ç›¸ç­‰ï¼Œä¸”è¯¥æ•°å­—ä¸ç­‰äº <code>pre</code> ï¼Œå°†è¯¥æ•°å­—æ·»åŠ åˆ°ç­”æ¡ˆå¹¶æ›´æ–° <code>pre</code> å˜é‡ï¼ŒåŒæ—¶å°†ä¸¤ä¸ªæŒ‡é’ˆéƒ½å³ç§»ä¸€ä½ã€‚å½“è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆè¶…å‡ºæ•°ç»„èŒƒå›´æ—¶ï¼Œéå†ç»“æŸ</p>
</li>
</ul>
<p><a href="https://leetcode-cn.com/problems/intersection-of-two-arrays/solution/liang-ge-shu-zu-de-jiao-ji-by-leetcode-solution/" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; intersection(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2) &#123;</span><br><span class="line">        sort(nums1.begin(), nums1.end());</span><br><span class="line">        sort(nums2.begin(), nums2.end());</span><br><span class="line">        <span class="keyword">int</span> length1 = nums1.size(), length2 = nums2.size();</span><br><span class="line">        <span class="keyword">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; intersection;</span><br><span class="line">        <span class="keyword">while</span> (index1 &lt; length1 &amp;&amp; index2 &lt; length2) &#123;</span><br><span class="line">            <span class="keyword">int</span> num1 = nums1[index1], num2 = nums2[index2];</span><br><span class="line">            <span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">                <span class="comment">// ä¿è¯åŠ å…¥å…ƒç´ çš„å”¯ä¸€æ€§</span></span><br><span class="line">                <span class="keyword">if</span> (!intersection.size() || num1 != intersection.back()) &#123;</span><br><span class="line">                    intersection.push_back(num1);</span><br><span class="line">                &#125;</span><br><span class="line">                index1++;</span><br><span class="line">                index2++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1 &lt; num2) &#123;</span><br><span class="line">                index1++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                index2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> intersection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®"><a href="#æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®" class="headerlink" title="æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®"></a>æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®</h2><p><a href="https://leetcode-cn.com/problems/minimum-window-substring/" target="_blank" rel="noopener">lc76, hard</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485141&amp;idx=1&amp;sn=0e4583ad935e76e9a3f6793792e60734&amp;chksm=9bd7f8ddaca071cbb7570b2433290e5e2628d20473022a5517271de6d6e50783961bebc3dd3b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">å‚è€ƒ</a><br>è¿™é‡Œæœ‰ä¸€å¥—æ»‘åŠ¨çª—å£ç®—æ³•çš„ä»£ç æ¡†æ¶ï¼Œæˆ‘è¿åœ¨å“ªé‡Œåšè¾“å‡º debug éƒ½ç»™ä½ å†™å¥½äº†ï¼Œä»¥åé‡åˆ°ç›¸å…³çš„é—®é¢˜ï¼Œä½ å°±é»˜å†™å‡ºæ¥å¦‚ä¸‹æ¡†æ¶ç„¶åæ”¹ä¸‰ä¸ªåœ°æ–¹å°±è¡Œï¼Œè¿˜ä¸ä¼šå‡ºè¾¹ç•Œé—®é¢˜ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">slidingWindow</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; need, window;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : t) need[c]++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> valid = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">while</span> (right &lt; s.size()) &#123;</span><br><span class="line">        <span class="comment">// c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦</span></span><br><span class="line">        <span class="keyword">char</span> c = s[right];</span><br><span class="line">        <span class="comment">// å³ç§»çª—å£</span></span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*** debug è¾“å‡ºçš„ä½ç½® ***/</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"window: [%d, %d)\n"</span>, left, right);</span><br><span class="line">        <span class="comment">/********************/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span></span><br><span class="line">        <span class="keyword">while</span> (window needs shrink) &#123;</span><br><span class="line">            <span class="comment">// d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">char</span> d = s[left];</span><br><span class="line">            <span class="comment">// å·¦ç§»çª—å£</span></span><br><span class="line">            left++;</span><br><span class="line">            <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä¸­ä¸¤å¤„â€¦è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåˆ°æ—¶å€™ä½ ç›´æ¥å¾€é‡Œé¢å¡«å°±è¡Œäº†ã€‚è€Œä¸”ï¼Œè¿™ä¸¤ä¸ªâ€¦å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯å³ç§»å’Œå·¦ç§»çª—å£æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­å°±æœ¬é¢˜æ¥è°ˆæ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š  </p>
<ol>
<li>æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²<code>S</code>ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ–<code>left = right = 0</code>ï¼Œ<strong>æŠŠç´¢å¼•å·¦é—­å³å¼€åŒºé—´<code>[left, right)</code>ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€</strong>ã€‚</li>
<li>æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ <code>right</code>æŒ‡é’ˆæ‰©å¤§çª—å£<code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº†<code>T</code>ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚</li>
<li>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ <code>right</code>ï¼Œè½¬è€Œä¸æ–­å¢åŠ <code>left</code>æŒ‡é’ˆç¼©å°çª—å£<code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å«<code>T</code>ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ <code>left</code>ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚</li>
<li>é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ°<code>right</code>åˆ°è¾¾å­—ç¬¦ä¸²<code>S</code>çš„å°½å¤´ã€‚</li>
</ol>
<p>è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œ<strong>ç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œ</strong>ä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–å­ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œçª—å£ä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—å£ã€è¿™ä¸ªåå­—çš„æ¥å†ã€‚</p>
<p>ä¸‹é¢ç”»å›¾ç†è§£ä¸€ä¸‹ï¼Œ<code>needs</code>å’Œ<code>window</code>ç›¸å½“äºè®¡æ•°å™¨ï¼Œåˆ†åˆ«è®°å½•<code>T</code>ä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œã€Œçª—å£ã€ä¸­çš„ç›¸åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚<br>åˆå§‹çŠ¶æ€ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/slide_window/lc76_1.jpg" alt></p>
<p>å¢åŠ <code>right</code>ï¼Œç›´åˆ°çª—å£<code>[left, right)</code>åŒ…å«äº†<code>T</code>ä¸­æ‰€æœ‰å­—ç¬¦ï¼š<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/slide_window/lc76_2.jpg" alt></p>
<p>ç°åœ¨å¼€å§‹å¢åŠ <code>left</code>ï¼Œç¼©å°çª—å£<code>[left, right)</code>ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/slide_window/lc76_3.jpg" alt></p>
<p>ç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼Œ<code>left</code>ä¸å†ç»§ç»­ç§»åŠ¨ã€‚<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/slide_window/lc76_4.jpg" alt></p>
<p>ä¹‹åé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå…ˆç§»åŠ¨<code>right</code>ï¼Œå†ç§»åŠ¨<code>left</code>â€¦â€¦ ç›´åˆ°<code>right</code>æŒ‡é’ˆåˆ°è¾¾å­—ç¬¦ä¸²<code>S</code>çš„æœ«ç«¯ï¼Œç®—æ³•ç»“æŸã€‚<br>å¦‚æœä¸€ä¸ªå­—ç¬¦è¿›å…¥çª—å£ï¼Œåº”è¯¥å¢åŠ windowè®¡æ•°å™¨ï¼›å¦‚æœä¸€ä¸ªå­—ç¬¦å°†ç§»å‡ºçª—å£çš„æ—¶å€™ï¼Œåº”è¯¥å‡å°‘windowè®¡æ•°å™¨ï¼›å½“validæ»¡è¶³needæ—¶åº”è¯¥æ”¶ç¼©çª—å£ï¼›åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„æ—¶å€™æ›´æ–°æœ€ç»ˆç»“æœã€‚<br>ä¸‹é¢æ˜¯å®Œæ•´ä»£ç ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">minWindow</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; need, window;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : t) need[c]++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// è®°å½•æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>, len = INT_MAX;</span><br><span class="line">    <span class="keyword">while</span> (right &lt; s.size()) &#123;</span><br><span class="line">        <span class="comment">// c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦</span></span><br><span class="line">        <span class="keyword">char</span> c = s[right];</span><br><span class="line">        <span class="comment">// å³ç§»çª—å£</span></span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">        <span class="keyword">if</span> (need.count(c)) &#123;</span><br><span class="line">            window[c]++;</span><br><span class="line">            <span class="keyword">if</span> (window[c] == need[c])</span><br><span class="line">                valid++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span></span><br><span class="line">        <span class="keyword">while</span> (valid == need.size()) &#123;</span><br><span class="line">            <span class="comment">// åœ¨è¿™é‡Œæ›´æ–°æœ€å°è¦†ç›–å­ä¸²</span></span><br><span class="line">            <span class="keyword">if</span> (right - left &lt; len) &#123;</span><br><span class="line">                start = left;</span><br><span class="line">                len = right - left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">char</span> d = s[left];</span><br><span class="line">            <span class="comment">// å·¦ç§»çª—å£</span></span><br><span class="line">            left++;</span><br><span class="line">            <span class="comment">// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span></span><br><span class="line">            <span class="keyword">if</span> (need.count(d)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (window[d] == need[d])</span><br><span class="line">                    valid--;</span><br><span class="line">                window[d]--;</span><br><span class="line">            &#125;                    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°è¦†ç›–å­ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> len == INT_MAX ?</span><br><span class="line">        <span class="string">""</span> : s.substr(start, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘"><a href="#næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘" class="headerlink" title="næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘"></a>næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘</h2><p><a href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247485789&amp;idx=1&amp;sn=efc1167b85011c019e05d2c3db1039e6&amp;chksm=9bd7f755aca07e43405baeac62c76b44d8438fe8a69ae77e87cbb5121e71b6ee46f4c626eb98&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">å‚è€ƒ</a>  </p>
<h3 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h3><p>å…ˆè®¨è®ºä¸¤æ•°ä¹‹å’Œ, è§£å†³æ€è·¯å°±æ˜¯<strong>å…ˆæ’åº</strong>ç„¶åç”¨ä¸¤ä¸ªæŒ‡é’ˆä»é¦–å°¾ä¸¤ç«¯é€¼è¿‘<br><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/two_pointer/n_sum_1.jpg" alt><br>ä¸ºäº†é˜²æ­¢ç»“æœé‡å¤, æŒ‡é’ˆåº”è¯¥å‘ä¸Šå›¾è¿™æ ·ç§»åŠ¨<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="comment">// nums æ•°ç»„å¿…é¡»æœ‰åº</span></span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>, hi = nums.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> sum = nums[lo] + nums[hi];</span><br><span class="line">        <span class="keyword">int</span> left = nums[lo], right = nums[hi];</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.push_back(&#123;left, right&#125;);</span><br><span class="line">            <span class="comment">// è·³è¿‡æ‰€æœ‰é‡å¤çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ä¸‰æ•°ä¹‹å’Œ"><a href="#ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="ä¸‰æ•°ä¹‹å’Œ"></a>ä¸‰æ•°ä¹‹å’Œ</h3><p>ç¡®å®šäº†ç¬¬ä¸€ä¸ªæ•°å­—ä¹‹åï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªæ•°å­—å¯ä»¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å°±æ˜¯å’Œä¸º <code>target - nums[i]</code>çš„ä¸¤ä¸ªæ•°å­—å‘—, æ­¤æ—¶<code>threeSum</code>å‡½æ•°çš„å®ç°æ€è·¯å°±å‡ºæ¥äº†:<br>å…ˆå¯¹æ•°ç»„æ’åº, ç„¶åéå†æ•°ç»„, ç¡®å®šå¥½ç¬¬ä¸€ä¸ªæ•°å­—, åé¢ä¸¤ä¸ªæ•°å­—è¿™ä¸¤ä¸ªæ•°å­—ç”¨<code>twoSum</code>çš„åŒæŒ‡é’ˆæ€è·¯æ¥æ±‚</p>
<h3 id="å››æ•°ä¹‹å’Œ"><a href="#å››æ•°ä¹‹å’Œ" class="headerlink" title="å››æ•°ä¹‹å’Œ"></a>å››æ•°ä¹‹å’Œ</h3><p>å…ˆå¯¹æ•°ç»„æ’åº, ç„¶åéå†æ•°ç»„, ç¡®å®šå¥½ç¬¬ä¸€ä¸ªæ•°å­—, åé¢ä¸‰ä¸ªæ•°å­—è¿™ä¸¤ä¸ªæ•°å­—ç”¨<code>threeSum</code>å‡½æ•°æ¥æ±‚</p>
<h3 id="næ•°ä¹‹å’Œ"><a href="#næ•°ä¹‹å’Œ" class="headerlink" title="næ•°ä¹‹å’Œ"></a>næ•°ä¹‹å’Œ</h3><p>ä»¥ä¸‹ä»£ç çœ‹èµ·æ¥å¾ˆé•¿ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠä¹‹å‰çš„é¢˜ç›®è§£æ³•åˆå¹¶èµ·æ¥äº†ï¼Œn == 2 æ—¶æ˜¯ twoSum çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œn &gt; 2 æ—¶å°±æ˜¯ç©·ä¸¾ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œç„¶åé€’å½’è°ƒç”¨è®¡ç®— (n-1)Sumï¼Œç»„è£…ç­”æ¡ˆã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨è¿™ä¸ª nSum å‡½æ•°ä¹‹å‰ä¸€å®šè¦å…ˆç»™ nums æ•°ç»„æ’åºï¼Œå› ä¸º nSum æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå¦‚æœåœ¨ nSum å‡½æ•°é‡Œè°ƒç”¨æ’åºå‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡é€’å½’éƒ½ä¼šè¿›è¡Œæ²¡æœ‰å¿…è¦çš„æ’åºï¼Œæ•ˆç‡ä¼šéå¸¸ä½ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* æ³¨æ„ï¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹å‰ä¸€å®šè¦å…ˆç»™ nums æ’åº */</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; nSumTarget(</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> n, <span class="keyword">int</span> start, <span class="keyword">int</span> target) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> sz = nums.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="comment">// è‡³å°‘æ˜¯ 2Sumï¼Œä¸”æ•°ç»„å¤§å°ä¸åº”è¯¥å°äº n</span></span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span> || sz &lt; n) <span class="keyword">return</span> res;</span><br><span class="line">    <span class="comment">// 2Sum æ˜¯ base case</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// åŒæŒ‡é’ˆé‚£ä¸€å¥—æ“ä½œ</span></span><br><span class="line">        <span class="keyword">int</span> lo = start, hi = sz - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = nums[lo] + nums[hi];</span><br><span class="line">            <span class="keyword">int</span> left = nums[lo], right = nums[hi];</span><br><span class="line">            <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res.push_back(&#123;left, right&#125;);</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// n &gt; 2 æ—¶ï¼Œé€’å½’è®¡ç®— (n-1)Sum çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; sz; i++) &#123;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; </span><br><span class="line">                sub = nSumTarget(nums, n - <span class="number">1</span>, i + <span class="number">1</span>, target - nums[i]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr : sub) &#123;</span><br><span class="line">                <span class="comment">// (n-1)Sum åŠ ä¸Š nums[i] å°±æ˜¯ nSum</span></span><br><span class="line">                arr.push_back(nums[i]);</span><br><span class="line">                res.push_back(arr);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; sz - <span class="number">1</span> &amp;&amp; nums[i] == nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å…¶ä»–ç±»å‹ç»å…¸é¢˜"><a href="#å…¶ä»–ç±»å‹ç»å…¸é¢˜" class="headerlink" title="å…¶ä»–ç±»å‹ç»å…¸é¢˜"></a>å…¶ä»–ç±»å‹ç»å…¸é¢˜</h1><h2 id="ç”¨Rand7å®ç°Rand10"><a href="#ç”¨Rand7å®ç°Rand10" class="headerlink" title="ç”¨Rand7å®ç°Rand10"></a>ç”¨Rand7å®ç°Rand10</h2><p><a href="https://leetcode-cn.com/problems/implement-rand10-using-rand7/" target="_blank" rel="noopener">lc470, medium</a><br>å·²æœ‰æ–¹æ³• rand7 å¯ç”Ÿæˆ 1 åˆ° 7 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ï¼Œè¯•å†™ä¸€ä¸ªæ–¹æ³• rand10 ç”Ÿæˆ 1 åˆ° 10 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ã€‚</p>
<ul>
<li><a href="https://leetcode-cn.com/problems/implement-rand10-using-rand7/solution/xiang-xi-si-lu-ji-you-hua-si-lu-fen-xi-zhu-xing-ji/" target="_blank" rel="noopener">å‚è€ƒ</a></li>
<li><a href="https://leetcode-cn.com/problems/implement-rand10-using-rand7/solution/cong-zui-ji-chu-de-jiang-qi-ru-he-zuo-dao-jun-yun-/" target="_blank" rel="noopener">å‚è€ƒ</a></li>
</ul>
<p>ä¸ºä»€ä¹ˆè¿™é“é¢˜ä¸ç®€å•?  </p>
<p>ç°åœ¨è¦ä» rand7() åˆ° rand10()ï¼Œä¹Ÿè¦æ±‚æ˜¯ç­‰æ¦‚ç‡çš„ï¼Œé‚£åªè¦æˆ‘ä»¬æŠŠå°çš„æ•°æ˜ å°„åˆ°ä¸€ä¸ªå¤§çš„æ•°å°±å¥½åŠäº†ï¼Œé‚£é¦–å…ˆæƒ³åˆ°çš„åŠæ³•æ˜¯ä¹˜ä¸ªä¸¤å€è¯•ä¸€è¯•ï¼Œæ¯ä¸ª rand7() å®ƒèƒ½ç”Ÿæˆæ•°çš„èŒƒå›´æ˜¯ 1ï½7ï¼Œrand ä¸¤æ¬¡ï¼Œé‚£ä¹ˆæ•°çš„èŒƒå›´å°±å˜ä¸º 2ï½14ï¼Œå“¦ï¼Œä½ å¯èƒ½å‘ç°æ²¡æœ‰ 1 äº†ï¼Œæƒ³è¦å†å‡å»ä¸ª 1 æ¥å¼¥è¡¥ï¼Œ<br><code>rand(7)+rand(7)-1</code>ï¼Œå…¶å®è¿™æ ·æ˜¯é”™è¯¯çš„åšæ³•ï¼Œå› ä¸ºå¯¹äºæ•°å­— 5 è¿™ç§ï¼Œä½ æœ‰ä¸¤ç§ç»„åˆæ–¹å¼ (2+3 or 3+2)ï¼Œè€Œå¯¹äº 14ï¼Œä½ åªæœ‰ä¸€ç§ç»„åˆæ–¹å¼(7+7)ï¼Œå®ƒå¹¶ä¸æ˜¯ç­‰æ¦‚ç‡çš„ï¼Œé‚£ä¹ˆç®€å•çš„åŠ å‡æ³•ä¸èƒ½ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¼šä½¿å¾—æ¦‚ç‡ä¸ä¸€è‡´ï¼Œ</p>
<p>ä¸‹é¢æˆ‘ä»¬ç³»ç»Ÿçš„æ¥åˆ†æ:  </p>
<h3 id="Part1"><a href="#Part1" class="headerlink" title="Part1"></a>Part1</h3><p>å‡è®¾å·²çŸ¥<code>rand2()</code>å¯ä»¥<strong>å‡åŒ€</strong>çš„ç”Ÿæˆ [1,2] çš„éšæœºæ•°ï¼Œç°åœ¨æƒ³å‡åŒ€çš„ç”Ÿæˆ [1,4] çš„éšæœºæ•°ï¼Œè¯¥å¦‚ä½•è€ƒè™‘ï¼Ÿ</p>
<p>æˆ‘æƒ³å¦‚æœä½ ä¹Ÿåƒæˆ‘ä¸€æ ·ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šè¿™ä¹ˆè€ƒè™‘â€”â€”ä»¤ä¸¤ä¸ª<code>rand2()</code>ç›¸åŠ ï¼Œå†åšä¸€äº›å¿…è¦çš„è¾¹è§’å¤„ç†ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rand2() + rand2() = ? ==&gt; [2,4]</span><br><span class="line">   1    +   1     = 2</span><br><span class="line">   1    +   2     = 3</span><br><span class="line">   2    +   1     = 3</span><br><span class="line">   2    +   2     = 4</span><br><span class="line"></span><br><span class="line">// ä¸ºäº†æŠŠç”Ÿæˆéšæœºæ•°çš„èŒƒå›´è§„çº¦æˆ[1,n]ï¼Œäºæ˜¯åœ¨ä¸Šä¸€æ­¥çš„ç»“æœåå‡1</span><br><span class="line">(rand2()-1) + rand2() = ? ==&gt; [1,3]</span><br><span class="line">   0       +   1     = 1</span><br><span class="line">   0       +   2     = 2</span><br><span class="line">   1       +   1     = 2</span><br><span class="line">   1       +   2     = 3</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•å¤„ç†çš„ç»“æœï¼Œæœ€è‡´å‘½çš„ç‚¹åœ¨äºâ€”â€”å…¶<strong>ç”Ÿæˆçš„ç»“æœä¸æ˜¯ç­‰æ¦‚ç‡çš„</strong>ã€‚åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œäº§ç”Ÿ 2 çš„æ¦‚ç‡æ˜¯ 50%ï¼Œè€Œäº§ç”Ÿ 1 å’Œ 3 çš„æ¦‚ç‡åˆ™åˆ†åˆ«æ˜¯ 25%ã€‚åŸå› å½“ç„¶ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œç”±äºæŸäº›å€¼ä¼šæœ‰å¤šç§ç»„åˆï¼Œå› æ­¤ä»…é ç®€å•çš„ç›¸åŠ å¤„ç†ä¼šå¯¼è‡´ç»“æœä¸æ˜¯ç­‰æ¦‚ç‡çš„ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å…¶ä»–çš„æ–¹æ³•äº†ã€‚</p>
<p>ä»”ç»†è§‚å¯Ÿä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°è¯•å¯¹ <code>(rand2()-1)</code> è¿™éƒ¨åˆ†ä¹˜ä»¥ 2ï¼Œæ”¹åŠ¨åå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(rand2()-1) Ã— 2 + rand2() = ? ==&gt; [1,3]</span><br><span class="line">   0            +   1     = 1</span><br><span class="line">   0            +   2     = 2</span><br><span class="line">   2            +   1     = 3</span><br><span class="line">   2            +   2     = 4</span><br></pre></td></tr></table></figure>
<p>ç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œå¥‡æ€ªçš„çŸ¥è¯†å¢åŠ äº†ã€‚é€šè¿‡è¿™æ ·çš„å¤„ç†ï¼Œå¾—åˆ°çš„ç»“æœæ°æ˜¯ [1,4] çš„èŒƒå›´ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°éƒ½æ˜¯ç­‰æ¦‚ç‡å–åˆ°çš„ã€‚å› æ­¤ï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡<code>rand2()</code>å®ç°<code>rand4()</code>ã€‚</p>
<p>ä¹Ÿè®¸è¿™ä¹ˆå¤„ç†åªæ˜¯æˆ‘è¿æ°”å¥½ï¼Œè€Œä¸å…·æœ‰æ™®é€‚æ€§ï¼Ÿé‚£å°±å¤šæ¥å°è¯•å‡ ä¸ªä¾‹å­ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(rand9()-1) Ã— 7 + rand7() = result</span><br><span class="line">     a               b</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†è¡¨ç¤ºæ–¹ä¾¿ï¼Œç°å°†<code>rand9()-1</code>è¡¨ç¤ºä¸º aï¼Œå°†<code>rand7()</code>è¡¨ç¤ºä¸º bã€‚è®¡ç®—è¿‡ç¨‹è¡¨ç¤ºæˆäºŒç»´çŸ©é˜µï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/img/algo_newbie/misc/randint_generator_1.png" alt></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªä¾‹å­å¯ä»¥ç­‰æ¦‚ç‡çš„ç”Ÿæˆ [1,63] èŒƒå›´çš„éšæœºæ•°ã€‚</p>
<h3 id="è§„å¾‹"><a href="#è§„å¾‹" class="headerlink" title="è§„å¾‹"></a>è§„å¾‹</h3><p>å†æç‚¼ä¸€ä¸‹ï¼Œå¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªè§„å¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å·²çŸ¥ rand_N() å¯ä»¥ç­‰æ¦‚ç‡çš„ç”Ÿæˆ[1, N]èŒƒå›´çš„éšæœºæ•°</span><br><span class="line">é‚£ä¹ˆï¼š</span><br><span class="line">(rand_X() - 1) Ã— Y + rand_Y() ==&gt; å¯ä»¥ç­‰æ¦‚ç‡çš„ç”Ÿæˆ[1, X * Y]èŒƒå›´çš„éšæœºæ•°</span><br><span class="line">å³å®ç°äº† rand_XY()</span><br></pre></td></tr></table></figure></p>
<h3 id="Part2"><a href="#Part2" class="headerlink" title="Part2"></a>Part2</h3><p>é‚£ä¹ˆæƒ³åˆ°é€šè¿‡<code>rand4()</code>æ¥å®ç°<code>rand2()</code>å‘¢ï¼Ÿè¿™ä¸ªå°±å¾ˆç®€å•äº†ï¼Œå·²çŸ¥<code>rand4()</code>ä¼šå‡åŒ€äº§ç”Ÿ [1,4] çš„éšæœºæ•°ï¼Œé€šè¿‡å–ä½™ï¼Œå†åŠ  1 å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œç»“æœä¹Ÿæ˜¯ç­‰æ¦‚ç‡çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rand4() % 2 + 1 = ?</span><br><span class="line">   1 % 2    + 1 = 2</span><br><span class="line">   2 % 2    + 1 = 1</span><br><span class="line">   3 % 2    + 1 = 2</span><br><span class="line">   4 % 2    + 1 = 1</span><br></pre></td></tr></table></figure>
<p>äº‹å®ä¸Šï¼Œåªè¦<code>rand_N()</code>ä¸­ N æ˜¯ 2 çš„å€æ•°ï¼Œå°±éƒ½å¯ä»¥ç”¨æ¥å®ç°<code>rand2()</code>ï¼Œåä¹‹ï¼Œè‹¥ N ä¸æ˜¯ 2 çš„å€æ•°ï¼Œåˆ™äº§ç”Ÿçš„ç»“æœä¸æ˜¯ç­‰æ¦‚ç‡çš„ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rand6() % 2 + 1 = ?</span><br><span class="line">   1 % 2    + 1 = 2</span><br><span class="line">   2 % 2    + 1 = 1</span><br><span class="line">   3 % 2    + 1 = 2</span><br><span class="line">   4 % 2    + 1 = 1</span><br><span class="line">   5 % 2    + 1 = 2</span><br><span class="line">   6 % 2    + 1 = 1</span><br><span class="line"></span><br><span class="line">rand5() % 2 + 1 = ?</span><br><span class="line">   1 % 2    + 1 = 2</span><br><span class="line">   2 % 2    + 1 = 1</span><br><span class="line">   3 % 2    + 1 = 2</span><br><span class="line">   4 % 2    + 1 = 1</span><br><span class="line">   5 % 2    + 1 = 2</span><br></pre></td></tr></table></figure>
<h3 id="Part3"><a href="#Part3" class="headerlink" title="Part3"></a>Part3</h3><p>okï¼Œç°åœ¨å›åˆ°æœ¬é¢˜ä¸­ã€‚å·²çŸ¥<code>rand7()</code>ï¼Œè¦æ±‚é€šè¿‡<code>rand7()</code>æ¥å®ç°<code>rand10()</code>ã€‚</p>
<p>æœ‰äº†å‰é¢çš„åˆ†æï¼Œ<strong>è¦å®ç°<code>rand10()</code>ï¼Œå°±éœ€è¦å…ˆå®ç°<code>rand_N()</code>ï¼Œå¹¶ä¸”ä¿è¯ N å¤§äº 10 ä¸”æ˜¯ 10 çš„å€æ•°ã€‚è¿™æ ·å†é€šè¿‡<code>rand_N() % 10 + 1</code> å°±å¯ä»¥å¾—åˆ° [1,10] èŒƒå›´çš„éšæœºæ•°äº†</strong>ã€‚</p>
<p>è€Œå®ç°<code>rand_N()</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ part 1 ä¸­æ‰€è®²çš„æ–¹æ³•å¯¹<code>rand7()</code>è¿›è¡Œæ”¹é€ ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(rand7()-1) Ã— 7 + rand7()  ==&gt; rand49()</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·å®ç°çš„ N ä¸æ˜¯ 10 çš„å€æ•°å•Šï¼è¿™è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿè¿™é‡Œå°±æ¶‰åŠåˆ°äº† â€œ<strong>æ‹’ç»é‡‡æ ·</strong>â€ çš„çŸ¥è¯†äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ªé‡‡æ ·ç»“æœä¸åœ¨è¦æ±‚çš„èŒƒå›´å†…ï¼Œåˆ™ä¸¢å¼ƒå®ƒã€‚åŸºäºä¸Šé¢çš„è¿™äº›åˆ†æï¼Œå†å›å¤´çœ‹ä¸‹é¢çš„ä»£ç ï¼Œæƒ³å¿…æ˜¯ä¸éš¾ç†è§£äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é¦–å…ˆå¾—åˆ°ä¸€ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> num = (rand7() - <span class="number">1</span>) * <span class="number">7</span> + rand7();</span><br><span class="line">        <span class="comment">// åªè¦å®ƒè¿˜å¤§äº10ï¼Œé‚£å°±ç»™æˆ‘ä¸æ–­ç”Ÿæˆï¼Œå› ä¸ºæˆ‘åªè¦èŒƒå›´åœ¨1-10çš„ï¼Œæœ€åç›´æ¥è¿”å›å°±å¯ä»¥äº†</span></span><br><span class="line">        <span class="keyword">while</span> (num &gt; <span class="number">10</span>)&#123;</span><br><span class="line">            num = (rand7() - <span class="number">1</span>) * <span class="number">7</span> + rand7();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬çš„å‡½æ•°ä¼šå¾—åˆ° <code>1ï½49</code>ä¹‹é—´çš„æ•°ï¼Œè€Œæˆ‘ä»¬åªæƒ³å¾—åˆ° <code>1ï½10</code> ä¹‹é—´çš„æ•°ï¼Œè¿™ä¸€éƒ¨åˆ†å çš„æ¯”ä¾‹å¤ªå°‘äº†ï¼Œç®€è€Œè¨€ä¹‹ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½ï¼Œå¤ªæ…¢ï¼Œå¯èƒ½è¦ <code>while</code> å¾ªç¯å¾ˆå¤šæ¬¡ï¼Œé‚£ä¹ˆè§£å†³æ€è·¯å°±æ˜¯èˆå¼ƒä¸€éƒ¨åˆ†æ•°ï¼Œèˆå¼ƒ <code>41ï½49</code>ï¼Œå› ä¸ºæ˜¯ç‹¬ç«‹äº‹ä»¶ï¼Œæˆ‘ä»¬ç”Ÿæˆçš„ <code>1ï½40</code> ä¹‹é—´çš„æ•°å®ƒæ˜¯ç­‰æ¦‚ç‡çš„ï¼Œæˆ‘ä»¬æœ€åå®Œå…¨å¯ä»¥åˆ©ç”¨ <code>1ï½40</code> ä¹‹é—´çš„æ•°æ¥å¾—åˆ° <code>1ï½10</code> ä¹‹é—´çš„æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„ä»£ç å¯ä»¥æ”¹æˆä¸‹é¢è¿™æ ·<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = (rand7() - <span class="number">1</span>) * <span class="number">7</span> + rand7(); <span class="comment">// ç­‰æ¦‚ç‡ç”Ÿæˆ[1,49]èŒƒå›´çš„éšæœºæ•°</span></span><br><span class="line">            <span class="keyword">if</span>(num &lt;= <span class="number">40</span>) <span class="keyword">return</span> num % <span class="number">10</span> + <span class="number">1</span>; <span class="comment">// æ‹’ç»é‡‡æ ·ï¼Œå¹¶è¿”å›[1,10]èŒƒå›´çš„éšæœºæ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Part4-ä¼˜åŒ–"><a href="#Part4-ä¼˜åŒ–" class="headerlink" title="Part4: ä¼˜åŒ–"></a>Part4: ä¼˜åŒ–</h3><p>æ›´è¿›ä¸€æ­¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬èˆå¼ƒäº† 9 ä¸ªæ•°ï¼Œèˆå¼ƒçš„è¿˜æ˜¯æœ‰ç‚¹å¤šï¼Œæ•ˆç‡è¿˜æ˜¯ä¸é«˜ï¼Œæ€ä¹ˆæé«˜æ•ˆç‡å‘¢ï¼Ÿé‚£å°±æ˜¯èˆå¼ƒçš„æ•°æœ€å¥½å†å°‘ä¸€ç‚¹ï¼å› ä¸ºè¿™æ ·èƒ½è®© while å¾ªç¯å°‘è½¬å‡ æ¬¡ï¼Œé‚£ä¹ˆå¯¹äºå¤§äº 40 çš„éšæœºæ•°ï¼Œåˆ«èˆå¼ƒå‘€ï¼Œåˆ©ç”¨è¿™ 9 ä¸ªæ•°ï¼Œå†åˆ©ç”¨é‚£ä¸ªå…¬å¼æ“ä½œä¸€ä¸‹ï¼š</p>
<p><code>(å¤§äº40çš„éšæœºæ•° - 40 - 1) * 7 + rand7()</code></p>
<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ° 1âˆ’63 ä¹‹é—´çš„éšæœºæ•°ï¼Œåªè¦èˆå¼ƒ 3 ä¸ªå³å¯ï¼Œé‚£å¯¹äºè¿™ 3 ä¸ªèˆå¼ƒçš„ï¼Œè¿˜å¯ä»¥å†æ¥ä¸€è½®ï¼š</p>
<p><code>(å¤§äº60çš„éšæœºæ•° - 60 - 1) * 7 + rand7()</code></p>
<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ° 1âˆ’21 ä¹‹é—´çš„éšæœºæ•°ï¼Œåªè¦èˆå¼ƒ 1 ä¸ªå³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The rand7() API is already defined in the parent class SolBase.</span></span><br><span class="line"><span class="comment"> * public int rand7();</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a random integer in the range 1 to 7</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> num = (rand7() - <span class="number">1</span>) * <span class="number">7</span> + rand7();</span><br><span class="line">            <span class="comment">// å¦‚æœåœ¨40ä»¥å†…ï¼Œé‚£å°±ç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">if</span>(num &lt;= <span class="number">40</span>) <span class="keyword">return</span> <span class="number">1</span> + num % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// è¯´æ˜åˆšæ‰ç”Ÿæˆçš„åœ¨41-49ä¹‹é—´ï¼Œåˆ©ç”¨éšæœºæ•°å†æ“ä½œä¸€é</span></span><br><span class="line">            num = (num - <span class="number">40</span> - <span class="number">1</span>) * <span class="number">7</span> + rand7();</span><br><span class="line">            <span class="keyword">if</span>(num &lt;= <span class="number">60</span>) <span class="keyword">return</span> <span class="number">1</span> + num % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// è¯´æ˜åˆšæ‰ç”Ÿæˆçš„åœ¨61-63ä¹‹é—´ï¼Œåˆ©ç”¨éšæœºæ•°å†æ“ä½œä¸€é</span></span><br><span class="line">            num = (num - <span class="number">60</span> - <span class="number">1</span>) * <span class="number">7</span> + rand7();</span><br><span class="line">            <span class="keyword">if</span>(num &lt;= <span class="number">20</span>) <span class="keyword">return</span> <span class="number">1</span> + num % <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      


      

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Algo/" rel="tag"><i class="fa fa-tag"></i> Algo</a>
            
              <a href="/tags/noodle/" rel="tag"><i class="fa fa-tag"></i> noodle</a>
            
              <a href="/tags/LeetCode/" rel="tag"><i class="fa fa-tag"></i> LeetCode</a>
            
          </div>
        

        
        
        

        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/cache_db_consistency/" rel="next" title="Cacheå’ŒDBä¸€è‡´æ€§">
                  <i class="fa fa-chevron-left"></i> 
                  <p class="post-nav-pre-next-title">
                    Cacheå’ŒDBä¸€è‡´æ€§
                  </p> 
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/algo_practice/" rel="prev" title="ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ ">
                <p class="post-nav-pre-next-title">
                    ç®—æ³•ä¼ä¸šçœŸé¢˜å®æˆ˜ç»ƒä¹ 
                </p> 
                <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        

        
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA4MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjYwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0zNSAyNUg0NVYzNUgzNVYyNVoiIGZpbGw9IiNEREREREQiLz4KPC9zdmc+" data-src="/uploads/avatar.png" alt="Mike">
          </a>
          <p class="site-author-name" itemprop="name">Mike</p>
           
              <p class="site-description motion-element" itemprop="description">ğŸš™ ğŸš— ğŸ’¨ ğŸ’¨ If you want to create a blog like this, just follow my open-source project, "hexo-theme-neo", click the GitHub button below and check it out ^_^ . It is recommended to use Chrome, Safari, or Edge to read this blog since this blog was developed on Edge (Chromium kernel version) and tested on Safari.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">298</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">111</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">about</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/no5ix" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://open.spotify.com/user/313duq77ekebrfyak3xijqewzss4?si=e7653b829a9747bf" target="_blank" title="Spotify">
                  
                    <i class="fa fa-fw fa-spotify"></i>
                  
                    
                      Spotify
                    
                </a>
              </span>
            
          
          
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- ç½‘æ˜“äº‘éŸ³ä¹ -->

        </div>

        
        

        
        

        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å®æˆ˜ç»ƒä¹ "><span class="nav-text">å®æˆ˜ç»ƒä¹ </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç "><span class="nav-text">æœ¬æ–‡å®Œæ•´å‚è€ƒä»£ç </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°"><span class="nav-text">pythonè§£é¢˜å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—ä¸å‡½æ•°</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ•°æ®ç»“æ„"><span class="nav-text">æ•°æ®ç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å“ˆå¸Œè¡¨"><span class="nav-text">å“ˆå¸Œè¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è´Ÿè½½å› å­ä¸rehash"><span class="nav-text">è´Ÿè½½å› å­ä¸rehash</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ"><span class="nav-text">å¼€æ”¾å¯»å€æ³•ä¸é“¾è¡¨æ³•æ¯”è¾ƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è·³è¡¨"><span class="nav-text">è·³è¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–"><span class="nav-text">è·³è¡¨å¢åŠ æ•°æ®æ—¶ç´¢å¼•æ€ä¹ˆå˜åŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„"><span class="nav-text">è·³è¡¨æ€ä¹ˆæ”¯æŒæŸ¥è¯¢æ’åçš„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AVLæ ‘"><span class="nav-text">AVLæ ‘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çº¢é»‘æ ‘"><span class="nav-text">çº¢é»‘æ ‘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bæ ‘å’ŒB-æ ‘"><span class="nav-text">Bæ ‘å’ŒB+æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•"><span class="nav-text">ä¸ºä»€ä¹ˆè¯´Bç±»æ ‘æ›´é€‚åˆæ•°æ®åº“ç´¢å¼•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒå‰æ ‘"><span class="nav-text">äºŒå‰æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†"><span class="nav-text">ç»Ÿä¸€å½¢å¼çš„äºŒå‰æ ‘å‰ä¸­ååºè¿­ä»£éå†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äºŒå‰æ ‘å±‚åºéå†"><span class="nav-text">äºŒå‰æ ‘å±‚åºéå†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äºŒå‰æ ‘åè½¬"><span class="nav-text">äºŒå‰æ ‘åè½¬</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é“¾è¡¨"><span class="nav-text">é“¾è¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯"><span class="nav-text">å¸¸è§è€ƒé¢˜ä¸è§£é¢˜æ€è·¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é“¾è¡¨åè½¬"><span class="nav-text">é“¾è¡¨åè½¬</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å›¾è®º"><span class="nav-text">å›¾è®º</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å›¾çš„è¡¨ç¤º"><span class="nav-text">å›¾çš„è¡¨ç¤º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›¾çš„ä»£ç å®ç°"><span class="nav-text">å›¾çš„ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs"><span class="nav-text">å›¾çš„æ·±åº¦ä¼˜å…ˆéå†dfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs"><span class="nav-text">å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†bfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‹“æ‰‘æ’åº"><span class="nav-text">æ‹“æ‰‘æ’åº</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å•è°ƒæ ˆ"><span class="nav-text">å•è°ƒæ ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜"><span class="nav-text">é˜Ÿåˆ—ä¸­æ•°å¸½å­é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°"><span class="nav-text">å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜"><span class="nav-text">æ¥é›¨æ°´-ç»å…¸å•è°ƒæ ˆé¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜"><span class="nav-text">æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢é—®é¢˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¹¶æŸ¥é›†"><span class="nav-text">å¹¶æŸ¥é›†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Findæ“ä½œ"><span class="nav-text">Findæ“ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unionæ“ä½œ"><span class="nav-text">Unionæ“ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©"><span class="nav-text">å¹¶æŸ¥é›†ä¼˜åŒ–-è·¯å¾„å‹ç¼©</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¹¶æŸ¥é›†ä»£ç å®ç°"><span class="nav-text">å¹¶æŸ¥é›†ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¹¶æŸ¥é›†å®æˆ˜"><span class="nav-text">å¹¶æŸ¥é›†å®æˆ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜"><span class="nav-text">å²›å±¿æ•°é‡å’Œæœ‹å‹åœˆæ•°é‡é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§"><span class="nav-text">ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ä½è¿ç®—"><span class="nav-text">ä½è¿ç®—</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½è¿ç®—çš„å¥—è·¯æŠ€å·§"><span class="nav-text">ä½è¿ç®—çš„å¥—è·¯æŠ€å·§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§"><span class="nav-text">pythonè´Ÿæ•°å­˜å‚¨ç‰¹æ®Šæ€§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°"><span class="nav-text">äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"><span class="nav-text">ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—"><span class="nav-text">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å‡ºç°å¥‡æ•°æ¬¡"><span class="nav-text">å‡ºç°å¥‡æ•°æ¬¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1"><span class="nav-text">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2"><span class="nav-text">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3"><span class="nav-text">åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç³»åˆ—3</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ’åºç®—æ³•"><span class="nav-text">æ’åºç®—æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å„ç±»æ’åºæ€»è§ˆ"><span class="nav-text">å„ç±»æ’åºæ€»è§ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ"><span class="nav-text">ä¸å¸¸ç”¨ç®—æ³•ä¸€è§ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å†’æ³¡æ’åº"><span class="nav-text">å†’æ³¡æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é€‰æ‹©æ’åº"><span class="nav-text">é€‰æ‹©æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸Œå°”æ’åº"><span class="nav-text">å¸Œå°”æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è®¡æ•°æ’åº"><span class="nav-text">è®¡æ•°æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¡¶æ’åº"><span class="nav-text">æ¡¶æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸºæ•°æ’åº"><span class="nav-text">åŸºæ•°æ’åº</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“"><span class="nav-text">å®ç”¨æ’åºç®—æ³•è¦ç‚¹æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ’å…¥æ’åº"><span class="nav-text">æ’å…¥æ’åº</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ’æ’ä¼˜åŒ–"><span class="nav-text">æ’æ’ä¼˜åŒ–</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å½’å¹¶æ’åº"><span class="nav-text">å½’å¹¶æ’åº</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹"><span class="nav-text">å½’å¹¶æ’åºçš„mergeè¿‡ç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°"><span class="nav-text">å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°"><span class="nav-text">å½’å¹¶è‡ªé¡¶å‘ä¸‹çš„ä¼˜åŒ–å®ç°</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°"><span class="nav-text">å½’å¹¶è‡ªåº•å‘ä¸Šçš„å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°"><span class="nav-text">å½’å¹¶è‡ªåº•å‘ä¸Šçš„ä¼˜åŒ–å®ç°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¿«é€Ÿæ’åº"><span class="nav-text">å¿«é€Ÿæ’åº</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ"><span class="nav-text">å¿«æ’æ•ˆç‡å¾ˆå·®çš„æƒ…å†µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ™®é€šå¿«æ’"><span class="nav-text">æ™®é€šå¿«æ’</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ™®é€šå¿«æ’çš„ä¼˜åŒ–"><span class="nav-text">æ™®é€šå¿«æ’çš„ä¼˜åŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜"><span class="nav-text">è§£å†³æ™®é€šå¿«æ’æœ‰å¤§é‡ç›¸åŒå…ƒç´ æ—¶çš„æ€§èƒ½é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"><span class="nav-text">åŒè·¯å¿«æ’-åˆæ­¥è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜"><span class="nav-text">ä¸‰è·¯å¿«æ’-å®Œå…¨è§£å†³æœ‰å¤§é‡ç›¸åŒå…ƒç´ çš„æ€§èƒ½é—®é¢˜</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å †æ’åº"><span class="nav-text">å †æ’åº</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TopKé—®é¢˜"><span class="nav-text">TopKé—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å †æ’åºçš„å¤æ‚åº¦"><span class="nav-text">å †æ’åºçš„å¤æ‚åº¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å †åŒ–"><span class="nav-text">å †åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å †åŒ–é€’å½’å†™æ³•"><span class="nav-text">å †åŒ–é€’å½’å†™æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å †åŒ–è¿­ä»£å†™æ³•"><span class="nav-text">å †åŒ–è¿­ä»£å†™æ³•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å»ºå †"><span class="nav-text">å»ºå †</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°"><span class="nav-text">å †æ’åºåŸå€æ’åºçš„å…·ä½“å®ç°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é€’å½’è§£é¢˜æ€è·¯"><span class="nav-text">é€’å½’è§£é¢˜æ€è·¯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é€’å½’ä¸äºŒå‰æ ‘"><span class="nav-text">é€’å½’ä¸äºŒå‰æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒå‰æ ‘é€’å½’æŠ€å·§"><span class="nav-text">äºŒå‰æ ‘é€’å½’æŠ€å·§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜"><span class="nav-text">lc236-LCAæœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘"><span class="nav-text">lc106-ååºä¸­åºæ±‚åŸäºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc112-path-sum"><span class="nav-text">lc112-path-sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc257-binary-tree-paths"><span class="nav-text">lc257-binary-tree-paths</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc437-path-sum-3"><span class="nav-text">lc437-path-sum-3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„"><span class="nav-text">è¿›é˜¶-æ±‚path-sum-3çš„æ‰€æœ‰è·¯å¾„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><span class="nav-text">lc114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é€’å½’ä¸å›æº¯"><span class="nav-text">é€’å½’ä¸å›æº¯</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å›æº¯ç®—æ³•æ¡†æ¶"><span class="nav-text">å›æº¯ç®—æ³•æ¡†æ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ’åˆ—é—®é¢˜åˆé›†"><span class="nav-text">æ’åˆ—é—®é¢˜åˆé›†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿"><span class="nav-text">æ’åˆ—é—®é¢˜ä»£ç æ¨¡æ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lc46-ç»å…¸å…¨æ’åˆ—"><span class="nav-text">lc46-ç»å…¸å…¨æ’åˆ—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿›é˜¶-lc47-å…¨æ’åˆ—2"><span class="nav-text">è¿›é˜¶-lc47-å…¨æ’åˆ—2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—"><span class="nav-text">æ¯”ç‹—-å¤šæ•°ç»„ä¸”å…ƒç´ é—´æœ‰é¡ºåºè¦æ±‚çš„å…¨æ’åˆ—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ"><span class="nav-text">æ ‘å½¢é—®é¢˜ç”µè¯å·ç å­—æ¯ç»„åˆ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»„åˆé—®é¢˜åˆé›†"><span class="nav-text">ç»„åˆé—®é¢˜åˆé›†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿"><span class="nav-text">ç»„åˆé—®é¢˜ä»£ç æ¨¡æ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lc77-ç»å…¸ç»„åˆé—®é¢˜"><span class="nav-text">lc77-ç»å…¸ç»„åˆé—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ"><span class="nav-text">ç»„åˆé—®é¢˜è§£å†³ä¼˜åŒ–-å‰ªæ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lc39-ç»„åˆæ€»å’Œ"><span class="nav-text">lc39-ç»„åˆæ€»å’Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2"><span class="nav-text">è¿›é˜¶-lc40-ç»„åˆæ€»å’Œ2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ"><span class="nav-text">å¤šä¸ªæ•°ç»„æŠ½ä¸ªæ•°æ€»å’Œ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ’åºç»„åˆæ€»ç»“"><span class="nav-text">æ’åºç»„åˆæ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜"><span class="nav-text">å²›å±¿æ•°é‡-ç»å…¸floodfillé—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»å…¸Nçš‡åé—®é¢˜"><span class="nav-text">ç»å…¸Nçš‡åé—®é¢˜</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯"><span class="nav-text">åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#é‡å å­é—®é¢˜æ€§è´¨"><span class="nav-text">é‡å å­é—®é¢˜æ€§è´¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æœ€ä¼˜å­ç»“æ„æ€§è´¨"><span class="nav-text">æœ€ä¼˜å­ç»“æ„æ€§è´¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤"><span class="nav-text">è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜æ­¥éª¤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜"><span class="nav-text">ç¬¬ä¸€æ­¥-æ–­å®šæ˜¯å¦ä¸ºåŠ¨è§„é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><span class="nav-text">ç¬¬äºŒæ­¥-æ„é€ çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°"><span class="nav-text">ç¬¬ä¸‰æ­¥-ç”¨å¤‡å¿˜å½•æˆ–è€…DPè¡¨æ¥ä»£ç å®ç°</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1"><span class="nav-text">ç†è§£åŠ¨æ€è§„åˆ’-è®²è§£å‡‘é›¶é’±1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æçŠ¶æ€è½¬ç§»"><span class="nav-text">åˆ†æçŠ¶æ€è½¬ç§»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æš´åŠ›é€’å½’è§£æ³•"><span class="nav-text">æš´åŠ›é€’å½’è§£æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸¦å¤‡å¿˜å½•çš„é€’å½’"><span class="nav-text">å¸¦å¤‡å¿˜å½•çš„é€’å½’</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dpæ•°ç»„çš„è¿­ä»£è§£æ³•"><span class="nav-text">dpæ•°ç»„çš„è¿­ä»£è§£æ³•</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹"><span class="nav-text">åŠ¨æ€è§„åˆ’å„ç§é¢˜å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#èƒŒåŒ…é—®é¢˜ç³»åˆ—"><span class="nav-text">èƒŒåŒ…é—®é¢˜ç³»åˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-1èƒŒåŒ…é—®é¢˜"><span class="nav-text">0-1èƒŒåŒ…é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ºä»€ä¹ˆæ˜¯i-1"><span class="nav-text">ä¸ºä»€ä¹ˆæ˜¯i-1</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®Œå…¨èƒŒåŒ…é—®é¢˜"><span class="nav-text">å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1"><span class="nav-text">ä¸ºä»€ä¹ˆå®Œå…¨èƒŒåŒ…æ˜¯iè€Œä¸æ˜¯i-1</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼"><span class="nav-text">èƒŒåŒ…é—®é¢˜çš„å…¶ä»–å½¢å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#èƒŒåŒ…é—®é¢˜å®æˆ˜"><span class="nav-text">èƒŒåŒ…é—®é¢˜å®æˆ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜"><span class="nav-text">åˆ†å‰²ç­‰å’Œå­é›†-æ°å¥½è£…æ»¡0-1èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜"><span class="nav-text">å‡‘é‡‘å¸1-æ°å¥½è£…æ»¡çš„å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜"><span class="nav-text">å‡‘é›¶é’±2-æ°å¥½è£…æ»¡å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…"><span class="nav-text">ä¸€å’Œé›¶-äºŒç»´0-1èƒŒåŒ…</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—"><span class="nav-text">è‚¡ç¥¨åˆ©æ¶¦æœ€å¤§ç³»åˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#stockæ€»ç»“"><span class="nav-text">stockæ€»ç»“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜"><span class="nav-text">stock4-æœ€é€šç”¨çš„è‚¡ç¥¨é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock1"><span class="nav-text">stock1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock2"><span class="nav-text">stock2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock3"><span class="nav-text">stock3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock5"><span class="nav-text">stock5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stock6"><span class="nav-text">stock6</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ‰“å®¶åŠ«èˆç³»åˆ—"><span class="nav-text">æ‰“å®¶åŠ«èˆç³»åˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rob1"><span class="nav-text">rob1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—"><span class="nav-text">rob1è¿›é˜¶-æ±‚å‡ºå…·ä½“å·å“ªäº›æˆ¿å­çš„å­åºåˆ—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rob2"><span class="nav-text">rob2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rob3"><span class="nav-text">rob3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—"><span class="nav-text">LISé—®é¢˜-æœ€é•¿ä¸Šå‡å­åºåˆ—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨"><span class="nav-text">LIPé—®é¢˜-å­—è·³ä¸€é¢-çœŸæ­£ç†è§£é€’æ¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜"><span class="nav-text">LCSé—®é¢˜-æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—"><span class="nav-text">æ±‚LCSå…·ä½“çš„æ˜¯å“ªä¸ªå­åºåˆ—</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜"><span class="nav-text">è°·æ­Œç»å…¸æ‰”é¸¡è›‹é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è"><span class="nav-text">æ‰”é¸¡è›‹é€†å‘æ€è·¯2-æ¨è</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ•´æ•°æ‹†åˆ†"><span class="nav-text">æ•´æ•°æ‹†åˆ†</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#åŒæŒ‡é’ˆé¢˜å‹"><span class="nav-text">åŒæŒ‡é’ˆé¢˜å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"><span class="nav-text">ä¸¤ä¸ªæ— åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ"><span class="nav-text">ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å…¬å…±å…ƒç´ é›†åˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®"><span class="nav-text">æœ€å°è¦†ç›–å­ä¸²-æ»‘åŠ¨çª—å£å…¸å‹é¢˜ç›®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘"><span class="nav-text">næ•°ä¹‹å’Œé—®é¢˜-åŒæŒ‡é’ˆä»ä¸¤ç«¯é€¼è¿‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸¤æ•°ä¹‹å’Œ"><span class="nav-text">ä¸¤æ•°ä¹‹å’Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸‰æ•°ä¹‹å’Œ"><span class="nav-text">ä¸‰æ•°ä¹‹å’Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å››æ•°ä¹‹å’Œ"><span class="nav-text">å››æ•°ä¹‹å’Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#næ•°ä¹‹å’Œ"><span class="nav-text">næ•°ä¹‹å’Œ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å…¶ä»–ç±»å‹ç»å…¸é¢˜"><span class="nav-text">å…¶ä»–ç±»å‹ç»å…¸é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”¨Rand7å®ç°Rand10"><span class="nav-text">ç”¨Rand7å®ç°Rand10</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Part1"><span class="nav-text">Part1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è§„å¾‹"><span class="nav-text">è§„å¾‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Part2"><span class="nav-text">Part2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Part3"><span class="nav-text">Part3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Part4-ä¼˜åŒ–"><span class="nav-text">Part4: ä¼˜åŒ–</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mike</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/mediumzoom/medium-zoom.js?v=1.1.0"></script>





  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

    <script src="/js/src/local-search.js"></script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>






<script type="text/javascript" src="/js/src/headroom.js"></script>

<!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ -->
<script type="text/javascript" src="/js/src/code-highlight-modification.js"></script>

<!-- Flashcards Script -->
<script type="text/javascript" src="/js/src/flashcards.js"></script>
